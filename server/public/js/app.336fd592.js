(function(e){function t(t){for(var n,i,s=t[0],o=t[1],u=t[2],d=0,b=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&b.push(c[i][0]),c[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var o=r[s];0!==c[o]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},c={app:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=o;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0547":function(e,t,r){},"05bd":function(e,t,r){},"0bef":function(e,t,r){},"0fd8":function(e,t,r){"use strict";r("ecfd")},"13fd":function(e,t,r){},"15b6":function(e,t,r){"use strict";r("407f")},"16ea":function(e,t,r){"use strict";r("81a2")},"19c8":function(e,t,r){"use strict";r("0547")},"1aa8":function(e,t,r){"use strict";r("301a")},"20e8":function(e,t,r){},2721:function(e,t,r){},"2c48":function(e,t,r){"use strict";r("13fd")},"2d0c":function(e,t,r){"use strict";r("fd98")},"301a":function(e,t,r){},"3c2d":function(e,t,r){},"407f":function(e,t,r){},"45f9":function(e,t,r){"use strict";r("3c2d")},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function c(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=a,e.exports=c,c.id="4678"},"494f":function(e,t,r){},"4ecb":function(e,t,r){},5597:function(e,t,r){"use strict";r("0bef")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c={class:"relative overflow-hidden"},a=Object(n["h"])("i",{class:"fas fa-chevron-up"},null,-1),i=[a];function s(e,t,r,a,s,o){var u=Object(n["B"])("Menu"),l=Object(n["B"])("Header"),d=Object(n["B"])("Notifications"),b=Object(n["B"])("router-view"),h=Object(n["B"])("Footer");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(u,{onCloseMenu:o.closeMenu,open:s.menu},null,8,["onCloseMenu","open"]),Object(n["k"])(l,{onOpenMenu:o.openMenu},null,8,["onOpenMenu"]),Object(n["h"])("div",c,[Object(n["k"])(d,{notifications:s.notifications},null,8,["notifications"]),Object(n["h"])("div",{class:Object(n["q"])(["container max-w-4xl mx-auto p-2 my-8",{fading:s.fade}])},[Object(n["k"])(b,{onNotify:o.addNotification},null,8,["onNotify"])],2)]),Object(n["h"])("button",{class:"up-button fixed items-center justify-center text-xl bottom-5 right-5 z-50 w-8 h-8 text-gray-200 bg-green-400 hover:bg-green-500 border border-green-600 rounded-lg",onClick:t[0]||(t[0]=function(){return o.scrollUp&&o.scrollUp.apply(o,arguments)})},i),Object(n["k"])(h)],64)}r("a434");var o=function(e){return Object(n["x"])("data-v-76da8a8f"),e=e(),Object(n["v"])(),e},u={class:"bg-gray-50 border-b border-gray-400"},l={class:"container max-w-4xl mx-auto p-6 flex flex-row justify-between flex-wrap items-baseline"},d=o((function(){return Object(n["h"])("i",{class:"fas fa-bars"},null,-1)})),b=[d],h={class:"main-links"},p=o((function(){return Object(n["h"])("span",{class:"text-4xl"},"Novice",-1)})),m=o((function(){return Object(n["h"])("span",{class:"text-xl uppercase hover:underline"},"Domov",-1)})),f=o((function(){return Object(n["h"])("span",{class:"text-xl uppercase hover:underline"},"Šport",-1)})),j=o((function(){return Object(n["h"])("span",{class:"text-xl uppercase hover:underline"},"Danes",-1)})),g={class:"flex content-center"},O=o((function(){return Object(n["h"])("button",{class:"account-link"},[Object(n["h"])("i",{class:"fas fa-sign-in-alt"}),Object(n["j"])(" Prijava ")],-1)})),v=o((function(){return Object(n["h"])("button",{class:"account-btn"},[Object(n["h"])("i",{class:"fas fa-user-plus"}),Object(n["j"])(" Registracija ")],-1)})),k={class:"account-link"},y=o((function(){return Object(n["h"])("i",{class:"fas fa-user"},null,-1)})),x=o((function(){return Object(n["h"])("i",{class:"fas fa-sign-out-alt"},null,-1)})),w=Object(n["j"])(" Odjava "),R=[x,w];function A(e,t,r,c,a,i){var s=Object(n["B"])("router-link");return Object(n["u"])(),Object(n["g"])("header",u,[Object(n["h"])("div",l,[Object(n["h"])("div",{class:"menu-icon",onClick:t[0]||(t[0]=function(t){return e.$emit("openMenu")})},b),Object(n["h"])("div",h,[Object(n["k"])(s,{to:"/"},{default:Object(n["I"])((function(){return[p]})),_:1}),Object(n["k"])(s,{to:"/",class:"ml-4"},{default:Object(n["I"])((function(){return[m]})),_:1}),Object(n["k"])(s,{to:"/news/sport",class:"ml-4"},{default:Object(n["I"])((function(){return[f]})),_:1}),Object(n["k"])(s,{to:"/today",class:"ml-4"},{default:Object(n["I"])((function(){return[j]})),_:1})]),Object(n["h"])("div",g,[e.authenticated?(Object(n["u"])(),Object(n["g"])(n["a"],{key:1},[Object(n["k"])(s,{to:"/dashboard"},{default:Object(n["I"])((function(){return[Object(n["h"])("button",k,[y,Object(n["j"])(" "+Object(n["D"])(e.user.username),1)])]})),_:1}),Object(n["h"])("button",{class:"account-btn",onClick:t[1]||(t[1]=function(){return i.logout&&i.logout.apply(i,arguments)})},R)],64)):(Object(n["u"])(),Object(n["g"])(n["a"],{key:0},[Object(n["k"])(s,{to:"/login"},{default:Object(n["I"])((function(){return[O]})),_:1}),Object(n["k"])(s,{to:"/register"},{default:Object(n["I"])((function(){return[v]})),_:1})],64))])])])}var C=r("5530"),P=r("5502"),S=r("6c02");function _(e,t,r,c,a,i){var s=Object(n["B"])("ArticlesList");return Object(n["u"])(),Object(n["e"])(s)}r("ac1f"),r("841c");function D(e,t,r,c,a,i){var s=Object(n["B"])("Searchbar"),o=Object(n["B"])("SourcesFilter"),u=Object(n["B"])("Paginator"),l=Object(n["B"])("OrderSelect"),d=Object(n["B"])("NewsCardThin");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(s,{onSearch:i.search},null,8,["onSearch"]),Object(n["k"])(o,{toggledSources:a.toggledSources,onToggle:i.toggleSource},null,8,["toggledSources","onToggle"]),a.pages>1?(Object(n["u"])(),Object(n["e"])(u,{key:0,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["k"])(l,{order:a.order,onSelect:i.orderSelect},null,8,["order","onSelect"]),Object(n["h"])("div",{class:Object(n["q"])(["grid mt-5 md:grid-cols-3 sm:grid-cols-2 gap-4 grid-flow-row place-content-center",{animating:a.animating}])},[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(a.shownArticles,(function(e,t){return Object(n["u"])(),Object(n["e"])(d,{item:e,index:t,key:e.id,article:e},null,8,["item","index","article"])})),128))],2),a.pages>1?(Object(n["u"])(),Object(n["e"])(u,{key:1,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0)],64)}var I=r("1da1"),U=(r("fb6a"),r("4de4"),r("d3b7"),r("caad"),r("2532"),r("4e82"),r("96cf"),r("d4ec")),E=r("bee2"),$=r("bc3a"),N=r.n($),B=N.a.create({baseURL:"/api/",timeout:5e4,headers:{}});B.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Authorization="Bearer "+t,e}),(function(e){return Promise.reject(e)}));var q=B,T=function(){function e(){Object(U["a"])(this,e)}return Object(E["a"])(e,null,[{key:"getArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("articles/find/"+t);case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getReadArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("articles/read");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"searchArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("articles/search/"+t+"/"+r);case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getTodayArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("articles/today");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getLikedArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("articles/liked");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getArticleById",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("articles/"+t);case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"visitArticle",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("articles/"+t+"/visit");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"rateArticle",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("articles/"+t+"/rate",{action:r});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"rateComment",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("articles/comment/"+t+"/rate",{action:r});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"addComment",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("articles/"+t+"/comments",{comment:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"addReply",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("articles/comments/"+t+"/replies",{reply:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"editCommentReply",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.put("articles/replies/"+t,{newReply:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"deleteCommentReply",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.delete("articles/comments/"+t+"/replies/"+r);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"editComment",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.put("articles/comment/"+t,{newComment:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"deleteComment",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.delete("articles/"+t+"/comments/"+r);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"rateCommentReply",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("articles/replies/"+t+"/rate",{action:r});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}(),z=T,L=function(e){return Object(n["x"])("data-v-5e36c5e8"),e=e(),Object(n["v"])(),e},M={class:"card-header"},V=["src"],F=["src"],G={class:"card-body"},J={class:"card-title"},K={class:"card-description"},Z={class:"card-foot"},W={class:"visits"},H=L((function(){return Object(n["h"])("i",{class:"far fa-hand-pointer details-icon"},null,-1)})),Q={class:"comments"},X={href:"#commentsFeed"},Y=L((function(){return Object(n["h"])("i",{class:"far fa-comment details-icon"},null,-1)})),ee={class:"likes"},te=L((function(){return Object(n["h"])("i",{class:"far fa-thumbs-up details-icon"},null,-1)})),re={class:"dislikes"},ne=L((function(){return Object(n["h"])("i",{class:"far fa-thumbs-down details-icon"},null,-1)}));function ce(e,t,r,c,a,i){var s=Object(n["B"])("router-link");return Object(n["u"])(),Object(n["e"])(s,{class:"card",to:"/article/"+r.article._id},{default:Object(n["I"])((function(){return[Object(n["h"])("div",M,[null==r.article.image?(Object(n["u"])(),Object(n["g"])("img",{key:0,class:"card-image",src:a.noImage},null,8,V)):(Object(n["u"])(),Object(n["g"])("img",{key:1,class:"card-image",src:r.article.image},null,8,F)),Object(n["h"])("div",{class:Object(n["q"])(["card-source",{stiriindvajsetur:"24ur"===r.article.source,delo:"Delo"===r.article.source,slovenskenovice:"Slovenske Novice"===r.article.source,siol:"Siol"===r.article.source}])},Object(n["D"])(r.article.source),3)]),Object(n["h"])("div",G,[Object(n["h"])("h2",J,Object(n["D"])(r.article.title),1),Object(n["h"])("p",K,Object(n["D"])(r.article.summary.substring(0,120+r.article.summary.substring(119).indexOf(" "))+"..."),1)]),Object(n["h"])("div",Z,[Object(n["h"])("div",W,[H,Object(n["h"])("p",null,Object(n["D"])(r.article.clicks.length),1)]),Object(n["h"])("div",Q,[Object(n["h"])("a",X,[Y,Object(n["h"])("p",null,Object(n["D"])(r.article.comments.length),1)])]),Object(n["h"])("div",ee,[te,Object(n["h"])("p",null,Object(n["D"])(r.article.likes.length),1)]),Object(n["h"])("div",re,[ne,Object(n["h"])("p",null,Object(n["D"])(r.article.dislikes.length),1)])])]})),_:1},8,["to"])}var ae=r("e270"),ie={name:"NewsCardThin",props:{article:Object},data:function(){return{noImage:ae}}},se=(r("81f8"),r("6b0d")),oe=r.n(se);const ue=oe()(ie,[["render",ce],["__scopeId","data-v-5e36c5e8"]]);var le=ue,de={class:"paginator"},be=["item"],he=["onClick"];function pe(e,t,r,c,a,i){return Object(n["u"])(),Object(n["g"])("div",de,[Object(n["h"])("button",{onClick:t[0]||(t[0]=function(){return i.previousPage&&i.previousPage.apply(i,arguments)})},"<"),(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(a.buttons,(function(e,t){return Object(n["u"])(),Object(n["g"])("div",{item:e,key:t},[Object(n["h"])("button",{class:Object(n["q"])({selected:e.selected,first:e.first,last:e.last}),onClick:function(t){return i.changePage(e.page)}},Object(n["D"])(e.page),11,he)],8,be)})),128)),Object(n["h"])("button",{onClick:t[1]||(t[1]=function(){return i.nextPage&&i.nextPage.apply(i,arguments)})},">")])}var me={name:"Paginator",components:{},props:["pages","currentPage"],emits:["changePage"],data:function(){return{buttons:[]}},methods:{refreshPages:function(){this.buttons=[],this.currentPage-2>1&&this.addButton(1,"first");for(var e=this.currentPage-2;e<this.currentPage+3;e++)e<1||e>this.pages||this.addButton(e,null);this.buttons.slice(-1).pop().page<this.pages&&this.addButton(this.pages,"last")},addButton:function(e,t){var r={page:e,selected:!1};this.currentPage===e&&(r.selected=!0),"first"==t&&(r.first=!0),"last"==t&&(r.last=!0),this.buttons.push(r)},changePage:function(e){this.$emit("changePage",e)},previousPage:function(){this.currentPage-1>0&&this.changePage(this.currentPage-1)},nextPage:function(){this.currentPage+1<=this.pages&&this.changePage(this.currentPage+1)}},beforeMount:function(){this.refreshPages()},watch:{currentPage:function(){this.refreshPages()},pages:function(){this.refreshPages()}}};r("752c");const fe=oe()(me,[["render",pe],["__scopeId","data-v-21b1e209"]]);var je=fe,ge=function(e){return Object(n["x"])("data-v-010824c8"),e=e(),Object(n["v"])(),e},Oe={class:"searchbar-container"},ve={class:"searchbar"},ke=ge((function(){return Object(n["h"])("i",{class:"fas fa-search text-xl"},null,-1)})),ye=[ke];function xe(e,t,r,c,a,i){return Object(n["u"])(),Object(n["g"])("div",Oe,[Object(n["h"])("div",ve,[Object(n["J"])(Object(n["h"])("input",{onKeyup:t[0]||(t[0]=Object(n["K"])((function(){return i.search&&i.search.apply(i,arguments)}),["enter"])),type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.query=e})},null,544),[[n["G"],a.query]]),Object(n["h"])("button",{onClick:t[2]||(t[2]=function(){return i.search&&i.search.apply(i,arguments)})},ye)])])}r("498a");var we={name:"Searchbar",components:{},emits:["search"],data:function(){return{query:""}},methods:{search:function(){this.$emit("search",this.query.trim().toLowerCase())}}};r("5d1a");const Re=oe()(we,[["render",xe],["__scopeId","data-v-010824c8"]]);var Ae=Re,Ce={class:"flex content-center justify-center flex-row flex-wrap"};function Pe(e,t,r,c,a,i){return Object(n["u"])(),Object(n["g"])("div",Ce,[Object(n["h"])("button",{class:Object(n["q"])({selected:r.toggledSources.ur}),onClick:t[0]||(t[0]=function(e){return i.toggle("24ur")})}," 24ur ",2),Object(n["h"])("button",{class:Object(n["q"])({selected:r.toggledSources.Delo}),onClick:t[1]||(t[1]=function(e){return i.toggle("Delo")})}," Delo ",2),Object(n["h"])("button",{class:Object(n["q"])({selected:r.toggledSources.Siol}),onClick:t[2]||(t[2]=function(e){return i.toggle("Siol")})}," Siol ",2),Object(n["h"])("button",{class:Object(n["q"])({selected:r.toggledSources.SlovenskeNovice}),onClick:t[3]||(t[3]=function(e){return i.toggle("Slovenske Novice")})}," Slovenske Novice ",2)])}var Se={name:"SourcesFilter",components:{},props:["toggledSources"],emits:["toggle"],data:function(){return{}},methods:{toggle:function(e){this.$emit("toggle",e)}},beforeMount:function(){},watch:{}};r("e549");const _e=oe()(Se,[["render",Pe],["__scopeId","data-v-1761fdb9"]]);var De=_e,Ie=function(e){return Object(n["x"])("data-v-55335c2d"),e=e(),Object(n["v"])(),e},Ue={class:"dropdown"},Ee=Ie((function(){return Object(n["h"])("i",{class:"fas fa-sort-amount-down"},null,-1)})),$e=Object(n["j"])(" Razvrsti po: "),Ne={key:0},Be={key:1},qe={key:2},Te={key:0,class:"dropdown-content"},ze={class:"options"};function Le(e,t,r,c,a,i){return Object(n["u"])(),Object(n["g"])("div",Ue,[Object(n["h"])("button",{class:"dropdown-button",onClick:t[0]||(t[0]=function(){return i.toggle&&i.toggle.apply(i,arguments)})},[Ee,$e,"newest"==r.order?(Object(n["u"])(),Object(n["g"])("span",Ne,"Najnovejše")):Object(n["f"])("",!0),"oldest"==r.order?(Object(n["u"])(),Object(n["g"])("span",Be,"Najstarejše")):Object(n["f"])("",!0),"popular"==r.order?(Object(n["u"])(),Object(n["g"])("span",qe,"Priljubljeno")):Object(n["f"])("",!0)]),a.showing?(Object(n["u"])(),Object(n["g"])("div",Te,[Object(n["h"])("ul",ze,[Object(n["h"])("li",{class:Object(n["q"])({selected:"newest"===r.order}),onClick:t[1]||(t[1]=function(e){return i.select("newest")})}," Najnovejše ",2),Object(n["h"])("li",{class:Object(n["q"])({selected:"oldest"===r.order}),onClick:t[2]||(t[2]=function(e){return i.select("oldest")})}," Najstarejše ",2),Object(n["h"])("li",{class:Object(n["q"])({selected:"popular"===r.order}),onClick:t[3]||(t[3]=function(e){return i.select("popular")})}," Priljubljeno ",2)])])):Object(n["f"])("",!0)])}var Me={name:"OrderSelect",components:{},props:["order"],emits:["select"],data:function(){return{showing:!1}},methods:{toggle:function(){this.showing=!this.showing},select:function(e){this.$emit("select",e),this.showing=!1}}};r("2d0c");const Ve=oe()(Me,[["render",Le],["__scopeId","data-v-55335c2d"]]);var Fe=Ve,Ge={name:"ArticlesList",components:{Paginator:je,Searchbar:Ae,NewsCardThin:le,SourcesFilter:De,OrderSelect:Fe},data:function(){return{articles:[],animating:!1,filteredArticles:[],shownArticles:[],pages:10,currentPage:1,order:"newest",toggledSources:{ur:!0,Delo:!0,Siol:!0,SlovenskeNovice:!0,list:["24ur","Delo","Siol","Slovenske Novice"]},error:""}},methods:{getArticles:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"sport"!=e.$route.params.category){t.next=7;break}return t.next=4,z.getArticles("sport");case 4:e.articles=t.sent,t.next=16;break;case 7:if("chronicle"!=e.$route.params.category){t.next=13;break}return t.next=10,z.getArticles("chronicle");case 10:e.articles=t.sent,t.next=16;break;case 13:return t.next=15,z.getArticles("all");case 15:e.articles=t.sent;case 16:e.filterArticles(),e.changePageArticles(),t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](0),e.error=t.t0.message;case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},changePage:function(e){this.currentPage=e,this.changePageArticles(),this.fadeList()},changePageArticles:function(){this.shownArticles=this.filteredArticles.slice(30*(this.currentPage-1),30*this.currentPage),this.fadeList()},search:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(""==e){r.next=18;break}if("sport"!=t.$route.params.category){r.next=7;break}return r.next=4,z.searchArticles(e,"sport");case 4:t.articles=r.sent,r.next=16;break;case 7:if("chronicle"!=t.$route.params.category){r.next=13;break}return r.next=10,z.searchArticles(e,"chronicle");case 10:t.articles=r.sent,r.next=16;break;case 13:return r.next=15,z.searchArticles(e,"all");case 15:t.articles=r.sent;case 16:r.next=33;break;case 18:if("sport"!=t.$route.params.category){r.next=24;break}return r.next=21,z.getArticles("sport");case 21:t.articles=r.sent,r.next=33;break;case 24:if("chronicle"!=t.$route.params.category){r.next=30;break}return r.next=27,z.getArticles("chronicle");case 27:t.articles=r.sent,r.next=33;break;case 30:return r.next=32,z.getArticles("all");case 32:t.articles=r.sent;case 33:t.filterArticles(),t.changePageArticles();case 35:case"end":return r.stop()}}),r)})))()},toggleSource:function(e){if("24ur"==e)if(this.toggledSources.ur=!this.toggledSources.ur,this.toggledSources.ur)this.toggledSources.list.push("24ur");else{var t=this.toggledSources.list.indexOf("24ur");this.toggledSources.list.splice(t,1)}else if("Slovenske Novice"==e)if(this.toggledSources.SlovenskeNovice=!this.toggledSources.SlovenskeNovice,this.toggledSources.SlovenskeNovice)this.toggledSources.list.push("Slovenske Novice");else{var r=this.toggledSources.list.indexOf("Slovenske Novice");this.toggledSources.list.splice(r,1)}else if(this.toggledSources[e]=!this.toggledSources[e],this.toggledSources[e])this.toggledSources.list.push(e);else{var n=this.toggledSources.list.indexOf(e);this.toggledSources.list.splice(n,1)}this.filterArticles()},filterArticles:function(){var e=this;this.filteredArticles=this.articles.filter((function(t){return e.toggledSources.list.includes(t.source)})),this.pages=Math.ceil(this.filteredArticles.length/30),this.orderArticles(),this.changePageArticles()},orderSelect:function(e){this.order=e,this.orderArticles(),this.changePageArticles()},orderArticles:function(){switch(this.order){case"newest":this.filteredArticles.sort((function(e,t){return t.timestamp>e.timestamp?1:-1}));break;case"oldest":this.filteredArticles.sort((function(e,t){return e.timestamp>t.timestamp?1:-1}));break;case"popular":this.filteredArticles.sort((function(e,t){return t.likes.length-e.likes.length||t.timestamp-e.timestamp}));break;default:this.filteredArticles.sort((function(e,t){return t.timestamp>e.timestamp?1:-1}));break}},fadeList:function(){var e=this;this.animating=!0,setTimeout((function(){e.animating=!1}),1e3)}},beforeMount:function(){this.getArticles()},watch:{"$route.params.category":function(){this.getArticles(),this.changePage(1)}}};r("a00a");const Je=oe()(Ge,[["render",D],["__scopeId","data-v-47b50cc5"]]);var Ke=Je,Ze={name:"Home",components:{ArticlesList:Ke},emits:["notify"]};const We=oe()(Ze,[["render",_]]);var He=We,Qe=function(e){return Object(n["x"])("data-v-35773945"),e=e(),Object(n["v"])(),e},Xe={class:"form max-w-lg border-2 border-green-500 mx-auto shadow-lg rounded-md"},Ye=Qe((function(){return Object(n["h"])("div",{class:"bg-green-500 p-5 rounded-t-sm"},[Object(n["h"])("h1",{class:"text-3xl font-semibold text-center text-gray-50"},"Vpis")],-1)})),et={class:"p-10 pt-3"},tt={class:"form-control"},rt=Qe((function(){return Object(n["h"])("label",{for:"email"},"E-Pošta",-1)})),nt=Qe((function(){return Object(n["h"])("i",{class:"far fa-envelope"},null,-1)})),ct=[nt],at={class:"form-control"},it=Qe((function(){return Object(n["h"])("label",{for:"password"},"Geslo",-1)})),st=Qe((function(){return Object(n["h"])("i",{class:"fas fa-lock"},null,-1)})),ot=[st],ut={class:"form-control text-center"},lt={class:"error"};function dt(e,t,r,c,a,i){return Object(n["u"])(),Object(n["g"])("div",Xe,[Ye,Object(n["h"])("div",et,[Object(n["h"])("div",tt,[rt,Object(n["h"])("div",{class:Object(n["q"])(["input-container",{borderRed:a.loginError}])},[Object(n["h"])("span",{class:Object(n["q"])(["icon-container",{backgroundRed:a.loginError}])},ct,2),Object(n["J"])(Object(n["h"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e}),placeholder:"primer@mail.com"},null,512),[[n["G"],a.email]])],2)]),Object(n["h"])("div",at,[it,Object(n["h"])("div",{class:Object(n["q"])(["input-container",{borderRed:a.loginError}])},[Object(n["h"])("span",{class:Object(n["q"])(["icon-container",{backgroundRed:a.loginError}])},ot,2),Object(n["J"])(Object(n["h"])("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e}),placeholder:"Vpišite geslo za vpis"},null,512),[[n["G"],a.password]])],2)]),Object(n["h"])("div",ut,[Object(n["h"])("p",lt,Object(n["D"])(a.loginError),1),Object(n["h"])("p",null,Object(n["D"])(a.loginResponse),1),Object(n["h"])("button",{class:"p-3 mt-6 text-white rounded-sm bg-green-500 hover:bg-green-400 text-xl transition duration-200",onClick:t[2]||(t[2]=function(){return i.loginCheck&&i.loginCheck.apply(i,arguments)})}," Prijavi se ")])])])}var bt=function(){function e(){Object(U["a"])(this,e)}return Object(E["a"])(e,null,[{key:"insertUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r,n){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("users/create",{email:t,username:r,password:n});case 3:return c=e.sent,e.abrupt("return",c);case 7:if(e.prev=7,e.t0=e["catch"](0),400!==e.t0.response.status){e.next=13;break}return e.abrupt("return","Račun s to E-Pošto že obstaja");case 13:return e.abrupt("return","Napaka v strežniku");case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"updateUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r,n){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.put("users/update",{email:t,username:r,password:n});case 3:return c=e.sent,e.abrupt("return",c);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"authenticateUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("users/login",{email:t,password:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}(),ht=bt,pt={name:"Login",components:{},data:function(){return{email:"",password:"",loginError:"",loginResponse:""}},emits:["notify"],methods:Object(C["a"])(Object(C["a"])({},Object(P["b"])({saveToken:"auth/saveToken"})),{},{loginCheck:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==e.email||""==e.password){t.next=12;break}return t.next=3,ht.authenticateUser(e.email,e.password);case 3:if(r=t.sent,200===r.status){t.next=8;break}e.$emit("notify",{type:"error",message:r.data}),t.next=12;break;case 8:return t.next=10,e.saveToken(r.data.accessToken);case 10:No.push("/dashboard"),e.$emit("notify",{type:"success",message:"Prijava uspešna"});case 12:case"end":return t.stop()}}),t)})))()}})};r("6a71");const mt=oe()(pt,[["render",dt],["__scopeId","data-v-35773945"]]);var ft=mt,jt=function(e){return Object(n["x"])("data-v-5627a11c"),e=e(),Object(n["v"])(),e},gt={class:"form max-w-lg border-2 border-green-500 mx-auto shadow-lg rounded-md"},Ot=jt((function(){return Object(n["h"])("div",{class:"bg-green-500 p-5 rounded-t-sm"},[Object(n["h"])("h1",{class:"text-3xl font-semibold text-center text-gray-50"}," Registracija ")],-1)})),vt={class:"p-10 pt-3"},kt={class:"form-control"},yt=jt((function(){return Object(n["h"])("label",{for:"email"},"E-Pošta",-1)})),xt=jt((function(){return Object(n["h"])("i",{class:"far fa-envelope"},null,-1)})),wt=[xt],Rt={class:"error"},At={class:"form-control"},Ct=jt((function(){return Object(n["h"])("label",{for:"username"},"Uporabniško Ime",-1)})),Pt=jt((function(){return Object(n["h"])("i",{class:"fas fa-user"},null,-1)})),St=[Pt],_t={class:"error"},Dt={class:"form-control"},It=jt((function(){return Object(n["h"])("label",{for:"password"},"Geslo",-1)})),Ut=jt((function(){return Object(n["h"])("i",{class:"fas fa-lock"},null,-1)})),Et=[Ut],$t={key:0,class:"error"},Nt={class:"form-control"},Bt=jt((function(){return Object(n["h"])("label",{for:"password-repeat"},"Ponovitev gesla",-1)})),qt=jt((function(){return Object(n["h"])("i",{class:"fas fa-key"},null,-1)})),Tt=[qt],zt={class:"error"},Lt={class:"form-control text-center"},Mt={class:"error font-semibold"};function Vt(e,t,r,c,a,i){return Object(n["u"])(),Object(n["g"])("div",gt,[Ot,Object(n["h"])("div",vt,[Object(n["h"])("div",kt,[yt,Object(n["h"])("div",{class:Object(n["q"])(["input-container",{borderRed:a.emailError}])},[Object(n["h"])("span",{class:Object(n["q"])(["icon-container",{backgroundRed:a.emailError}])},wt,2),Object(n["J"])(Object(n["h"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e}),placeholder:"primer@mail.com",onInput:t[1]||(t[1]=function(){return i.authenticateEmail&&i.authenticateEmail.apply(i,arguments)})},null,544),[[n["G"],a.email]])],2),Object(n["h"])("p",Rt,Object(n["D"])(a.emailError),1)]),Object(n["h"])("div",At,[Ct,Object(n["h"])("div",{class:Object(n["q"])(["input-container",{borderRed:a.usernameError}])},[Object(n["h"])("span",{class:Object(n["q"])(["icon-container",{backgroundRed:a.usernameError}])},St,2),Object(n["J"])(Object(n["h"])("input",{type:"text",id:"username","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.username=e}),placeholder:"Vpišite vaše uporabniško ime",onInput:t[3]||(t[3]=function(){return i.authenticateUsername&&i.authenticateUsername.apply(i,arguments)})},null,544),[[n["G"],a.username]])],2),Object(n["h"])("p",_t,Object(n["D"])(a.usernameError),1)]),Object(n["h"])("div",Dt,[It,Object(n["h"])("div",{class:Object(n["q"])(["input-container",{borderRed:a.passwordError}])},[Object(n["h"])("span",{class:Object(n["q"])(["icon-container",{backgroundRed:a.passwordError}])},Et,2),Object(n["J"])(Object(n["h"])("input",{type:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.password=e}),placeholder:"Vpišite geslo za vpis",onInput:t[5]||(t[5]=function(){return i.authenticatePassword&&i.authenticatePassword.apply(i,arguments)})},null,544),[[n["G"],a.password]])],2),a.passwordError?(Object(n["u"])(),Object(n["g"])("p",$t,Object(n["D"])(a.passwordError),1)):Object(n["f"])("",!0)]),Object(n["h"])("div",Nt,[Bt,Object(n["h"])("div",{class:Object(n["q"])(["input-container",{borderRed:a.passwordRepeatError}])},[Object(n["h"])("span",{class:Object(n["q"])(["icon-container",{backgroundRed:a.passwordRepeatError}])},Tt,2),Object(n["J"])(Object(n["h"])("input",{type:"password",id:"password-repeat","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.passwordRepeat=e}),placeholder:"Potrdite geslo za vpis",onInput:t[7]||(t[7]=function(){return i.authenticatePasswordRepeat&&i.authenticatePasswordRepeat.apply(i,arguments)})},null,544),[[n["G"],a.passwordRepeat]])],2),Object(n["h"])("p",zt,Object(n["D"])(a.passwordRepeatError),1)]),Object(n["h"])("div",Lt,[Object(n["h"])("p",Mt,Object(n["D"])(a.error),1),Object(n["h"])("button",{class:Object(n["q"])(["p-3 mt-6 text-white rounded-sm bg-green-500 hover:bg-green-400 text-xl transition duration-200",{backgroundRed:a.formInvalid}]),onClick:t[8]||(t[8]=function(){return i.insertUser&&i.insertUser.apply(i,arguments)})}," Registriraj račun ",2)])])])}r("00b4");var Ft={name:"Register",components:{},emits:["notify"],data:function(){return{email:"",username:"",password:"",passwordRepeat:"",emailError:"",usernameError:"",passwordError:"",passwordRepeatError:"",formInvalid:!1,registerTries:0,error:""}},methods:{authenticateEmail:function(){0==/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/.test(this.email)&&""!=this.email?this.emailError="E-Pošta mora biti v pravilnem formatu":this.emailError="",this.authenticateForm()},authenticateUsername:function(){0==/^[A-Za-z0-9 _]*[A-Za-z0-9][A-Za-z0-9 _]*$/.test(this.username)&&""!=this.username?this.usernameError="Uporabniško ime lahko vsebuje samo črke in številke":this.usernameError="",this.authenticateForm()},authenticatePassword:function(){this.password.length<5&&""!=this.password?this.passwordError="Geslo ime mora vsebovati vsaj 5 znakov":this.passwordError="",this.authenticateForm()},authenticatePasswordRepeat:function(){this.password!=this.passwordRepeat?this.passwordRepeatError="Gesla se ne ujemata":this.passwordRepeatError="",this.authenticateForm()},authenticateForm:function(){this.registerTries>=1&&(""!=this.email&&""!=this.username&&""!=this.password&&""!=this.passwordRepeat&&""===this.emailError&&""===this.usernameError&&""===this.passwordError&&""===this.passwordRepeatError?this.formInvalid=!1:this.formInvalid=!0)},insertUser:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.registerTries++,e.authenticateForm(),!1!==e.formInvalid){t.next=13;break}return t.prev=3,t.next=6,ht.insertUser(e.email,e.username,e.password);case 6:r=t.sent,201===r.status?(No.push("/login"),e.$emit("notify",{type:"success",message:"Račun uspešno registriran"})):(e.error=r,setTimeout((function(){e.error=""}),5e3),e.$emit("notify",{type:"error",message:r})),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),e.error=t.t0.message;case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()}}};r("c71c");const Gt=oe()(Ft,[["render",Vt],["__scopeId","data-v-5627a11c"]]);var Jt=Gt,Kt={class:"text-3xl border-b border-gray-600 pb-4 mb-4"},Zt=Object(n["j"])("Domov"),Wt=Object(n["j"])(" > "),Ht=Object(n["h"])("span",{class:"text-green-500"},"Članek",-1);function Qt(e,t,r,c,a,i){var s=Object(n["B"])("router-link"),o=Object(n["B"])("ArticlePreview"),u=Object(n["B"])("CommentsFeed"),l=Object(n["B"])("Alert");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",Kt,[Object(n["k"])(s,{to:"/"},{default:Object(n["I"])((function(){return[Zt]})),_:1}),Wt,Ht]),Object(n["k"])(o,{article:a.article,counters:a.counters,rating:a.rating,articleImg:a.articleImg,onVisit:i.visit,onLike:i.like,onDislike:i.dislike},null,8,["article","counters","rating","articleImg","onVisit","onLike","onDislike"]),Object(n["k"])(u,{comments:a.article.comments,commentsCount:a.counters.comments,onNewComment:i.addComment,onEditComment:i.editComment,onDeleteComment:i.deleteCommentConfirm,onLikeComment:i.likeComment,onDislikeComment:i.dislikeComment,onAddReply:i.addReply,onEditReply:i.editReply,onDeleteReply:i.deleteReplyConfirm,onLikeReply:i.likeReply,onDislikeReply:i.dislikeReply},null,8,["comments","commentsCount","onNewComment","onEditComment","onDeleteComment","onLikeComment","onDislikeComment","onAddReply","onEditReply","onDeleteReply","onLikeReply","onDislikeReply"]),Object(n["k"])(l,{text:"Želite izbrisati komentar?",open:a.alert,onOk:i.alertOK,onCancel:i.alertCancel},null,8,["open","onOk","onCancel"])],64)}var Xt=function(e){return Object(n["x"])("data-v-ac8d13b0"),e=e(),Object(n["v"])(),e},Yt={class:"article-preview"},er={class:"mt-5"},tr={class:"tag"},rr={class:"tag"},nr={class:"text-3xl py-2 mt-2 font-bold text-white"},cr={class:"text-lg border-b border-gray-100 text-gray-100 pb-2"},ar={class:"text-lg text-gray-50 py-2"},ir={class:"actions"},sr={class:"grid items-center"},or=["href"],ur={class:"details"},lr={class:"visits"},dr=Xt((function(){return Object(n["h"])("i",{class:"far fa-hand-pointer details-icon"},null,-1)})),br={class:"detail-value"},hr={class:"comments"},pr={href:"#commentsFeed"},mr=Xt((function(){return Object(n["h"])("i",{class:"far fa-comment details-icon"},null,-1)})),fr={class:"detail-value"},jr=Xt((function(){return Object(n["h"])("i",{class:"far fa-thumbs-up details-icon"},null,-1)})),gr={class:"detail-value"},Or=Xt((function(){return Object(n["h"])("i",{class:"far fa-thumbs-down details-icon"},null,-1)})),vr={class:"detail-value"};function kr(e,t,r,c,a,i){return Object(n["u"])(),Object(n["g"])("div",Yt,[Object(n["h"])("div",er,[Object(n["h"])("div",tr,Object(n["D"])(r.article.source),1),Object(n["h"])("div",rr,Object(n["D"])(r.article.category),1)]),Object(n["h"])("h1",nr,Object(n["D"])(r.article.title),1),Object(n["h"])("p",cr,Object(n["D"])(r.article.date)+" • "+Object(n["D"])(r.article.time),1),Object(n["h"])("p",ar,Object(n["D"])(r.article.summary),1),Object(n["h"])("div",ir,[Object(n["h"])("div",sr,[Object(n["h"])("a",{class:"visit-btn",href:r.article.url,target:"_blank",onClick:t[0]||(t[0]=function(t){return e.$emit("visit")})},"Obišči članek",8,or)]),Object(n["h"])("div",ur,[Object(n["h"])("div",lr,[dr,Object(n["h"])("p",br,Object(n["D"])(r.counters.clicks),1)]),Object(n["h"])("div",hr,[Object(n["h"])("a",pr,[mr,Object(n["h"])("p",fr,Object(n["D"])(r.counters.comments),1)])]),Object(n["h"])("div",{class:Object(n["q"])(["likes",r.rating]),onClick:t[1]||(t[1]=function(t){return e.$emit("like")})},[jr,Object(n["h"])("p",gr,Object(n["D"])(r.counters.likes),1)],2),Object(n["h"])("div",{class:Object(n["q"])(["dislikes",r.rating]),onClick:t[2]||(t[2]=function(t){return e.$emit("dislike")})},[Or,Object(n["h"])("p",vr,Object(n["D"])(r.counters.dislikes),1)],2)])])])}var yr={name:"ArticlePreview",components:{},props:["article","counters","rating","articleImg"],methods:{}},xr=function(){Object(n["F"])((function(e){return{"47cea961":e.articleImg}}))},wr=yr.setup;yr.setup=wr?function(e,t){return xr(),wr(e,t)}:xr;var Rr=yr;r("7e13");const Ar=oe()(Rr,[["render",kr],["__scopeId","data-v-ac8d13b0"]]);var Cr=Ar,Pr=function(e){return Object(n["x"])("data-v-3b2866d9"),e=e(),Object(n["v"])(),e},Sr={class:"mt-10 text-2xl font-bold",id:"commentsFeed"},_r={class:"comments-feed"},Dr={key:0,class:"new-comment-container"},Ir={key:0},Ur={class:"text-white text-xl text-center font-bold"},Er={key:1,class:"flex"},$r={class:"w-full"},Nr={class:"text-left font-bold text-white text-xl mb-1"},Br=Pr((function(){return Object(n["h"])("i",{class:"fas fa-paper-plane"},null,-1)})),qr=Pr((function(){return Object(n["h"])("span",null," Dodaj",-1)})),Tr=[Br,qr],zr={key:1,class:"new-comment-container"},Lr={class:"text-white text-xl text-center font-bold"},Mr=Object(n["j"])(" Če želite komentirati, se morate "),Vr=Object(n["j"])("prijaviti"),Fr={class:"comments-container"};function Gr(e,t,r,c,a,i){var s=Object(n["B"])("router-link"),o=Object(n["B"])("Comment");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",Sr," Komentarji ("+Object(n["D"])(r.commentsCount)+") ",1),Object(n["h"])("div",_r,[e.authenticated?(Object(n["u"])(),Object(n["g"])("div",Dr,[e.muted?(Object(n["u"])(),Object(n["g"])("div",Ir,[Object(n["h"])("h1",Ur," Vaš račun je blokiran do "+Object(n["D"])(e.mutedString)+" in ne morate komentirati! ",1)])):(Object(n["u"])(),Object(n["g"])("div",Er,[Object(n["h"])("div",$r,[Object(n["h"])("h2",Nr,Object(n["D"])(e.user.username),1),Object(n["J"])(Object(n["h"])("textarea",{class:"new-comment-textarea",rows:"4",placeholder:"Napišite komentar o članku!","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.newComment=t})},null,512),[[n["G"],e.newComment]])])])),e.muted?Object(n["f"])("",!0):(Object(n["u"])(),Object(n["g"])("button",{key:2,class:"new-comment-btn",onClick:t[1]||(t[1]=function(){return i.addComment&&i.addComment.apply(i,arguments)})},Tr))])):(Object(n["u"])(),Object(n["g"])("div",zr,[Object(n["h"])("h1",Lr,[Mr,Object(n["k"])(s,{to:"/login"},{default:Object(n["I"])((function(){return[Vr]})),_:1})])])),Object(n["h"])("div",Fr,[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(r.comments,(function(e,t){return Object(n["u"])(),Object(n["e"])(o,{comment:e,index:t,key:e.userID,onDeleteComment:i.deleteComment,onLikeComment:i.likeComment,onDislikeComment:i.dislikeComment,onAddReply:i.addReply,onEditReply:i.editReply,onDeleteReply:i.deleteReply,onEditComment:i.editComment,onLikeReply:i.likeReply,onDislikeReply:i.dislikeReply},null,8,["comment","index","onDeleteComment","onLikeComment","onDislikeComment","onAddReply","onEditReply","onDeleteReply","onEditComment","onLikeReply","onDislikeReply"])})),128))])])],64)}r("a9e3");var Jr=function(e){return Object(n["x"])("data-v-61c3189c"),e=e(),Object(n["v"])(),e},Kr={class:"comment"},Zr={class:"comment-right"},Wr={class:"comment-head"},Hr={class:"text-lg font-bold text-green-500"},Qr={key:0,class:"text-blue-500"},Xr={key:1,class:"text-lg font-bold text-green-500"},Yr={key:0,class:"text-blue-500"},en={class:"text-sm font-semibold text-gray-500"},tn={key:0},rn=Jr((function(){return Object(n["h"])("i",{class:"fas fa-trash-alt"},null,-1)})),nn=[rn],cn={class:"comment-body"},an={class:"comment-text"},sn={key:0,class:"flex items-center justify-center"},on={key:0},un=Jr((function(){return Object(n["h"])("i",{class:"fas fa-reply"},null,-1)})),ln=Object(n["j"])(" Odgovori"),dn=[un,ln],bn={key:1},hn=Jr((function(){return Object(n["h"])("i",{class:"fas fa-window-close"},null,-1)})),pn=Object(n["j"])(" Prekliči"),mn=[hn,pn],fn={key:1,class:"flex items-center justify-center"},jn={key:0},gn=Jr((function(){return Object(n["h"])("i",{class:"fas fa-edit"},null,-1)})),On=Object(n["j"])(" Uredi"),vn=[gn,On],kn={key:1},yn=Jr((function(){return Object(n["h"])("i",{class:"fas fa-window-close"},null,-1)})),xn=Object(n["j"])(" Prekliči"),wn=[yn,xn],Rn={class:"grid grid-cols-2 space-x-3 text-lg mr-2 font-bold text-gray-600"},An=Jr((function(){return Object(n["h"])("i",{class:"fas fa-thumbs-up text-2xl"},null,-1)})),Cn=Jr((function(){return Object(n["h"])("i",{class:"fas fa-thumbs-down text-2xl"},null,-1)})),Pn={key:0,class:"reply"},Sn={key:1,class:"edit"},_n={class:"replies"};function Dn(e,t,r,c,a,i){var s=Object(n["B"])("router-link"),o=Object(n["B"])("CommentReply");return Object(n["u"])(),Object(n["g"])("div",Kr,[Object(n["h"])("div",Zr,[Object(n["h"])("div",Wr,[Object(n["h"])("div",null,[e.authenticated&&e.user.isAdmin&&r.comment.user._id!=e.user._id&&!r.comment.user.isAdmin?(Object(n["u"])(),Object(n["e"])(s,{key:0,to:"/admin/user/"+r.comment.user._id},{default:Object(n["I"])((function(){return[Object(n["h"])("p",Hr,[Object(n["j"])(Object(n["D"])(r.comment.user.username)+" ",1),r.comment.user.isAdmin?(Object(n["u"])(),Object(n["g"])("span",Qr,"[ADMIN]")):Object(n["f"])("",!0)])]})),_:1},8,["to"])):(Object(n["u"])(),Object(n["g"])("p",Xr,[Object(n["j"])(Object(n["D"])(r.comment.user.username)+" ",1),r.comment.user.isAdmin?(Object(n["u"])(),Object(n["g"])("span",Yr,"[ADMIN]")):Object(n["f"])("",!0)])),Object(n["h"])("p",en,[Object(n["j"])(Object(n["D"])(e.commentCreatedAt)+" ",1),e.isEdited?(Object(n["u"])(),Object(n["g"])("span",tn," (urejen)")):Object(n["f"])("",!0)])]),e.authenticated&&(e.user._id===r.comment.user._id||e.user.isAdmin)?(Object(n["u"])(),Object(n["g"])("div",{key:0,class:"text-xl cursor-pointer hover:text-gray-600",onClick:t[0]||(t[0]=function(t){return e.$emit("deleteComment",r.comment._id)})},nn)):Object(n["f"])("",!0)]),Object(n["h"])("div",cn,[Object(n["h"])("p",an,Object(n["D"])(r.comment.body),1)]),Object(n["h"])("div",{class:Object(n["q"])(["comment-foot justify-end",{"justify-between":e.authenticated}])},[!e.authenticated||e.user._id===r.comment.user._id||e.muted&&!e.user.isAdmin?Object(n["f"])("",!0):(Object(n["u"])(),Object(n["g"])("div",sn,[Object(n["h"])("button",{class:"reply-button",onClick:t[1]||(t[1]=function(){return i.newReplyToggle&&i.newReplyToggle.apply(i,arguments)})},[e.replying?(Object(n["u"])(),Object(n["g"])("span",bn,mn)):(Object(n["u"])(),Object(n["g"])("span",on,dn))])])),!e.authenticated||e.user._id!==r.comment.user._id||e.muted&&!e.user.isAdmin?Object(n["f"])("",!0):(Object(n["u"])(),Object(n["g"])("div",fn,[Object(n["h"])("button",{class:"reply-button",onClick:t[2]||(t[2]=function(){return i.editToggle&&i.editToggle.apply(i,arguments)})},[e.editing?(Object(n["u"])(),Object(n["g"])("span",kn,wn)):(Object(n["u"])(),Object(n["g"])("span",jn,vn))])])),Object(n["h"])("div",Rn,[Object(n["h"])("div",{class:Object(n["q"])(["like-button",e.rating]),onClick:t[3]||(t[3]=function(){return i.likeComment&&i.likeComment.apply(i,arguments)})},[An,Object(n["h"])("p",null,Object(n["D"])(r.comment.likes.length),1)],2),Object(n["h"])("div",{class:Object(n["q"])(["dislike-button",e.rating]),onClick:t[4]||(t[4]=function(){return i.dislikeComment&&i.dislikeComment.apply(i,arguments)})},[Cn,Object(n["h"])("p",null,Object(n["D"])(r.comment.dislikes.length),1)],2)])],2),e.replying?(Object(n["u"])(),Object(n["g"])("div",Pn,[Object(n["J"])(Object(n["h"])("textarea",{class:"reply-text-area","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.newReply=t}),rows:"4",placeholder:"Napišite odgovor zgornjem komentarju!"},null,512),[[n["G"],e.newReply]]),Object(n["h"])("button",{class:"new-reply-btn",onClick:t[6]||(t[6]=function(){return i.addReply&&i.addReply.apply(i,arguments)})},"Odgovori")])):Object(n["f"])("",!0),e.editing?(Object(n["u"])(),Object(n["g"])("div",Sn,[Object(n["J"])(Object(n["h"])("textarea",{class:"edit-text-area","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.editBody=t}),rows:"4",placeholder:"Uredite vaš zgornji komentar"},null,512),[[n["G"],e.editBody]]),Object(n["h"])("button",{class:"edit-btn",onClick:t[8]||(t[8]=function(){return i.editComment&&i.editComment.apply(i,arguments)})},"Uredi")])):Object(n["f"])("",!0),Object(n["h"])("div",_n,[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(r.comment.replies,(function(e,t){return Object(n["u"])(),Object(n["e"])(o,{reply:e,index:t,key:e.userID,onDeleteReply:i.deleteReply,onEditReply:i.editReply,onLikeReply:i.likeReply,onDislikeReply:i.dislikeReply},null,8,["reply","index","onDeleteReply","onEditReply","onLikeReply","onDislikeReply"])})),128))])])])}var In=function(e){return Object(n["x"])("data-v-3953c0ba"),e=e(),Object(n["v"])(),e},Un={class:"reply"},En={class:"reply-right"},$n={class:"reply-head"},Nn={class:"text-lg font-bold text-green-500"},Bn={key:0,class:"text-blue-500"},qn={key:1,class:"text-lg font-bold text-green-500"},Tn={key:0,class:"text-blue-500"},zn={class:"text-sm font-semibold text-gray-500"},Ln={key:0},Mn=In((function(){return Object(n["h"])("i",{class:"fas fa-trash-alt"},null,-1)})),Vn=[Mn],Fn={class:"reply-body"},Gn={class:"reply-text"},Jn={key:0,class:"flex items-center justify-center"},Kn={key:0},Zn=In((function(){return Object(n["h"])("i",{class:"fas fa-edit"},null,-1)})),Wn=Object(n["j"])(" Uredi"),Hn=[Zn,Wn],Qn={key:1},Xn=In((function(){return Object(n["h"])("i",{class:"fas fa-window-close"},null,-1)})),Yn=Object(n["j"])(" Prekliči"),ec=[Xn,Yn],tc={class:"grid grid-cols-2 space-x-3 text-lg mr-2 font-bold text-gray-600"},rc=In((function(){return Object(n["h"])("i",{class:"fas fa-thumbs-up text-2xl"},null,-1)})),nc=In((function(){return Object(n["h"])("i",{class:"fas fa-thumbs-down text-2xl"},null,-1)})),cc={key:0,class:"edit"};function ac(e,t,r,c,a,i){var s=Object(n["B"])("router-link");return Object(n["u"])(),Object(n["g"])("div",Un,[Object(n["h"])("div",En,[Object(n["h"])("div",$n,[Object(n["h"])("div",null,[e.authenticated&&e.user.isAdmin&&r.reply.user._id!=e.user._id&&!r.reply.user.isAdmin?(Object(n["u"])(),Object(n["e"])(s,{key:0,to:"/admin/user/"+r.reply.user._id},{default:Object(n["I"])((function(){return[Object(n["h"])("p",Nn,[Object(n["j"])(Object(n["D"])(r.reply.user.username)+" ",1),r.reply.user.isAdmin?(Object(n["u"])(),Object(n["g"])("span",Bn,"[ADMIN]")):Object(n["f"])("",!0)])]})),_:1},8,["to"])):(Object(n["u"])(),Object(n["g"])("p",qn,[Object(n["j"])(Object(n["D"])(r.reply.user.username)+" ",1),r.reply.user.isAdmin?(Object(n["u"])(),Object(n["g"])("span",Tn,"[ADMIN]")):Object(n["f"])("",!0)])),Object(n["h"])("p",zn,[Object(n["j"])(Object(n["D"])(e.replyCreatedAt)+" ",1),e.isEdited?(Object(n["u"])(),Object(n["g"])("span",Ln," (urejen)")):Object(n["f"])("",!0)])]),e.authenticated&&(e.user._id===r.reply.user._id||e.user.isAdmin)?(Object(n["u"])(),Object(n["g"])("div",{key:0,class:"text-xl cursor-pointer hover:text-gray-600",onClick:t[0]||(t[0]=function(t){return e.$emit("deleteReply",r.reply._id)})},Vn)):Object(n["f"])("",!0)]),Object(n["h"])("div",Fn,[Object(n["h"])("p",Gn,Object(n["D"])(r.reply.body),1)]),Object(n["h"])("div",{class:Object(n["q"])(["reply-foot justify-end",{"justify-between":e.authenticated&&e.user._id===r.reply.user._id}])},[e.authenticated&&e.user._id===r.reply.user._id?(Object(n["u"])(),Object(n["g"])("div",Jn,[Object(n["h"])("button",{class:"edit-button",onClick:t[1]||(t[1]=function(){return i.editToggle&&i.editToggle.apply(i,arguments)})},[e.editing?(Object(n["u"])(),Object(n["g"])("span",Qn,ec)):(Object(n["u"])(),Object(n["g"])("span",Kn,Hn))])])):Object(n["f"])("",!0),Object(n["h"])("div",tc,[Object(n["h"])("div",{class:Object(n["q"])(["like-button",e.rating]),onClick:t[2]||(t[2]=function(){return i.likeReply&&i.likeReply.apply(i,arguments)})},[rc,Object(n["h"])("p",null,Object(n["D"])(r.reply.likes.length),1)],2),Object(n["h"])("div",{class:Object(n["q"])(["dislike-button",e.rating]),onClick:t[3]||(t[3]=function(){return i.dislikeReply&&i.dislikeReply.apply(i,arguments)})},[nc,Object(n["h"])("p",null,Object(n["D"])(r.reply.dislikes.length),1)],2)])],2),e.editing?(Object(n["u"])(),Object(n["g"])("div",cc,[Object(n["J"])(Object(n["h"])("textarea",{class:"edit-text-area","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.editBody=t}),rows:"4",placeholder:"Uredite vaš zgornji komentar"},null,512),[[n["G"],e.editBody]]),Object(n["h"])("button",{class:"edit-submit-button",onClick:t[5]||(t[5]=function(){return i.editReply&&i.editReply.apply(i,arguments)})},"Uredi")])):Object(n["f"])("",!0)])])}var ic=r("c1df"),sc=r.n(ic);r("8155");sc.a.locale("sl");var oc={name:"CommentReply",props:{reply:Object,index:Number,key:String},data:function(){return{replyCreatedAt:this.createdAtString(),isEdited:this.isEditedCheck(),rating:"",editing:!1,editBody:this.reply.body}},computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user"})),emits:["likeReply","dislikeReply","editReply","deleteReply"],updated:function(){this.isEdited=this.isEditedCheck()},methods:{checkRating:function(){return this.authenticated&&this.reply.likes.includes(this.user._id)?"liked":this.authenticated&&this.reply.dislikes.includes(this.user._id)?"disliked":""},createdAtString:function(){var e=sc()(this.reply.createdAt).fromNow(),t=e.charAt(0).toUpperCase()+e.slice(1);return t},isEditedCheck:function(){return this.reply.createdAt!==this.reply.updatedAt},editToggle:function(){this.editing=!this.editing},editReply:function(){this.$emit("editReply",this.reply._id,this.editBody),this.editing=!1},likeReply:function(){if(this.authenticated){switch(this.rating){case"":this.rating="liked";break;case"liked":this.rating="";break;case"disliked":this.rating="liked";break}this.$emit("likeReply",this.reply._id)}},dislikeReply:function(){if(this.authenticated){switch(this.rating){case"":this.rating="disliked";break;case"disliked":this.rating="";break;case"liked":this.rating="disliked";break}this.$emit("dislikeReply",this.reply._id)}}},mounted:function(){this.rating=this.checkRating()}};r("bcff");const uc=oe()(oc,[["render",ac],["__scopeId","data-v-3953c0ba"]]);var lc=uc;sc.a.locale("sl");var dc={name:"Comment",components:{CommentReply:lc},props:{comment:Object,index:Number,key:String},data:function(){return{commentCreatedAt:this.createdAtString(),isEdited:this.isEditedCheck(),replying:!1,editing:!1,rating:"",newReply:"",editBody:this.comment.body}},computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",muted:"auth/muted"})),emits:["addReply","editComment","likeComment","dislikeComment","deleteComment","deleteReply","editReply","likeReply","dislikeReply"],updated:function(){this.isEdited=this.isEditedCheck()},methods:{checkRating:function(){return this.authenticated&&this.comment.likes.includes(this.user._id)?"liked":this.authenticated&&this.comment.dislikes.includes(this.user._id)?"disliked":""},createdAtString:function(){var e=sc()(this.comment.createdAt).fromNow(),t=e.charAt(0).toUpperCase()+e.slice(1);return t},isEditedCheck:function(){return this.comment.createdAt!==this.comment.updatedAt},newReplyToggle:function(){this.replying=!this.replying},editToggle:function(){this.editing=!this.editing},editComment:function(){this.$emit("editComment",this.editBody,this.comment._id),this.editing=!1},likeComment:function(){if(this.authenticated){switch(this.rating){case"":this.rating="liked";break;case"liked":this.rating="";break;case"disliked":this.rating="liked";break}this.$emit("likeComment",this.comment._id)}},dislikeComment:function(){if(this.authenticated){switch(this.rating){case"":this.rating="disliked";break;case"disliked":this.rating="";break;case"liked":this.rating="disliked";break}this.$emit("dislikeComment",this.comment._id)}},addReply:function(){""!=this.newReply.trim()&&this.$emit("addReply",this.newReply.trim(),this.comment._id),this.replying=!this.replying,this.newReply=""},editReply:function(e,t){this.$emit("editReply",e,t)},deleteReply:function(e){this.$emit("deleteReply",this.comment._id,e)},likeReply:function(e){this.$emit("likeReply",e)},dislikeReply:function(e){this.$emit("dislikeReply",e)}},mounted:function(){this.rating=this.checkRating()}};r("1aa8");const bc=oe()(dc,[["render",Dn],["__scopeId","data-v-61c3189c"]]);var hc=bc;sc.a.locale("sl");var pc={name:"CommentsFeed",components:{Comment:hc},props:{comments:Array,commentsCount:Number},emits:["newComment","editComment","deleteComment","likeComment","dislikeComment","addReply","editReply","deleteReply","likeReply","dislikeReply"],data:function(){return{newComment:"",mutedString:""}},computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",muted:"auth/muted"})),methods:{addComment:function(){this.$emit("newComment",this.newComment),this.newComment=""},editComment:function(e,t){this.$emit("editComment",e,t)},deleteComment:function(e){this.$emit("deleteComment",e)},likeComment:function(e){this.$emit("likeComment",e)},dislikeComment:function(e){this.$emit("dislikeComment",e)},addReply:function(e,t){this.$emit("addReply",e,t)},editReply:function(e,t){this.$emit("editReply",e,t)},deleteReply:function(e,t){this.$emit("deleteReply",e,t)},likeReply:function(e){this.$emit("likeReply",e)},dislikeReply:function(e){this.$emit("dislikeReply",e)}},beforeMount:function(){this.authenticated&&this.muted&&(this.mutedString=sc()(this.user.muteExpiration).format("LLL"))}};r("5597");const mc=oe()(pc,[["render",Gr],["__scopeId","data-v-3b2866d9"]]);var fc=mc,jc={key:0,class:"alert"},gc={class:"text-xl font-semibold mb-7"},Oc={class:"text-center"};function vc(e,t,r,c,a,i){return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(n["b"],{name:"fade"},{default:Object(n["I"])((function(){return[r.open?(Object(n["u"])(),Object(n["g"])("div",{key:0,class:"alert-bg",onClick:t[0]||(t[0]=function(t){return e.$emit("cancel")})})):Object(n["f"])("",!0)]})),_:1}),Object(n["k"])(n["b"],{name:"fade"},{default:Object(n["I"])((function(){return[r.open?(Object(n["u"])(),Object(n["g"])("div",jc,[Object(n["h"])("h1",gc,Object(n["D"])(r.text),1),Object(n["h"])("div",Oc,[Object(n["h"])("button",{class:"bg-green-500 hover:bg-green-400",onClick:t[1]||(t[1]=function(t){return e.$emit("ok")})}," OK "),Object(n["h"])("button",{class:"bg-red-500 hover:bg-red-400",onClick:t[2]||(t[2]=function(t){return e.$emit("cancel")})}," Prekliči ")]),Object(n["h"])("i",{class:"fas fa-window-close",onClick:t[3]||(t[3]=function(t){return e.$emit("cancel")})})])):Object(n["f"])("",!0)]})),_:1})],64)}var kc={name:"Alert",components:{},props:["text","open"],emits:["ok","cancel"],data:function(){return{}},methods:{}};r("e87c");const yc=oe()(kc,[["render",vc],["__scopeId","data-v-f8c63aee"]]);var xc=yc,wc={name:"Article",components:{ArticlePreview:Cr,CommentsFeed:fc,Alert:xc},emits:["notify"],data:function(){return{alert:!1,article:"",counters:{comments:0,likes:0,dislikes:0,clicks:0},articleImg:"",rating:"",newComment:"",CommentID:"",ReplyID:"",deleteType:"",error:""}},computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user"})),methods:{alertOK:function(){switch(this.alert=!1,this.deleteType){case"comment":this.deleteComment(this.commentID);break;case"reply":this.deleteReply(this.commentID,this.replyID);break;default:break}},alertCancel:function(){this.alert=!1,this.commentID="",this.replyID=""},getArticle:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,z.getArticleById(e);case 3:n=r.sent,t.article=n.article,t.article.comments=n.comments,"https://siol.netundefined"==t.article.image?t.articleImg=null:t.articleImg="url("+t.article.image+")",t.counters.comments=t.article.comments.length,t.counters.likes=t.article.likes.length,t.counters.dislikes=t.article.dislikes.length,t.counters.clicks=t.article.clicks.length,t.article.likes.some((function(e){return e.userID==t.user._id}))?t.rating="liked":t.article.dislikes.some((function(e){return e.userID==t.user._id}))?t.rating="disliked":t.rating="",r.next=17;break;case 14:r.prev=14,r.t0=r["catch"](0),t.error=r.t0.message;case 17:case"end":return r.stop()}}),r,null,[[0,14]])})))()},visit:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.authenticated||e.article.clicks.some((function(t){return t.userID==e.user._id}))){t.next=10;break}return t.prev=1,t.next=4,z.visitArticle(e.article._id);case 4:e.counters.clicks++,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),e.$emit("notify",{type:"error",message:t.t0});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},like:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.authenticated){t.next=18;break}t.t0=e.rating,t.next=""===t.t0?4:"liked"===t.t0?7:"disliked"===t.t0?10:14;break;case 4:return e.rating="liked",e.counters.likes++,t.abrupt("break",14);case 7:return e.rating="",e.counters.likes--,t.abrupt("break",14);case 10:return e.rating="liked",e.counters.dislikes--,e.counters.likes++,t.abrupt("break",14);case 14:return t.next=16,z.rateArticle(e.article._id,"like");case 16:t.next=19;break;case 18:No.push("/login");case 19:case"end":return t.stop()}}),t)})))()},dislike:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.authenticated){t.next=18;break}t.t0=e.rating,t.next=""===t.t0?4:"disliked"===t.t0?7:"liked"===t.t0?10:14;break;case 4:return e.rating="disliked",e.counters.dislikes++,t.abrupt("break",14);case 7:return e.rating="",e.counters.dislikes--,t.abrupt("break",14);case 10:return e.rating="disliked",e.counters.dislikes++,e.counters.likes--,t.abrupt("break",14);case 14:return t.next=16,z.rateArticle(e.article._id,"dislike");case 16:t.next=19;break;case 18:No.push("/login");case 19:case"end":return t.stop()}}),t)})))()},addComment:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e=e.trim(),""==e){r.next=12;break}return r.prev=2,r.next=5,z.addComment(t.article._id,e);case 5:t.getArticle(t.$route.params.id),t.$emit("notify",{type:"success",message:"Komentar je bil dodan"}),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](2),t.$emit("notify",{type:"error",message:r.t0});case 12:case"end":return r.stop()}}),r,null,[[2,9]])})))()},editComment:function(e,t){var r=this;return Object(I["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e=e.trim(),""==e){n.next=12;break}return n.prev=2,n.next=5,z.editComment(t,e);case 5:r.getArticle(r.$route.params.id),r.$emit("notify",{type:"success",message:"Komentar je bil urejen"}),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](2),r.$emit("notify",{type:"error",message:n.t0});case 12:case"end":return n.stop()}}),n,null,[[2,9]])})))()},deleteCommentConfirm:function(e){this.commentID=e,this.deleteType="comment",this.alert=!0},deleteReplyConfirm:function(e,t){this.commentID=e,this.replyID=t,this.deleteType="reply",this.alert=!0},deleteComment:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,z.deleteComment(t.article._id,e);case 3:t.getArticle(t.$route.params.id),t.$emit("notify",{type:"success",message:"Komentar je bil izbrisan"}),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),t.$emit("notify",{type:"error",message:r.t0});case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},likeComment:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,z.rateComment(e,"like");case 3:t.getArticle(t.$route.params.id),r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),t.$emit("notify",{type:"error",message:r.t0});case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},dislikeComment:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,z.rateComment(e,"dislike");case 3:t.getArticle(t.$route.params.id),r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),t.$emit("notify",{type:"error",message:r.t0});case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},addReply:function(e,t){var r=this;return Object(I["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,z.addReply(t,e);case 3:r.getArticle(r.$route.params.id),r.$emit("notify",{type:"success",message:"Odziv je bil dodan"}),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),r.$emit("notify",{type:"error",message:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},editReply:function(e,t){var r=this;return Object(I["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,z.editCommentReply(e,t);case 3:r.getArticle(r.$route.params.id),r.$emit("notify",{type:"success",message:"Odziv je bil urejen"}),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),r.$emit("notify",{type:"error",message:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},deleteReply:function(e,t){var r=this;return Object(I["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,z.deleteCommentReply(e,t);case 3:r.getArticle(r.$route.params.id),r.$emit("notify",{type:"success",message:"Odziv je bil izbrisan"}),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),r.$emit("notify",{type:"error",message:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},likeReply:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,z.rateCommentReply(e,"like");case 3:t.getArticle(t.$route.params.id),r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),t.$emit("notify",{type:"error",message:r.t0});case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},dislikeReply:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,z.rateCommentReply(e,"dislike");case 3:t.getArticle(t.$route.params.id),r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),t.$emit("notify",{type:"error",message:r.t0});case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()}},beforeMount:function(){this.getArticle(this.$route.params.id)}};const Rc=oe()(wc,[["render",Qt]]);var Ac=Rc,Cc=function(e){return Object(n["x"])("data-v-354885ca"),e=e(),Object(n["v"])(),e},Pc={class:"text-3xl border-b border-gray-600 pb-4"},Sc=Object(n["j"])(" Pozdravljen/a, "),_c={class:"text-green-500"},Dc={class:"action-list"},Ic=Cc((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"fas fa-user-circle"}),Object(n["h"])("h2",null,"Urejanje profila")],-1)})),Uc=Cc((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"fas fa-clock"}),Object(n["h"])("h2",null,"Nedavno prebrano")],-1)})),Ec=Cc((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"fas fa-thumbs-up"}),Object(n["h"])("h2",null,"Všečkane novice")],-1)})),$c=Cc((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"fas fa-calendar-day"}),Object(n["h"])("h2",null,"Novice dneva")],-1)})),Nc=Cc((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"far fa-newspaper"}),Object(n["h"])("h2",null,"Seznam novic")],-1)})),Bc=Cc((function(){return Object(n["h"])("div",{class:"admin-card"},[Object(n["h"])("i",{class:"fas fa-unlock-alt"}),Object(n["h"])("h2",null,"Admin panel")],-1)}));function qc(e,t,r,c,a,i){var s=Object(n["B"])("router-link");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",Pc,[Sc,Object(n["h"])("span",_c,Object(n["D"])(e.user.username)+"!",1)]),Object(n["h"])("div",Dc,[Object(n["k"])(s,{to:"/profile"},{default:Object(n["I"])((function(){return[Ic]})),_:1}),Object(n["k"])(s,{to:"/read"},{default:Object(n["I"])((function(){return[Uc]})),_:1}),Object(n["k"])(s,{to:"/liked"},{default:Object(n["I"])((function(){return[Ec]})),_:1}),Object(n["k"])(s,{to:"/today"},{default:Object(n["I"])((function(){return[$c]})),_:1}),Object(n["k"])(s,{to:"/"},{default:Object(n["I"])((function(){return[Nc]})),_:1}),e.isAdmin?(Object(n["u"])(),Object(n["e"])(s,{key:0,to:"/admin"},{default:Object(n["I"])((function(){return[Bc]})),_:1})):Object(n["f"])("",!0)])],64)}var Tc={name:"Dashboard",components:{},emits:["notify"],computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})),data:function(){return{}}};r("b491");const zc=oe()(Tc,[["render",qc],["__scopeId","data-v-354885ca"]]);var Lc=zc,Mc=function(e){return Object(n["x"])("data-v-4ddf6387"),e=e(),Object(n["v"])(),e},Vc={class:"text-3xl text-center"},Fc=Object(n["j"])("Domov"),Gc={key:0},Jc=Object(n["j"])(" > "),Kc=Object(n["j"])("Nadzorna Plošča"),Zc=Object(n["j"])(" > "),Wc=Mc((function(){return Object(n["h"])("span",{class:"text-green-600"},"Urejanje profila",-1)})),Hc={class:"my-10 border border-gray-400 rounded-md shadow-md flex flex-wrap sm:flex-nowrap overflow-hidden"},Qc={class:"w-full mb-7"},Xc={class:"form-control"},Yc=Mc((function(){return Object(n["h"])("label",{for:"email"},"E-Pošta",-1)})),ea=Mc((function(){return Object(n["h"])("i",{class:"far fa-envelope"},null,-1)})),ta=[ea],ra={class:"error"},na={class:"form-control"},ca=Mc((function(){return Object(n["h"])("label",{for:"username"},"Uporabniško Ime",-1)})),aa=Mc((function(){return Object(n["h"])("i",{class:"fas fa-user"},null,-1)})),ia=[aa],sa={class:"error"},oa={class:"form-control"},ua=Mc((function(){return Object(n["h"])("label",{for:"password"},"Ponovitev gesla",-1)})),la=Mc((function(){return Object(n["h"])("i",{class:"fas fa-key"},null,-1)})),da=[la],ba={class:"error"},ha={class:"form-control"},pa={class:"error"},ma=Mc((function(){return Object(n["h"])("button",{class:"p-3 mt-6 text-white rounded-sm bg-green-500 hover:bg-green-400 text-xl transition duration-200"}," Nazaj ",-1)})),fa={key:0,class:"saved-notice"};function ja(e,t,r,c,a,i){var s=Object(n["B"])("router-link");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",Vc,[Object(n["k"])(s,{to:"/"},{default:Object(n["I"])((function(){return[Fc]})),_:1}),e.authenticated?(Object(n["u"])(),Object(n["g"])("span",Gc,[Jc,Object(n["k"])(s,{to:"/dashboard"},{default:Object(n["I"])((function(){return[Kc]})),_:1})])):Object(n["f"])("",!0),Zc,Wc]),Object(n["h"])("div",Hc,[Object(n["h"])("div",Qc,[Object(n["h"])("div",Xc,[Yc,Object(n["h"])("div",{class:Object(n["q"])(["input-container",{borderRed:a.emailError}])},[Object(n["h"])("span",{class:Object(n["q"])(["icon-container",{backgroundRed:a.emailError}])},ta,2),Object(n["J"])(Object(n["h"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e}),placeholder:"primer@mail.com",onInput:t[1]||(t[1]=function(){return i.authenticateEmail&&i.authenticateEmail.apply(i,arguments)})},null,544),[[n["G"],a.email]])],2),Object(n["h"])("p",ra,Object(n["D"])(a.emailError),1)]),Object(n["h"])("div",na,[ca,Object(n["h"])("div",{class:Object(n["q"])(["input-container",{borderRed:a.usernameError}])},[Object(n["h"])("span",{class:Object(n["q"])(["icon-container",{backgroundRed:a.usernameError}])},ia,2),Object(n["J"])(Object(n["h"])("input",{type:"text",id:"username","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.username=e}),placeholder:"Vpišite vaše uporabniško ime",onInput:t[3]||(t[3]=function(){return i.authenticateUsername&&i.authenticateUsername.apply(i,arguments)})},null,544),[[n["G"],a.username]])],2),Object(n["h"])("p",sa,Object(n["D"])(a.usernameError),1)]),Object(n["h"])("div",oa,[ua,Object(n["h"])("div",{class:Object(n["q"])(["input-container",{borderRed:a.passwordError}])},[Object(n["h"])("span",{class:Object(n["q"])(["icon-container",{backgroundRed:a.passwordError}])},da,2),Object(n["J"])(Object(n["h"])("input",{type:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.password=e}),placeholder:"Potrdite spremembe z geslom",onInput:t[5]||(t[5]=function(){return i.authenticatePassword&&i.authenticatePassword.apply(i,arguments)})},null,544),[[n["G"],a.password]])],2),Object(n["h"])("p",ba,Object(n["D"])(a.passwordError),1)]),Object(n["h"])("div",ha,[Object(n["h"])("p",pa,Object(n["D"])(a.error),1),Object(n["h"])("button",{class:Object(n["q"])(["p-3 mt-6 mr-6 text-white rounded-sm bg-green-500 hover:bg-green-400 text-xl transition duration-200",{backgroundRed:a.formInvalid}]),onClick:t[6]||(t[6]=function(){return i.updateUser&&i.updateUser.apply(i,arguments)})}," Shrani spremembe ",2),Object(n["k"])(s,{to:"/dashboard"},{default:Object(n["I"])((function(){return[ma]})),_:1})]),a.saved?(Object(n["u"])(),Object(n["g"])("p",fa,"Spremembe so bile shranjene")):Object(n["f"])("",!0)])])],64)}var ga={name:"Dashboard",components:{},data:function(){return{username:"",email:"",password:"",emailError:"",usernameError:"",passwordError:"",formInvalid:!0,error:"",saved:!1}},emits:["notify"],computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user"})),created:function(){this.loadInfo()},methods:Object(C["a"])(Object(C["a"])({},Object(P["b"])({saveToken:"auth/saveToken"})),{},{loadInfo:function(){this.$nextTick((function(){this.username=this.user.username,this.email=this.user.email}))},authenticateEmail:function(){0==/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/.test(this.email)&&""!=this.email?this.emailError="E-Pošta mora biti v pravilnem formatu":this.emailError="",this.authenticateForm()},authenticateUsername:function(){0==/^[A-Za-z0-9 _]*[A-Za-z0-9][A-Za-z0-9 _]*$/.test(this.username)&&""!=this.username?this.usernameError="Uporabniško ime lahko vsebuje samo črke in številke":this.usernameError="",this.authenticateForm()},authenticatePassword:function(){this.password.length<5&&""!=this.password?this.passwordError="Geslo ime mora vsebovati vsaj 5 znakov":this.passwordError="",this.authenticateForm()},authenticateForm:function(){""!=this.email&&""!=this.username&&""!=this.password&&""===this.emailError&&""===this.usernameError&&""===this.passwordError?this.formInvalid=!1:this.formInvalid=!0},updateUser:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!1!==e.formInvalid){t.next=19;break}return t.prev=1,t.next=4,ht.updateUser(e.email,e.username,e.password);case 4:if(r=t.sent,200===r.status){t.next=9;break}e.$emit("notify",{type:"error",message:r.data}),t.next=14;break;case 9:return t.next=11,e.saveToken(r.data.accessToken);case 11:e.password="",e.error="",e.$emit("notify",{type:"success",message:"Profil je bil posodobljen"});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](1),e.error=t.t0.message;case 19:case"end":return t.stop()}}),t,null,[[1,16]])})))()}})};r("61d9");const Oa=oe()(ga,[["render",ja],["__scopeId","data-v-4ddf6387"]]);var va=Oa,ka=function(e){return Object(n["x"])("data-v-34fe8ce4"),e=e(),Object(n["v"])(),e},ya={class:"text-3xl border-b border-gray-600 pb-4 mb-10"},xa=Object(n["j"])("Domov"),wa={key:0},Ra=Object(n["j"])(" > "),Aa=Object(n["j"])("Nadzorna Plošča"),Ca=Object(n["j"])(" > "),Pa=ka((function(){return Object(n["h"])("span",{class:"text-green-600"},"Nedavno prebrano",-1)}));function Sa(e,t,r,c,a,i){var s=Object(n["B"])("router-link"),o=Object(n["B"])("Searchbar"),u=Object(n["B"])("Paginator"),l=Object(n["B"])("ArticlesListRead");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",ya,[Object(n["k"])(s,{to:"/"},{default:Object(n["I"])((function(){return[xa]})),_:1}),e.authenticated?(Object(n["u"])(),Object(n["g"])("span",wa,[Ra,Object(n["k"])(s,{to:"/dashboard"},{default:Object(n["I"])((function(){return[Aa]})),_:1})])):Object(n["f"])("",!0),Ca,Pa]),Object(n["k"])(o,{onSearch:i.search},null,8,["onSearch"]),a.pages>1?(Object(n["u"])(),Object(n["e"])(u,{key:0,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["h"])("div",{class:Object(n["q"])({animating:a.animating})},[Object(n["k"])(l,{articles:a.shownArticles},null,8,["articles"])],2),a.pages>1?(Object(n["u"])(),Object(n["e"])(u,{key:1,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0)],64)}r("7db0");function _a(e,t,r,c,a,i){var s=Object(n["B"])("NewsCardWide");return Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(r.articles,(function(e,t){return Object(n["u"])(),Object(n["e"])(s,{item:e,index:t,key:e.id,article:e,type:"read"},null,8,["item","index","article"])})),128)}var Da={class:"card"},Ia={class:"card-image"},Ua={key:0},Ea=["src"],$a={key:1},Na=["src"],Ba={class:"card-content"},qa={class:"card-title"},Ta={class:"card-description"},za={key:0,class:"mt-2 text-gray-800"},La={key:1,class:"mt-2 text-gray-800"},Ma={key:0,class:"mt-5 absolute bottom-4 right-2 text-right"},Va={class:"p-2 rounded-md bg-green-500 text-white font-semibold"};function Fa(e,t,r,c,a,i){var s=Object(n["B"])("router-link");return Object(n["u"])(),Object(n["g"])("div",Da,[Object(n["h"])("div",Ia,[Object(n["h"])("div",{class:Object(n["q"])(["card-source",{stiriindvajsetur:"24ur"===r.article.source,delo:"Delo"===r.article.source,slovenskenovice:"Slovenske Novice"===r.article.source,siol:"Siol"===r.article.source}])},Object(n["D"])(r.article.source),3),Object(n["k"])(s,{to:"/article/"+r.article._id},{default:Object(n["I"])((function(){return[null==r.article.image?(Object(n["u"])(),Object(n["g"])("span",Ua,[Object(n["h"])("img",{class:"card-image",src:a.noImage},null,8,Ea)])):(Object(n["u"])(),Object(n["g"])("span",$a,[Object(n["h"])("img",{class:"card-image",src:r.article.image},null,8,Na)]))]})),_:1},8,["to"])]),Object(n["h"])("div",Ba,[Object(n["k"])(s,{to:"/article/"+r.article._id},{default:Object(n["I"])((function(){return[Object(n["h"])("h2",qa,Object(n["D"])(r.article.title),1)]})),_:1},8,["to"]),Object(n["h"])("p",Ta,Object(n["D"])(r.article.summary.substring(0,150+r.article.summary.substring(149).indexOf(" "))+"..."),1),"read"==r.type?(Object(n["u"])(),Object(n["g"])("p",za,Object(n["D"])("Prebral "+r.article.readAgo),1)):Object(n["f"])("",!0),"liked"==r.type?(Object(n["u"])(),Object(n["g"])("p",La,Object(n["D"])("Všečkal "+r.article.likedAgo),1)):Object(n["f"])("",!0)]),"today"==r.type?(Object(n["u"])(),Object(n["g"])("p",Ma,[Object(n["h"])("span",Va,Object(n["D"])(r.article.time),1)])):Object(n["f"])("",!0)])}var Ga=r("e270"),Ja={name:"NewsCardWide",props:{article:Object,type:String},data:function(){return{noImage:Ga}}};r("0fd8");const Ka=oe()(Ja,[["render",Fa],["__scopeId","data-v-a86338cc"]]);var Za=Ka,Wa={name:"ArticlesListRead",components:{NewsCardWide:Za},props:{articles:Array}};const Ha=oe()(Wa,[["render",_a]]);var Qa=Ha;sc.a.locale("sl");var Xa={name:"Read",components:{ArticlesListRead:Qa,Paginator:je,Searchbar:Ae},emits:["notify"],data:function(){return{articles:[],queriedArticles:[],shownArticles:[],pages:10,currentPage:1,error:"",animating:!1}},computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user"})),methods:{getArticles:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.getReadArticles();case 3:for(e.articles=t.sent,r=0;r<e.articles.length;r++)n=e.articles[r].clicks.find((function(t){return t.userID==e.user._id})),c=sc()(n.createdAt).fromNow(),e.articles[r].readAgo=c,e.articles[r].readAt=n.createdAt;e.articles.sort((function(e,t){return new Date(t.readAt)-new Date(e.readAt)})),e.queriedArticles=e.articles,e.pages=Math.ceil(e.queriedArticles.length/10),e.changePageArticles(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.error=t.t0.message;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},changePage:function(e){this.currentPage=e,this.changePageArticles(),this.fadeList()},changePageArticles:function(){this.shownArticles=this.queriedArticles.slice(10*(this.currentPage-1),10*this.currentPage),this.fadeList()},search:function(e){this.queriedArticles=""!=e?this.articles.filter((function(t){return t.title.toLowerCase().includes(e)})):this.articles,this.pages=Math.ceil(this.queriedArticles.length/10),this.changePageArticles()},fadeList:function(){var e=this;this.animating=!0,setTimeout((function(){e.animating=!1}),1e3)}},beforeMount:function(){this.getArticles()}};r("19c8");const Ya=oe()(Xa,[["render",Sa],["__scopeId","data-v-34fe8ce4"]]);var ei=Ya,ti=function(e){return Object(n["x"])("data-v-6a11f021"),e=e(),Object(n["v"])(),e},ri={class:"text-3xl border-b border-gray-600 pb-4 mb-10"},ni=Object(n["j"])("Domov"),ci={key:0},ai=Object(n["j"])(" > "),ii=Object(n["j"])("Nadzorna Plošča"),si=Object(n["j"])(" > "),oi=ti((function(){return Object(n["h"])("span",{class:"text-green-600"},"Všečkane novice",-1)}));function ui(e,t,r,c,a,i){var s=Object(n["B"])("router-link"),o=Object(n["B"])("Searchbar"),u=Object(n["B"])("Paginator"),l=Object(n["B"])("ArticlesListLiked");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",ri,[Object(n["k"])(s,{to:"/"},{default:Object(n["I"])((function(){return[ni]})),_:1}),e.authenticated?(Object(n["u"])(),Object(n["g"])("span",ci,[ai,Object(n["k"])(s,{to:"/dashboard"},{default:Object(n["I"])((function(){return[ii]})),_:1})])):Object(n["f"])("",!0),si,oi]),Object(n["k"])(o,{onSearch:i.search},null,8,["onSearch"]),a.pages>1?(Object(n["u"])(),Object(n["e"])(u,{key:0,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["h"])("div",{class:Object(n["q"])({animating:a.animating})},[Object(n["k"])(l,{articles:a.shownArticles},null,8,["articles"])],2),a.pages>1?(Object(n["u"])(),Object(n["e"])(u,{key:1,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0)],64)}function li(e,t,r,c,a,i){var s=Object(n["B"])("NewsCardWide");return Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(r.articles,(function(e,t){return Object(n["u"])(),Object(n["e"])(s,{item:e,index:t,key:e.id,article:e,type:"liked"},null,8,["item","index","article"])})),128)}var di={name:"ArticlesListLiked",components:{NewsCardWide:Za},props:{articles:Array}};const bi=oe()(di,[["render",li]]);var hi=bi;sc.a.locale("sl");var pi={name:"Read",components:{ArticlesListLiked:hi,Paginator:je,Searchbar:Ae},data:function(){return{articles:[],queriedArticles:[],shownArticles:[],pages:10,currentPage:1,error:"",animating:!1}},computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user"})),emits:["notify"],methods:{getArticles:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.getLikedArticles();case 3:for(e.articles=t.sent,r=0;r<e.articles.length;r++)n=e.articles[r].likes.find((function(t){return t.userID==e.user._id})),c=sc()(n.createdAt).fromNow(),e.articles[r].likedAgo=c,e.articles[r].likedAt=n.createdAt;e.articles.sort((function(e,t){return new Date(t.likedAt)-new Date(e.likedAt)})),e.queriedArticles=e.articles,e.pages=Math.ceil(e.queriedArticles.length/10),e.changePageArticles(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.error=t.t0.message;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},changePage:function(e){this.currentPage=e,this.changePageArticles(),this.fadeList()},changePageArticles:function(){this.shownArticles=this.queriedArticles.slice(10*(this.currentPage-1),10*this.currentPage),this.fadeList()},search:function(e){this.queriedArticles=""!=e?this.articles.filter((function(t){return t.title.toLowerCase().includes(e)})):this.articles,this.pages=Math.ceil(this.queriedArticles.length/10),this.changePageArticles()},fadeList:function(){var e=this;this.animating=!0,setTimeout((function(){e.animating=!1}),1e3)}},beforeMount:function(){this.getArticles()}};r("cdac");const mi=oe()(pi,[["render",ui],["__scopeId","data-v-6a11f021"]]);var fi=mi,ji=function(e){return Object(n["x"])("data-v-48db2cb1"),e=e(),Object(n["v"])(),e},gi={class:"text-3xl border-b border-gray-600 pb-4 mb-10"},Oi=Object(n["j"])("Domov"),vi={key:0},ki=Object(n["j"])(" > "),yi=Object(n["j"])("Nadzorna Plošča"),xi=Object(n["j"])(" > "),wi=ji((function(){return Object(n["h"])("span",{class:"text-green-600"},"Novice dneva",-1)}));function Ri(e,t,r,c,a,i){var s=Object(n["B"])("router-link"),o=Object(n["B"])("Searchbar"),u=Object(n["B"])("Paginator"),l=Object(n["B"])("ArticlesListToday");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",gi,[Object(n["k"])(s,{to:"/"},{default:Object(n["I"])((function(){return[Oi]})),_:1}),e.authenticated?(Object(n["u"])(),Object(n["g"])("span",vi,[ki,Object(n["k"])(s,{to:"/dashboard"},{default:Object(n["I"])((function(){return[yi]})),_:1})])):Object(n["f"])("",!0),xi,wi]),Object(n["k"])(o,{onSearch:i.search},null,8,["onSearch"]),a.pages>1?(Object(n["u"])(),Object(n["e"])(u,{key:0,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["h"])("div",{class:Object(n["q"])({animating:a.animating})},[Object(n["k"])(l,{articles:a.shownArticles},null,8,["articles"])],2),a.pages>1?(Object(n["u"])(),Object(n["e"])(u,{key:1,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0)],64)}function Ai(e,t,r,c,a,i){var s=Object(n["B"])("NewsCardWide");return Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(r.articles,(function(e){return Object(n["u"])(),Object(n["e"])(s,{item:e,key:e.id,article:e,type:"today"},null,8,["item","article"])})),128)}var Ci={name:"ArticlesListToday",components:{NewsCardWide:Za},props:{articles:Array}};const Pi=oe()(Ci,[["render",Ai]]);var Si=Pi;sc.a.locale("sl");var _i={name:"Read",components:{ArticlesListToday:Si,Paginator:je,Searchbar:Ae},emits:["notify"],data:function(){return{articles:[],queriedArticles:[],shownArticles:[],pages:10,currentPage:1,error:"",animating:!1}},computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user"})),methods:{getArticles:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.getTodayArticles();case 3:e.articles=t.sent,e.queriedArticles=e.articles,e.pages=Math.ceil(e.queriedArticles.length/10),e.changePageArticles(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.error=t.t0.message;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},changePage:function(e){this.currentPage=e,this.changePageArticles(),this.fadeList()},changePageArticles:function(){this.shownArticles=this.queriedArticles.slice(10*(this.currentPage-1),10*this.currentPage),this.fadeList()},search:function(e){this.queriedArticles=""!=e?this.articles.filter((function(t){return t.title.toLowerCase().includes(e)})):this.articles,this.pages=Math.ceil(this.queriedArticles.length/10),this.changePageArticles()},fadeList:function(){var e=this;this.animating=!0,setTimeout((function(){e.animating=!1}),1e3)}},beforeMount:function(){this.getArticles()}};r("80ac");const Di=oe()(_i,[["render",Ri],["__scopeId","data-v-48db2cb1"]]);var Ii=Di,Ui=function(e){return Object(n["x"])("data-v-7592f311"),e=e(),Object(n["v"])(),e},Ei=Ui((function(){return Object(n["h"])("h1",{class:"text-3xl border-b border-gray-600 pb-4"},"Nadzorna plošča",-1)})),$i={class:"action-list"},Ni=Ui((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"far fa-newspaper"}),Object(n["h"])("h2",null,"Novice")],-1)})),Bi=Ui((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"fas fa-users"}),Object(n["h"])("h2",null,"Uporabniki")],-1)})),qi=Ui((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"fas fa-plus"}),Object(n["h"])("h2",null,"Posodobi novice")],-1)}));function Ti(e,t,r,c,a,i){var s=Object(n["B"])("router-link");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Ei,Object(n["h"])("div",$i,[Object(n["k"])(s,{to:"/admin/articles"},{default:Object(n["I"])((function(){return[Ni]})),_:1}),Object(n["k"])(s,{to:"/admin/users"},{default:Object(n["I"])((function(){return[Bi]})),_:1}),Object(n["k"])(s,{to:"/admin/articles/update"},{default:Object(n["I"])((function(){return[qi]})),_:1})])],64)}var zi={name:"Admin",components:{},emits:["notify"],computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})),data:function(){return{}},beforeMount:function(){this.isAdmin||No.push("/login")}};r("d088");const Li=oe()(zi,[["render",Ti],["__scopeId","data-v-7592f311"]]);var Mi=Li,Vi=function(e){return Object(n["x"])("data-v-30fb0a7c"),e=e(),Object(n["v"])(),e},Fi={class:"text-3xl border-b border-gray-600 pb-4 mb-10"},Gi=Object(n["j"])("Admin"),Ji=Object(n["j"])(" > "),Ki=Vi((function(){return Object(n["h"])("span",{class:"text-green-600"},"Novice",-1)})),Zi={class:"block overflow-auto"},Wi={class:"table-fixed"},Hi=Vi((function(){return Object(n["h"])("tr",{class:"rounded-t-md"},[Object(n["h"])("th",{class:"source"},"Source"),Object(n["h"])("th",{class:"title"},"Title"),Object(n["h"])("th",{class:"datetime"},"Date & Time"),Object(n["h"])("th",{class:"actions"},"Actions")],-1)})),Qi=["item","index","article"],Xi={class:"text-center"},Yi={class:"font-bold"},es={class:"actions-container"},ts=["onClick"],rs={key:0,class:"far fa-eye"},ns={key:1,class:"far fa-eye-slash"},cs={class:"tooltip"},as={key:0},is={key:1},ss=["onClick"],os=Vi((function(){return Object(n["h"])("i",{class:"fas fa-trash"},null,-1)})),us=Vi((function(){return Object(n["h"])("div",{class:"tooltip"},[Object(n["h"])("p",null,"Delete")],-1)})),ls=[os,us];function ds(e,t,r,c,a,i){var s=Object(n["B"])("router-link"),o=Object(n["B"])("Searchbar"),u=Object(n["B"])("SourcesFilter"),l=Object(n["B"])("Paginator"),d=Object(n["B"])("OrderSelect"),b=Object(n["B"])("Alert");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",Fi,[Object(n["k"])(s,{to:"/admin"},{default:Object(n["I"])((function(){return[Gi]})),_:1}),Ji,Ki]),Object(n["k"])(o,{onSearch:i.search},null,8,["onSearch"]),Object(n["k"])(u,{toggledSources:a.toggledSources,onToggle:i.toggleSource},null,8,["toggledSources","onToggle"]),a.pages>1?(Object(n["u"])(),Object(n["e"])(l,{key:0,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["k"])(d,{order:a.order,onSelect:i.orderSelect},null,8,["order","onSelect"]),Object(n["h"])("div",Zi,[Object(n["h"])("table",Wi,[Hi,(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(a.shownArticles,(function(e,t){return Object(n["u"])(),Object(n["g"])("tr",{item:e,index:t,key:e.id,article:e},[Object(n["h"])("td",null,Object(n["D"])(e.source),1),Object(n["h"])("td",null,[Object(n["k"])(s,{to:"/article/"+e._id},{default:Object(n["I"])((function(){return[Object(n["j"])(Object(n["D"])(e.title),1)]})),_:2},1032,["to"])]),Object(n["h"])("td",Xi,[Object(n["h"])("p",null,Object(n["D"])(e.date),1),Object(n["h"])("p",Yi,Object(n["D"])(e.time),1)]),Object(n["h"])("td",null,[Object(n["h"])("div",es,[Object(n["h"])("span",{onClick:function(t){return i.toggleVisibility(e._id)}},[e.hidden?(Object(n["u"])(),Object(n["g"])("i",ns)):(Object(n["u"])(),Object(n["g"])("i",rs)),Object(n["h"])("div",cs,[e.hidden?(Object(n["u"])(),Object(n["g"])("p",is,"Unhide")):(Object(n["u"])(),Object(n["g"])("p",as,"Hide"))])],8,ts),Object(n["h"])("span",{onClick:function(t){return i.deleteArticleConfirm(e._id)}},ls,8,ss)])])],8,Qi)})),128))])]),a.pages>1?(Object(n["u"])(),Object(n["e"])(l,{key:1,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["k"])(b,{text:"Želite izbrisati članek?",open:a.alert,onOk:i.alertOK,onCancel:i.alertCancel},null,8,["open","onOk","onCancel"])],64)}var bs=function(){function e(){Object(U["a"])(this,e)}return Object(E["a"])(e,null,[{key:"toggleVisibility",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("admin/articles/toggleVisibility/"+t);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteArticle",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.delete("admin/articles/"+t);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("admin/articles/find/"+t);case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("admin/articles/search/"+t+"/"+r);case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getUsers",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("admin/users");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("admin/user/"+t);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchUsers",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("admin/users/search/"+t);case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.delete("admin/users/"+t);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.put("/admin/user",{user:t});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"muteUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("admin/user/mute",{userID:t,muteDays:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"unmuteUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("admin/user/unmute",{userID:t});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("scraper/"+t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),hs=bs,ps={name:"ArticlesList",components:{Paginator:je,Searchbar:Ae,SourcesFilter:De,OrderSelect:Fe,Alert:xc},emits:["notify"],computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})),data:function(){return{alert:!1,articles:[],filteredArticles:[],shownArticles:[],pages:10,currentPage:1,order:"newest",toggledSources:{ur:!0,Delo:!0,Siol:!0,SlovenskeNovice:!0,list:["24ur","Delo","Siol","Slovenske Novice"]},deleteID:"",error:""}},methods:{getArticles:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"sport"!=e.$route.params.category){t.next=7;break}return t.next=4,hs.getArticles("sport");case 4:e.articles=t.sent,t.next=16;break;case 7:if("chronicle"!=e.$route.params.category){t.next=13;break}return t.next=10,hs.getArticles("chronicle");case 10:e.articles=t.sent,t.next=16;break;case 13:return t.next=15,hs.getArticles("all");case 15:e.articles=t.sent;case 16:e.filterArticles(),e.changePageArticles(),t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](0),e.error=t.t0.message;case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},changePage:function(e){this.currentPage=e,this.changePageArticles()},changePageArticles:function(){this.shownArticles=this.filteredArticles.slice(30*(this.currentPage-1),30*this.currentPage)},search:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(""==e){r.next=18;break}if("sport"!=t.$route.params.category){r.next=7;break}return r.next=4,hs.searchArticles(e,"sport");case 4:t.articles=r.sent,r.next=16;break;case 7:if("chronicle"!=t.$route.params.category){r.next=13;break}return r.next=10,hs.searchArticles(e,"chronicle");case 10:t.articles=r.sent,r.next=16;break;case 13:return r.next=15,hs.searchArticles(e,"all");case 15:t.articles=r.sent;case 16:r.next=33;break;case 18:if("sport"!=t.$route.params.category){r.next=24;break}return r.next=21,hs.getArticles("sport");case 21:t.articles=r.sent,r.next=33;break;case 24:if("chronicle"!=t.$route.params.category){r.next=30;break}return r.next=27,hs.getArticles("chronicle");case 27:t.articles=r.sent,r.next=33;break;case 30:return r.next=32,hs.getArticles("all");case 32:t.articles=r.sent;case 33:t.filterArticles(),t.changePageArticles();case 35:case"end":return r.stop()}}),r)})))()},toggleSource:function(e){if("24ur"==e)if(this.toggledSources.ur=!this.toggledSources.ur,this.toggledSources.ur)this.toggledSources.list.push("24ur");else{var t=this.toggledSources.list.indexOf("24ur");this.toggledSources.list.splice(t,1)}else if("Slovenske Novice"==e)if(this.toggledSources.SlovenskeNovice=!this.toggledSources.SlovenskeNovice,this.toggledSources.SlovenskeNovice)this.toggledSources.list.push("Slovenske Novice");else{var r=this.toggledSources.list.indexOf("Slovenske Novice");this.toggledSources.list.splice(r,1)}else if(this.toggledSources[e]=!this.toggledSources[e],this.toggledSources[e])this.toggledSources.list.push(e);else{var n=this.toggledSources.list.indexOf(e);this.toggledSources.list.splice(n,1)}this.filterArticles()},filterArticles:function(){var e=this;this.filteredArticles=this.articles.filter((function(t){return e.toggledSources.list.includes(t.source)})),this.pages=Math.ceil(this.filteredArticles.length/30),this.orderArticles(),this.changePageArticles()},orderSelect:function(e){this.order=e,this.orderArticles(),this.changePageArticles()},orderArticles:function(){switch(this.order){case"newest":this.filteredArticles.sort((function(e,t){return t.timestamp>e.timestamp?1:-1}));break;case"oldest":this.filteredArticles.sort((function(e,t){return e.timestamp>t.timestamp?1:-1}));break;case"popular":this.filteredArticles.sort((function(e,t){return t.likes.length-e.likes.length||t.timestamp-e.timestamp}));break;default:this.filteredArticles.sort((function(e,t){return t.timestamp>e.timestamp?1:-1}));break}},toggleVisibility:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,hs.toggleVisibility(e);case 3:t.getArticles(),t.$emit("notify",{type:"success",message:"Vidnost članka je bila spremenjena"}),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),t.error=r.t0.message;case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},deleteArticleConfirm:function(e){this.deleteID=e,this.alert=!0},alertOK:function(){this.alert=!1,this.deleteArticle(this.deleteID)},alertCancel:function(){this.alert=!1,this.deleteID=""},deleteArticle:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,hs.deleteArticle(e);case 3:t.getArticles(),t.$emit("notify",{type:"success",message:"Članek je bil izbrisan"}),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),t.error=r.t0.message;case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()}},beforeMount:function(){this.isAdmin||No.push("/login"),this.getArticles()}};r("d67a");const ms=oe()(ps,[["render",ds],["__scopeId","data-v-30fb0a7c"]]);var fs=ms,js=function(e){return Object(n["x"])("data-v-6d1242d1"),e=e(),Object(n["v"])(),e},gs={class:"text-3xl border-b border-gray-600 pb-4 mb-10"},Os=Object(n["j"])("Admin"),vs=Object(n["j"])(" > "),ks=js((function(){return Object(n["h"])("span",{class:"text-green-600"},"Uporabniki",-1)})),ys={class:"block overflow-auto"},xs={class:"w-full"},ws=js((function(){return Object(n["h"])("tr",{class:"rounded-t-md"},[Object(n["h"])("th",{class:"username"},"Username"),Object(n["h"])("th",{class:"email"},"Email"),Object(n["h"])("th",{class:"actions"},"Actions")],-1)})),Rs=["item","index","user"],As={class:"actions-container"},Cs=js((function(){return Object(n["h"])("i",{class:"fas fa-pen"},null,-1)})),Ps=js((function(){return Object(n["h"])("div",{class:"tooltip"},[Object(n["h"])("p",null,"Edit")],-1)})),Ss=["onClick"],_s=js((function(){return Object(n["h"])("i",{class:"fas fa-trash"},null,-1)})),Ds=js((function(){return Object(n["h"])("div",{class:"tooltip"},[Object(n["h"])("p",null,"Delete")],-1)})),Is=[_s,Ds];function Us(e,t,r,c,a,i){var s=Object(n["B"])("router-link"),o=Object(n["B"])("Searchbar"),u=Object(n["B"])("Paginator"),l=Object(n["B"])("OrderSelect"),d=Object(n["B"])("Alert");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",gs,[Object(n["k"])(s,{to:"/admin"},{default:Object(n["I"])((function(){return[Os]})),_:1}),vs,ks]),Object(n["k"])(o,{onSearch:i.search},null,8,["onSearch"]),a.pages>1?(Object(n["u"])(),Object(n["e"])(u,{key:0,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["k"])(l,{order:a.order,onSelect:i.orderSelect},null,8,["order","onSelect"]),Object(n["h"])("div",ys,[Object(n["h"])("table",xs,[ws,(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(a.shownUsers,(function(e,t){return Object(n["u"])(),Object(n["g"])("tr",{item:e,index:t,key:e._id,user:e},[Object(n["h"])("td",null,Object(n["D"])(e.username),1),Object(n["h"])("td",null,[Object(n["h"])("p",null,Object(n["D"])(e.email),1)]),Object(n["h"])("td",null,[Object(n["h"])("div",As,[Object(n["h"])("span",null,[Object(n["k"])(s,{to:"/admin/user/"+e._id},{default:Object(n["I"])((function(){return[Cs,Ps]})),_:2},1032,["to"])]),Object(n["h"])("span",{onClick:function(t){return i.deleteUserConfirm(e._id)}},Is,8,Ss)])])],8,Rs)})),128))])]),a.pages>1?(Object(n["u"])(),Object(n["e"])(u,{key:1,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["k"])(d,{text:"Želite zavedno izbrisati uporabnika?",open:a.alert,onOk:i.alertOK,onCancel:i.alertCancel},null,8,["open","onOk","onCancel"])],64)}var Es={name:"AdminUsers",components:{Paginator:je,Searchbar:Ae,OrderSelect:Fe,Alert:xc},emits:["notify"],computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})),data:function(){return{alert:!1,users:[],shownUsers:[],pages:10,currentPage:1,order:"newest",deleteID:"",error:""}},methods:{getUsers:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,hs.getUsers();case 3:e.users=t.sent,e.pages=Math.ceil(e.users.length/30),e.changePageUsers(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.error=t.t0.message;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},changePage:function(e){this.currentPage=e,this.changePageUsers()},changePageUsers:function(){this.shownUsers=this.users.slice(30*(this.currentPage-1),30*this.currentPage)},search:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(""==e){r.next=6;break}return r.next=3,hs.searchUsers(e);case 3:t.users=r.sent,r.next=9;break;case 6:return r.next=8,hs.getUsers();case 8:t.users=r.sent;case 9:t.changePageUsers();case 10:case"end":return r.stop()}}),r)})))()},orderSelect:function(e){this.order=e,this.orderUsers(),this.changePageUsers()},orderUsers:function(){switch(this.order){case"newest":this.users.sort((function(e,t){return t.createdAt>e.createdAt?1:-1}));break;case"oldest":this.users.sort((function(e,t){return e.createdAt>t.createdAt?1:-1}));break;default:this.users.sort((function(e,t){return t.createdAt>e.createdAt?1:-1}));break}},deleteUserConfirm:function(e){this.deleteID=e,this.alert=!0},alertOK:function(){this.alert=!1,this.deleteUser(this.deleteID)},alertCancel:function(){this.alert=!1,this.deleteID=""},deleteUser:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,hs.deleteUser(e);case 3:t.getUsers(),t.$emit("notify",{type:"success",message:"Izbrisal uporabnika"}),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),t.error=r.t0.message;case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()}},beforeMount:function(){this.isAdmin||No.push("/login"),this.getUsers()}};r("a385");const $s=oe()(Es,[["render",Us],["__scopeId","data-v-6d1242d1"]]);var Ns=$s,Bs=function(e){return Object(n["x"])("data-v-b4e516ca"),e=e(),Object(n["v"])(),e},qs={class:"text-3xl text-center"},Ts=Object(n["j"])("Admin"),zs=Object(n["j"])(" > "),Ls=Object(n["j"])("Uporabniki"),Ms=Object(n["j"])(" > "),Vs=Bs((function(){return Object(n["h"])("span",{class:"text-green-600"},"Urejanje uporabnika",-1)})),Fs={class:"my-10 border border-gray-400 rounded-md shadow-md flex flex-row flex-wrap sm:flex-nowrap overflow-hidden"},Gs={class:"w-full"},Js={class:"form-control"},Ks=Bs((function(){return Object(n["h"])("span",{class:"font-bold text-lg"},"ID: ",-1)})),Zs={class:"form-control"},Ws=Bs((function(){return Object(n["h"])("label",{for:"email"},"E-Pošta",-1)})),Hs={class:"input-container"},Qs=Bs((function(){return Object(n["h"])("span",{class:"icon-container"},[Object(n["h"])("i",{class:"far fa-envelope"})],-1)})),Xs={class:"form-control"},Ys=Bs((function(){return Object(n["h"])("label",{for:"username"},"Uporabniško Ime",-1)})),eo={class:"input-container"},to=Bs((function(){return Object(n["h"])("span",{class:"icon-container"},[Object(n["h"])("i",{class:"fas fa-user"})],-1)})),ro={class:"form-control"},no={class:"error"},co=Bs((function(){return Object(n["h"])("hr",{class:"border-gray-400"},null,-1)})),ao={class:"form-control"},io={key:0,class:"text-red-500 font-semibold text-lg"},so=Bs((function(){return Object(n["h"])("label",{for:"muteDays"},"Blokiraj uporabnika za:",-1)})),oo={class:"input-container"},uo=Bs((function(){return Object(n["h"])("span",{class:"icon-container"},"dni",-1)})),lo={class:"flex justify-between"};function bo(e,t,r,c,a,i){var s=Object(n["B"])("router-link");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",qs,[Object(n["h"])("span",null,[Object(n["k"])(s,{to:"/admin"},{default:Object(n["I"])((function(){return[Ts]})),_:1})]),zs,Object(n["h"])("span",null,[Object(n["k"])(s,{to:"/admin/users"},{default:Object(n["I"])((function(){return[Ls]})),_:1})]),Ms,Vs]),Object(n["h"])("div",Fs,[Object(n["h"])("div",Gs,[Object(n["h"])("div",Js,[Ks,Object(n["h"])("span",{class:"cursor-pointer",onClick:t[0]||(t[0]=function(e){return i.copyID(a.editUser._id)})},Object(n["D"])(a.editUser._id),1)]),Object(n["h"])("div",Zs,[Ws,Object(n["h"])("div",Hs,[Qs,Object(n["J"])(Object(n["h"])("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.editUser.email=e}),placeholder:"primer@mail.com"},null,512),[[n["G"],a.editUser.email]])])]),Object(n["h"])("div",Xs,[Ys,Object(n["h"])("div",eo,[to,Object(n["J"])(Object(n["h"])("input",{type:"text",id:"username","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.editUser.username=e}),placeholder:"Vpišite vaše uporabniško ime"},null,512),[[n["G"],a.editUser.username]])])]),Object(n["h"])("div",ro,[Object(n["h"])("p",no,Object(n["D"])(a.error),1),Object(n["h"])("p",null,Object(n["D"])(a.notice),1),Object(n["h"])("button",{class:"p-2 text-white rounded-sm bg-green-500 hover:bg-green-400 text-xl transition duration-200",onClick:t[3]||(t[3]=function(){return i.updateUser&&i.updateUser.apply(i,arguments)})}," Shrani spremembe ")]),co,Object(n["h"])("div",ao,[a.editUser.muteExpiration?(Object(n["u"])(),Object(n["g"])("p",io,Object(n["D"])("Uporabnik je blokiran do "+a.mutedString),1)):Object(n["f"])("",!0),so,Object(n["h"])("div",oo,[Object(n["J"])(Object(n["h"])("input",{type:"number",id:"muteDays","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.muteDays=e})},null,512),[[n["G"],a.muteDays]]),uo]),Object(n["h"])("div",lo,[Object(n["h"])("button",{onClick:t[5]||(t[5]=function(){return i.muteUser&&i.muteUser.apply(i,arguments)}),class:"p-2 mt-3 text-white rounded-sm bg-green-500 hover:bg-green-400 text-xl transition duration-200"}," Blokiraj "),Object(n["h"])("button",{onClick:t[6]||(t[6]=function(){return i.unmuteUser&&i.unmuteUser.apply(i,arguments)}),class:"p-2 mt-3 text-white rounded-sm bg-green-500 hover:bg-green-400 text-xl transition duration-200"}," Razveljavi ")])])])])],64)}sc.a.locale("sl");var ho={name:"AdminUserEdit",computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})),emits:["notify"],data:function(){return{editUser:{},error:"",notice:"",muteDays:null,mutedString:""}},methods:{getUser:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,hs.getUser(e);case 3:n=r.sent,n.data?t.editUser=n.data:t.$emit("notify",{type:"error",message:n}),t.editUser.muteExpiration&&(t.mutedString=sc()(t.editUser.muteExpiration).format("LLL")),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),t.$emit("notify",{type:"error",message:r.t0});case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},copyID:function(e){navigator.clipboard.writeText(e)},updateUser:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,hs.updateUser({_id:e.editUser._id,username:e.editUser.username,email:e.editUser.email});case 3:r=t.sent,200==r.status?e.$emit("notify",{type:"success",message:"Uporabnik je bil posodobljen"}):e.$emit("notify",{type:"error",message:r}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$emit("notify",{type:"error",message:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},muteUser:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,hs.muteUser(e.editUser._id,e.muteDays);case 3:e.muteDays=null,e.getUser(e.$route.params.id),e.$emit("notify",{type:"success",message:"Muted"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$emit("notify",{type:"error",message:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},unmuteUser:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,hs.unmuteUser(e.editUser._id);case 3:e.muteDays=null,e.getUser(e.$route.params.id),e.$emit("notify",{type:"success",message:"Unmuted"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$emit("notify",{type:"error",message:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},beforeMount:function(){this.isAdmin||No.push("/login"),this.getUser(this.$route.params.id)}};r("45f9");const po=oe()(ho,[["render",bo],["__scopeId","data-v-b4e516ca"]]);var mo=po,fo=function(e){return Object(n["x"])("data-v-96aaa9b0"),e=e(),Object(n["v"])(),e},jo={class:"text-3xl border-b border-gray-600 pb-4 mb-10"},go=Object(n["j"])("Admin"),Oo=Object(n["j"])(" > "),vo=fo((function(){return Object(n["h"])("span",{class:"text-green-600"},"Posodabljanje novic",-1)})),ko={class:"flex flex-row justify-between flex-wrap"},yo={key:0,class:"flex justify-center mt-10"},xo=["src"],wo={key:1,class:"table-fixed"},Ro=fo((function(){return Object(n["h"])("tr",{class:"rounded-t-md"},[Object(n["h"])("th",{class:"source"},"Source"),Object(n["h"])("th",{class:"title"},"Title"),Object(n["h"])("th",{class:"datetime"},"Date & Time")],-1)})),Ao=["item","index","article"],Co={class:"text-center"},Po={class:"font-bold"};function So(e,t,r,c,a,i){var s=Object(n["B"])("router-link");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",jo,[Object(n["k"])(s,{to:"/admin"},{default:Object(n["I"])((function(){return[go]})),_:1}),Oo,vo]),Object(n["h"])("div",ko,[Object(n["h"])("button",{onClick:t[0]||(t[0]=function(e){return i.updateArticles("all")})},"Vse"),Object(n["h"])("button",{onClick:t[1]||(t[1]=function(e){return i.updateArticles("24ur")})},"24ur"),Object(n["h"])("button",{onClick:t[2]||(t[2]=function(e){return i.updateArticles("siol")})},"Siol"),Object(n["h"])("button",{onClick:t[3]||(t[3]=function(e){return i.updateArticles("delo")})},"Delo"),Object(n["h"])("button",{onClick:t[4]||(t[4]=function(e){return i.updateArticles("slovenskenovice")})},"Slovenske Novice")]),a.loading?(Object(n["u"])(),Object(n["g"])("div",yo,[Object(n["h"])("img",{src:a.loadingGif,alt:"loading..."},null,8,xo)])):Object(n["f"])("",!0),a.newArticles&&!a.loading?(Object(n["u"])(),Object(n["g"])("table",wo,[Ro,(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(a.newArticles,(function(e,t){return Object(n["u"])(),Object(n["g"])("tr",{item:e,index:t,key:e._id,article:e},[Object(n["h"])("td",null,Object(n["D"])(e.source),1),Object(n["h"])("td",null,[Object(n["k"])(s,{to:"/article/"+e._id},{default:Object(n["I"])((function(){return[Object(n["j"])(Object(n["D"])(e.title),1)]})),_:2},1032,["to"])]),Object(n["h"])("td",Co,[Object(n["h"])("p",null,Object(n["D"])(e.date),1),Object(n["h"])("p",Po,Object(n["D"])(e.time),1)])],8,Ao)})),128))])):Object(n["f"])("",!0)],64)}var _o=r("cf1c"),Do={name:"AdminArticlesUpdate",components:{},emits:["notify"],computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})),data:function(){return{newArticles:null,loading:!1,loadingGif:_o,error:""}},methods:{updateArticles:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.loading){r.next=2;break}return r.abrupt("return");case 2:return t.loading=!0,r.prev=3,r.next=6,hs.updateArticles(e);case 6:t.newArticles=r.sent,t.$emit("notify",{type:"success",message:"Članki so bili dodani"}),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](3),t.error=r.t0.message;case 13:t.loading=!1;case 14:case"end":return r.stop()}}),r,null,[[3,10]])})))()}},beforeMount:function(){this.isAdmin||No.push("/login")}};r("db32");const Io=oe()(Do,[["render",So],["__scopeId","data-v-96aaa9b0"]]);var Uo=Io,Eo=[{path:"/",name:"Home",component:He},{path:"/news",name:"News",component:He},{path:"/news/:category",name:"News",component:He},{path:"/login",name:"Login",component:ft,beforeEnter:function(e,t,r){if(localStorage.getItem("token"))return r({name:"Dashboard"});r()}},{path:"/register",name:"Register",component:Jt,beforeEnter:function(e,t,r){if(localStorage.getItem("token"))return r({name:"Dashboard"});r()}},{path:"/dashboard",name:"Dashboard",component:Lc,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/profile",name:"Profile",component:va,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/read",name:"Read",component:ei,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/liked",name:"Liked",component:fi,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/today",name:"Today",component:Ii},{path:"/article/:id",name:"Article",component:Ac},{path:"/admin",name:"Admin",component:Mi,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/admin/articles",name:"AdminArticles",component:fs,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/admin/users",name:"AdminUsers",component:Ns,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/admin/user/:id",name:"AdminUserEdit",component:mo,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/admin/articles/update",name:"AdminArticlesUpdate",component:Uo,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}}],$o=Object(S["a"])({history:Object(S["b"])("/"),routes:Eo}),No=$o,Bo={name:"Header",computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user"})),emits:["openMenu"],methods:Object(C["a"])(Object(C["a"])({},Object(P["b"])({logoutAction:"auth/logout"})),{},{logout:function(){No.push("/"),this.logoutAction()}})};r("15b6");const qo=oe()(Bo,[["render",A],["__scopeId","data-v-76da8a8f"]]);var To=qo,zo=Object(n["i"])('<div data-v-0c5d9bb7><h1 class="text-center font-semibold text-2xl text-white" data-v-0c5d9bb7>Viri</h1><ul data-v-0c5d9bb7><li data-v-0c5d9bb7><a href="https://www.24ur.com/" data-v-0c5d9bb7>24ur</a></li><li data-v-0c5d9bb7><a href="https://www.delo.si/" data-v-0c5d9bb7>Delo</a></li><li data-v-0c5d9bb7><a href="https://siol.net/" data-v-0c5d9bb7>Siol</a></li><li data-v-0c5d9bb7><a href="https://www.slovenskenovice.si/" data-v-0c5d9bb7>Slovenske Novice</a></li></ul></div>',1),Lo=[zo];function Mo(e,t,r,c,a,i){return Object(n["u"])(),Object(n["g"])("footer",null,Lo)}var Vo={name:"Footer"};r("628e");const Fo=oe()(Vo,[["render",Mo],["__scopeId","data-v-0c5d9bb7"]]);var Go=Fo,Jo={class:"notifications-container"},Ko=["item","index","notification"];function Zo(e,t,r,c,a,i){return Object(n["u"])(),Object(n["g"])("div",Jo,[Object(n["h"])("ul",null,[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(r.notifications,(function(e,t){return Object(n["u"])(),Object(n["g"])("li",{item:e,index:t,key:t,notification:e},[Object(n["h"])("div",{class:Object(n["q"])(["notification",{success:"success"==e.type,error:"error"==e.type}])},Object(n["D"])(e.message),3)],8,Ko)})),128))])])}var Wo={name:"Notifications",props:{notifications:Array}};r("2c48");const Ho=oe()(Wo,[["render",Zo],["__scopeId","data-v-1b0b04a0"]]);var Qo=Ho,Xo=function(e){return Object(n["x"])("data-v-1c037267"),e=e(),Object(n["v"])(),e},Yo={key:0,class:"menu"},eu={class:"menu-head"},tu={class:"menu-body"},ru=Xo((function(){return Object(n["h"])("span",{class:"text-xl uppercase"},"Domov",-1)})),nu=Xo((function(){return Object(n["h"])("span",{class:"text-xl uppercase"},"Šport",-1)})),cu=Xo((function(){return Object(n["h"])("span",{class:"text-xl uppercase"},"Danes",-1)}));function au(e,t,r,c,a,i){var s=Object(n["B"])("router-link");return Object(n["u"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(n["b"],{name:"fade"},{default:Object(n["I"])((function(){return[r.open?(Object(n["u"])(),Object(n["g"])("div",{key:0,class:"menu-background",onClick:t[0]||(t[0]=function(){return i.close&&i.close.apply(i,arguments)})})):Object(n["f"])("",!0)]})),_:1}),Object(n["k"])(n["b"],{name:"slide-fade"},{default:Object(n["I"])((function(){return[r.open?(Object(n["u"])(),Object(n["g"])("div",Yo,[Object(n["h"])("div",eu,[Object(n["h"])("i",{class:"fas fa-window-close text-3xl",onClick:t[1]||(t[1]=function(){return i.close&&i.close.apply(i,arguments)})}),Object(n["k"])(s,{to:"/"},{default:Object(n["I"])((function(){return[Object(n["h"])("span",{class:"text-4xl ml-10",onClick:t[2]||(t[2]=function(){return i.close&&i.close.apply(i,arguments)})},"Novice")]})),_:1})]),Object(n["h"])("div",tu,[Object(n["h"])("ul",null,[Object(n["h"])("li",null,[Object(n["k"])(s,{to:"/",onClick:i.close},{default:Object(n["I"])((function(){return[ru]})),_:1},8,["onClick"])]),Object(n["h"])("li",null,[Object(n["k"])(s,{to:"/news/sport",onClick:i.close},{default:Object(n["I"])((function(){return[nu]})),_:1},8,["onClick"])]),Object(n["h"])("li",null,[Object(n["k"])(s,{to:"/today",onClick:i.close},{default:Object(n["I"])((function(){return[cu]})),_:1},8,["onClick"])])])])])):Object(n["f"])("",!0)]})),_:1})],64)}var iu={name:"Menu",emits:["closeMenu"],props:["open"],data:function(){return{}},methods:{close:function(){this.$emit("closeMenu")}}};r("cb51");const su=oe()(iu,[["render",au],["__scopeId","data-v-1c037267"]]);var ou=su,uu={components:{Header:To,Footer:Go,Notifications:Qo,Menu:ou},data:function(){return{fade:!1,menu:!1,notifications:[]}},methods:{scrollUp:function(){window.scroll({top:0,behavior:"smooth"})},fadeContent:function(){var e=this;this.fade=!1,this.fade=!0,setTimeout((function(){e.fade=!1}),1e3)},addNotification:function(e){var t=this,r={type:e.type,message:e.message,createdAt:Date.now()};this.notifications.push(r),setTimeout((function(){var e=t.notifications.indexOf(r);t.notifications.splice(e,1)}),5e3)},openMenu:function(){this.menu=!0},closeMenu:function(){this.menu=!1}},watch:{$route:function(){this.fadeContent(),this.scrollUp()}}};r("16ea");const lu=oe()(uu,[["render",s]]);var du=lu,bu=(r("ba8c"),r("0e44")),hu={namespaced:!0,state:{token:null,user:null},getters:{authenticated:function(e){return!(!e.token||!e.user)},isAdmin:function(e){return!!e.user.isAdmin},muted:function(e){return!(!(e.user.muteExpiration&&new Date(e.user.muteExpiration)>new Date)||e.user.isAdmin)},user:function(e){return e.user}},mutations:{SET_TOKEN:function(e,t){e.token=t},SET_USER:function(e,t){e.user=t}},actions:{saveToken:function(e,t){var r=e.dispatch;localStorage.setItem("token",t),r("tryToken")},tryToken:function(e){return Object(I["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,localStorage.getItem("token")){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,q.post("users/token");case 6:n=t.sent,r("SET_TOKEN",localStorage.getItem("token")),r("SET_USER",n.data),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),403==t.t0.response.status&&(localStorage.removeItem("token"),r("SET_USER",null),r("SET_TOKEN",null));case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()},logout:function(e){var t=e.commit;localStorage.removeItem("token"),t("SET_USER",null),t("SET_TOKEN",null)}}},pu=Object(P["a"])({state:{},mutations:{},actions:{},modules:{auth:hu},plugins:[Object(bu["a"])()]});pu.dispatch("auth/tryToken"),Object(n["d"])(du).use(pu).use(No).mount("#app")},"573c":function(e,t,r){},5745:function(e,t,r){},"5d1a":function(e,t,r){"use strict";r("9a1a")},"61d9":function(e,t,r){"use strict";r("b539")},"628e":function(e,t,r){"use strict";r("71b9")},"6a71":function(e,t,r){"use strict";r("9ec2")},7140:function(e,t,r){},"71b9":function(e,t,r){},"752c":function(e,t,r){"use strict";r("e8cc")},"7e13":function(e,t,r){"use strict";r("494f")},"80ac":function(e,t,r){"use strict";r("bda9")},"81a2":function(e,t,r){},"81f8":function(e,t,r){"use strict";r("4ecb")},"8cae":function(e,t,r){},"8d4c":function(e,t,r){},"93ff":function(e,t,r){},9416:function(e,t,r){},"9a1a":function(e,t,r){},"9ec2":function(e,t,r){},a00a:function(e,t,r){"use strict";r("5745")},a385:function(e,t,r){"use strict";r("c4b3")},abe6:function(e,t,r){},b491:function(e,t,r){"use strict";r("abe6")},b539:function(e,t,r){},ba8c:function(e,t,r){},bcff:function(e,t,r){"use strict";r("573c")},bda9:function(e,t,r){},c4b3:function(e,t,r){},c71c:function(e,t,r){"use strict";r("93ff")},cb51:function(e,t,r){"use strict";r("9416")},cdac:function(e,t,r){"use strict";r("8cae")},cf1c:function(e,t,r){e.exports=r.p+"img/loading.cb5508a9.gif"},d088:function(e,t,r){"use strict";r("8d4c")},d67a:function(e,t,r){"use strict";r("7140")},db32:function(e,t,r){"use strict";r("20e8")},e270:function(e,t,r){e.exports=r.p+"img/image_not_available.6ce9535f.png"},e549:function(e,t,r){"use strict";r("2721")},e87c:function(e,t,r){"use strict";r("05bd")},e8cc:function(e,t,r){},ecfd:function(e,t,r){},fd98:function(e,t,r){}});
//# sourceMappingURL=app.336fd592.js.map
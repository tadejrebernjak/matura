(function(e){function t(t){for(var n,i,s=t[0],o=t[1],u=t[2],d=0,b=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&b.push(c[i][0]),c[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var o=r[s];0!==c[o]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},c={app:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=o;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0547":function(e,t,r){},"05bd":function(e,t,r){},"0fd8":function(e,t,r){"use strict";r("ecfd")},"13fd":function(e,t,r){},"19c8":function(e,t,r){"use strict";r("0547")},"1aa8":function(e,t,r){"use strict";r("301a")},"2c48":function(e,t,r){"use strict";r("13fd")},"301a":function(e,t,r){},3595:function(e,t,r){"use strict";r("ba33")},"3c2d":function(e,t,r){},"45f9":function(e,t,r){"use strict";r("3c2d")},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function c(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=a,e.exports=c,c.id="4678"},"494f":function(e,t,r){},"4a12":function(e,t,r){},"4ecb":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c={class:"relative overflow-hidden"},a=Object(n["h"])("i",{class:"fas fa-chevron-up"},null,-1),i=[a];function s(e,t,r,a,s,o){var u=Object(n["A"])("Menu"),l=Object(n["A"])("Header"),d=Object(n["A"])("Notifications"),b=Object(n["A"])("router-view"),h=Object(n["A"])("Footer");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["j"])(u,{onCloseMenu:o.closeMenu,open:s.menu},null,8,["onCloseMenu","open"]),Object(n["j"])(l,{onOpenMenu:o.openMenu},null,8,["onOpenMenu"]),Object(n["h"])("div",c,[Object(n["j"])(d,{notifications:s.notifications},null,8,["notifications"]),Object(n["h"])("div",{class:Object(n["p"])(["container max-w-4xl mx-auto p-2 my-8",{fading:s.fade}])},[Object(n["j"])(b,{onNotify:o.addNotification},null,8,["onNotify"])],2)]),Object(n["h"])("button",{class:"up-button fixed items-center justify-center text-xl bottom-5 right-5 z-50 w-8 h-8 text-gray-200 bg-green-400 hover:bg-green-500 border border-green-600 rounded-lg",onClick:t[0]||(t[0]=function(){return o.scrollUp&&o.scrollUp.apply(o,arguments)})},i),Object(n["j"])(h)],64)}r("a434");var o=function(e){return Object(n["w"])("data-v-430d8b42"),e=e(),Object(n["u"])(),e},u={class:"bg-gray-50 border-b border-gray-400"},l={class:"container max-w-4xl mx-auto p-6 flex flex-row justify-between flex-wrap items-baseline"},d=o((function(){return Object(n["h"])("i",{class:"fas fa-bars"},null,-1)})),b=[d],h={class:"main-links"},p=o((function(){return Object(n["h"])("span",{class:"text-4xl"},"Novice",-1)})),m=o((function(){return Object(n["h"])("span",{class:"text-xl uppercase"},"Domov",-1)})),f=o((function(){return Object(n["h"])("span",{class:"text-xl uppercase"},"Šport",-1)})),j=o((function(){return Object(n["h"])("span",{class:"text-xl uppercase"},"Danes",-1)})),g={class:"flex content-center"},O=o((function(){return Object(n["h"])("button",{class:"account-link"},[Object(n["h"])("i",{class:"fas fa-sign-in-alt"}),Object(n["i"])(" Prijava ")],-1)})),v=o((function(){return Object(n["h"])("button",{class:"account-btn"},[Object(n["h"])("i",{class:"fas fa-user-plus"}),Object(n["i"])(" Registracija ")],-1)})),k={class:"account-link"},y=o((function(){return Object(n["h"])("i",{class:"fas fa-user"},null,-1)})),x=o((function(){return Object(n["h"])("i",{class:"fas fa-sign-out-alt"},null,-1)})),w=Object(n["i"])(" Odjava "),A=[x,w];function R(e,t,r,c,a,i){var s=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["g"])("header",u,[Object(n["h"])("div",l,[Object(n["h"])("div",{class:"menu-icon",onClick:t[0]||(t[0]=function(t){return e.$emit("openMenu")})},b),Object(n["h"])("div",h,[Object(n["j"])(s,{to:"/"},{default:Object(n["H"])((function(){return[p]})),_:1}),Object(n["j"])(s,{to:"/",class:"ml-4"},{default:Object(n["H"])((function(){return[m]})),_:1}),Object(n["j"])(s,{to:"/news/sport",class:"ml-4"},{default:Object(n["H"])((function(){return[f]})),_:1}),Object(n["j"])(s,{to:"/today",class:"ml-2"},{default:Object(n["H"])((function(){return[j]})),_:1})]),Object(n["h"])("div",g,[e.authenticated?(Object(n["t"])(),Object(n["g"])(n["a"],{key:1},[Object(n["j"])(s,{to:"/dashboard"},{default:Object(n["H"])((function(){return[Object(n["h"])("button",k,[y,Object(n["i"])(" "+Object(n["C"])(e.user.username),1)])]})),_:1}),Object(n["h"])("button",{class:"account-btn",onClick:t[1]||(t[1]=function(){return i.logout&&i.logout.apply(i,arguments)})},A)],64)):(Object(n["t"])(),Object(n["g"])(n["a"],{key:0},[Object(n["j"])(s,{to:"/login"},{default:Object(n["H"])((function(){return[O]})),_:1}),Object(n["j"])(s,{to:"/register"},{default:Object(n["H"])((function(){return[v]})),_:1})],64))])])])}var C=r("5530"),P=r("5502"),S=r("6c02");function _(e,t,r,c,a,i){var s=Object(n["A"])("ArticlesList");return Object(n["t"])(),Object(n["e"])(s)}r("ac1f"),r("841c");function U(e,t,r,c,a,i){var s=Object(n["A"])("Searchbar"),o=Object(n["A"])("SourcesFilter"),u=Object(n["A"])("Paginator"),l=Object(n["A"])("OrderSelect"),d=Object(n["A"])("NewsCardThin");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["j"])(s,{onSearch:i.search},null,8,["onSearch"]),Object(n["j"])(o,{toggledSources:a.toggledSources,onToggle:i.toggleSource},null,8,["toggledSources","onToggle"]),a.pages>1?(Object(n["t"])(),Object(n["e"])(u,{key:0,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["j"])(l,{order:a.order,onSelect:i.orderSelect},null,8,["order","onSelect"]),Object(n["h"])("div",{class:Object(n["p"])(["grid mt-5 md:grid-cols-3 sm:grid-cols-2 gap-4 grid-flow-row place-content-center",{animating:a.animating}])},[(Object(n["t"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(a.shownArticles,(function(e,t){return Object(n["t"])(),Object(n["e"])(d,{item:e,index:t,key:e.id,article:e},null,8,["item","index","article"])})),128))],2),a.pages>1?(Object(n["t"])(),Object(n["e"])(u,{key:1,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0)],64)}var I=r("1da1"),E=(r("fb6a"),r("4de4"),r("d3b7"),r("caad"),r("2532"),r("4e82"),r("96cf"),r("d4ec")),$=r("bee2"),D=r("bc3a"),N=r.n(D),z=N.a.create({baseURL:"/api/",timeout:5e4,headers:{}});z.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Authorization="Bearer "+t,e}),(function(e){return Promise.reject(e)}));var T=z,L=function(){function e(){Object(E["a"])(this,e)}return Object($["a"])(e,null,[{key:"getArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("articles/find/"+t);case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getReadArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("articles/read");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"searchArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("articles/search/"+t+"/"+r);case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getTodayArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("articles/today");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getLikedArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("articles/liked");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getArticleById",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("articles/"+t);case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"visitArticle",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("articles/"+t+"/visit");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"rateArticle",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("articles/"+t+"/rate",{action:r});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"rateComment",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("articles/comment/"+t+"/rate",{action:r});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"addComment",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("articles/"+t+"/comments",{comment:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"addReply",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("articles/comments/"+t+"/replies",{reply:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"editCommentReply",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.put("articles/replies/"+t,{newReply:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"deleteCommentReply",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.delete("articles/comments/"+t+"/replies/"+r);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"editComment",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.put("articles/comment/"+t,{newComment:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"deleteComment",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.delete("articles/"+t+"/comments/"+r);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"rateCommentReply",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("articles/replies/"+t+"/rate",{action:r});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}(),H=L,M=function(e){return Object(n["w"])("data-v-5e36c5e8"),e=e(),Object(n["u"])(),e},F={class:"card-header"},V=["src"],q=["src"],B={class:"card-body"},K={class:"card-title"},Z={class:"card-description"},G={class:"card-foot"},W={class:"visits"},J=M((function(){return Object(n["h"])("i",{class:"far fa-hand-pointer details-icon"},null,-1)})),Q={class:"comments"},X={href:"#commentsFeed"},Y=M((function(){return Object(n["h"])("i",{class:"far fa-comment details-icon"},null,-1)})),ee={class:"likes"},te=M((function(){return Object(n["h"])("i",{class:"far fa-thumbs-up details-icon"},null,-1)})),re={class:"dislikes"},ne=M((function(){return Object(n["h"])("i",{class:"far fa-thumbs-down details-icon"},null,-1)}));function ce(e,t,r,c,a,i){var s=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["e"])(s,{class:"card",to:"/article/"+r.article._id},{default:Object(n["H"])((function(){return[Object(n["h"])("div",F,[null==r.article.image?(Object(n["t"])(),Object(n["g"])("img",{key:0,class:"card-image",src:a.noImage},null,8,V)):(Object(n["t"])(),Object(n["g"])("img",{key:1,class:"card-image",src:r.article.image},null,8,q)),Object(n["h"])("div",{class:Object(n["p"])(["card-source",{stiriindvajsetur:"24ur"===r.article.source,delo:"Delo"===r.article.source,slovenskenovice:"Slovenske Novice"===r.article.source,siol:"Siol"===r.article.source}])},Object(n["C"])(r.article.source),3)]),Object(n["h"])("div",B,[Object(n["h"])("h2",K,Object(n["C"])(r.article.title),1),Object(n["h"])("p",Z,Object(n["C"])(r.article.summary.substring(0,120+r.article.summary.substring(119).indexOf(" "))+"..."),1)]),Object(n["h"])("div",G,[Object(n["h"])("div",W,[J,Object(n["h"])("p",null,Object(n["C"])(r.article.clicks.length),1)]),Object(n["h"])("div",Q,[Object(n["h"])("a",X,[Y,Object(n["h"])("p",null,Object(n["C"])(r.article.comments.length),1)])]),Object(n["h"])("div",ee,[te,Object(n["h"])("p",null,Object(n["C"])(r.article.likes.length),1)]),Object(n["h"])("div",re,[ne,Object(n["h"])("p",null,Object(n["C"])(r.article.dislikes.length),1)])])]})),_:1},8,["to"])}var ae=r("e270"),ie={name:"NewsCardThin",props:{article:Object},data:function(){return{noImage:ae}}},se=(r("81f8"),r("6b0d")),oe=r.n(se);const ue=oe()(ie,[["render",ce],["__scopeId","data-v-5e36c5e8"]]);var le=ue,de={class:"paginator"},be=["item"],he=["onClick"];function pe(e,t,r,c,a,i){return Object(n["t"])(),Object(n["g"])("div",de,[Object(n["h"])("button",{onClick:t[0]||(t[0]=function(){return i.previousPage&&i.previousPage.apply(i,arguments)})},"<"),(Object(n["t"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(a.buttons,(function(e,t){return Object(n["t"])(),Object(n["g"])("div",{item:e,key:t},[Object(n["h"])("button",{class:Object(n["p"])({selected:e.selected,first:e.first,last:e.last}),onClick:function(t){return i.changePage(e.page)}},Object(n["C"])(e.page),11,he)],8,be)})),128)),Object(n["h"])("button",{onClick:t[1]||(t[1]=function(){return i.nextPage&&i.nextPage.apply(i,arguments)})},">")])}var me={name:"Paginator",components:{},props:["pages","currentPage"],emits:["changePage"],data:function(){return{buttons:[]}},methods:{refreshPages:function(){this.buttons=[],this.currentPage-2>1&&this.addButton(1,"first");for(var e=this.currentPage-2;e<this.currentPage+3;e++)e<1||e>this.pages||this.addButton(e,null);this.buttons.slice(-1).pop().page<this.pages&&this.addButton(this.pages,"last")},addButton:function(e,t){var r={page:e,selected:!1};this.currentPage===e&&(r.selected=!0),"first"==t&&(r.first=!0),"last"==t&&(r.last=!0),this.buttons.push(r)},changePage:function(e){this.$emit("changePage",e)},previousPage:function(){this.currentPage-1>0&&this.changePage(this.currentPage-1)},nextPage:function(){this.currentPage+1<=this.pages&&this.changePage(this.currentPage+1)}},beforeMount:function(){this.refreshPages()},watch:{currentPage:function(){this.refreshPages()},pages:function(){this.refreshPages()}}};r("7ea1");const fe=oe()(me,[["render",pe],["__scopeId","data-v-15846b87"]]);var je=fe,ge=function(e){return Object(n["w"])("data-v-010824c8"),e=e(),Object(n["u"])(),e},Oe={class:"searchbar-container"},ve={class:"searchbar"},ke=ge((function(){return Object(n["h"])("i",{class:"fas fa-search text-xl"},null,-1)})),ye=[ke];function xe(e,t,r,c,a,i){return Object(n["t"])(),Object(n["g"])("div",Oe,[Object(n["h"])("div",ve,[Object(n["I"])(Object(n["h"])("input",{onKeyup:t[0]||(t[0]=Object(n["J"])((function(){return i.search&&i.search.apply(i,arguments)}),["enter"])),type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.query=e})},null,544),[[n["F"],a.query]]),Object(n["h"])("button",{onClick:t[2]||(t[2]=function(){return i.search&&i.search.apply(i,arguments)})},ye)])])}r("498a");var we={name:"Searchbar",components:{},emits:["search"],data:function(){return{query:""}},methods:{search:function(){this.$emit("search",this.query.trim().toLowerCase())}}};r("5d1a");const Ae=oe()(we,[["render",xe],["__scopeId","data-v-010824c8"]]);var Re=Ae,Ce={class:"flex content-center justify-center flex-row flex-wrap"};function Pe(e,t,r,c,a,i){return Object(n["t"])(),Object(n["g"])("div",Ce,[Object(n["h"])("button",{class:Object(n["p"])({selected:r.toggledSources.ur}),onClick:t[0]||(t[0]=function(e){return i.toggle("24ur")})}," 24ur ",2),Object(n["h"])("button",{class:Object(n["p"])({selected:r.toggledSources.Delo}),onClick:t[1]||(t[1]=function(e){return i.toggle("Delo")})}," Delo ",2),Object(n["h"])("button",{class:Object(n["p"])({selected:r.toggledSources.Siol}),onClick:t[2]||(t[2]=function(e){return i.toggle("Siol")})}," Siol ",2),Object(n["h"])("button",{class:Object(n["p"])({selected:r.toggledSources.SlovenskeNovice}),onClick:t[3]||(t[3]=function(e){return i.toggle("Slovenske Novice")})}," Slovenske Novice ",2)])}var Se={name:"SourcesFilter",components:{},props:["toggledSources"],emits:["toggle"],data:function(){return{}},methods:{toggle:function(e){this.$emit("toggle",e)}},beforeMount:function(){},watch:{}};r("3595");const _e=oe()(Se,[["render",Pe],["__scopeId","data-v-575ed429"]]);var Ue=_e,Ie=function(e){return Object(n["w"])("data-v-7f620185"),e=e(),Object(n["u"])(),e},Ee={class:"dropdown"},$e=Ie((function(){return Object(n["h"])("i",{class:"fas fa-sort-amount-down"},null,-1)})),De=Object(n["i"])(" Razvrsti po: "),Ne={key:0},ze={key:1},Te={key:2},Le={key:0,class:"dropdown-content"},He={class:"options"};function Me(e,t,r,c,a,i){return Object(n["t"])(),Object(n["g"])("div",Ee,[Object(n["h"])("button",{class:"dropdown-button",onClick:t[0]||(t[0]=function(){return i.toggle&&i.toggle.apply(i,arguments)})},[$e,De,"newest"==r.order?(Object(n["t"])(),Object(n["g"])("span",Ne,"Najnovejše")):Object(n["f"])("",!0),"oldest"==r.order?(Object(n["t"])(),Object(n["g"])("span",ze,"Najstarejše")):Object(n["f"])("",!0),"popular"==r.order?(Object(n["t"])(),Object(n["g"])("span",Te,"Priljubljeno")):Object(n["f"])("",!0)]),a.showing?(Object(n["t"])(),Object(n["g"])("div",Le,[Object(n["h"])("ul",He,[Object(n["h"])("li",{class:Object(n["p"])({selected:"newest"===r.order}),onClick:t[1]||(t[1]=function(e){return i.select("newest")})}," Najnovejše ",2),Object(n["h"])("li",{class:Object(n["p"])({selected:"oldest"===r.order}),onClick:t[2]||(t[2]=function(e){return i.select("oldest")})}," Najstarejše ",2),Object(n["h"])("li",{class:Object(n["p"])({selected:"popular"===r.order}),onClick:t[3]||(t[3]=function(e){return i.select("popular")})}," Priljubljeno ",2)])])):Object(n["f"])("",!0)])}var Fe={name:"OrderSelect",components:{},props:["order"],emits:["select"],data:function(){return{showing:!1}},methods:{toggle:function(){this.showing=!this.showing},select:function(e){this.$emit("select",e),this.showing=!1}}};r("ec64");const Ve=oe()(Fe,[["render",Me],["__scopeId","data-v-7f620185"]]);var qe=Ve,Be={name:"ArticlesList",components:{Paginator:je,Searchbar:Re,NewsCardThin:le,SourcesFilter:Ue,OrderSelect:qe},data:function(){return{articles:[],animating:!1,filteredArticles:[],shownArticles:[],pages:10,currentPage:1,order:"newest",toggledSources:{ur:!0,Delo:!0,Siol:!0,SlovenskeNovice:!0,list:["24ur","Delo","Siol","Slovenske Novice"]},error:""}},methods:{getArticles:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"sport"!=e.$route.params.category){t.next=7;break}return t.next=4,H.getArticles("sport");case 4:e.articles=t.sent,t.next=16;break;case 7:if("chronicle"!=e.$route.params.category){t.next=13;break}return t.next=10,H.getArticles("chronicle");case 10:e.articles=t.sent,t.next=16;break;case 13:return t.next=15,H.getArticles("all");case 15:e.articles=t.sent;case 16:e.filterArticles(),e.changePageArticles(),t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](0),e.error=t.t0.message;case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},changePage:function(e){this.currentPage=e,this.changePageArticles(),this.fadeList()},changePageArticles:function(){this.shownArticles=this.filteredArticles.slice(30*(this.currentPage-1),30*this.currentPage),this.fadeList()},search:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(""==e){r.next=18;break}if("sport"!=t.$route.params.category){r.next=7;break}return r.next=4,H.searchArticles(e,"sport");case 4:t.articles=r.sent,r.next=16;break;case 7:if("chronicle"!=t.$route.params.category){r.next=13;break}return r.next=10,H.searchArticles(e,"chronicle");case 10:t.articles=r.sent,r.next=16;break;case 13:return r.next=15,H.searchArticles(e,"all");case 15:t.articles=r.sent;case 16:r.next=33;break;case 18:if("sport"!=t.$route.params.category){r.next=24;break}return r.next=21,H.getArticles("sport");case 21:t.articles=r.sent,r.next=33;break;case 24:if("chronicle"!=t.$route.params.category){r.next=30;break}return r.next=27,H.getArticles("chronicle");case 27:t.articles=r.sent,r.next=33;break;case 30:return r.next=32,H.getArticles("all");case 32:t.articles=r.sent;case 33:t.filterArticles(),t.changePageArticles();case 35:case"end":return r.stop()}}),r)})))()},toggleSource:function(e){if("24ur"==e)if(this.toggledSources.ur=!this.toggledSources.ur,this.toggledSources.ur)this.toggledSources.list.push("24ur");else{var t=this.toggledSources.list.indexOf("24ur");this.toggledSources.list.splice(t,1)}else if("Slovenske Novice"==e)if(this.toggledSources.SlovenskeNovice=!this.toggledSources.SlovenskeNovice,this.toggledSources.SlovenskeNovice)this.toggledSources.list.push("Slovenske Novice");else{var r=this.toggledSources.list.indexOf("Slovenske Novice");this.toggledSources.list.splice(r,1)}else if(this.toggledSources[e]=!this.toggledSources[e],this.toggledSources[e])this.toggledSources.list.push(e);else{var n=this.toggledSources.list.indexOf(e);this.toggledSources.list.splice(n,1)}this.filterArticles()},filterArticles:function(){var e=this;this.filteredArticles=this.articles.filter((function(t){return e.toggledSources.list.includes(t.source)})),this.pages=Math.ceil(this.filteredArticles.length/30),this.orderArticles(),this.changePageArticles()},orderSelect:function(e){this.order=e,this.orderArticles(),this.changePageArticles()},orderArticles:function(){switch(this.order){case"newest":this.filteredArticles.sort((function(e,t){return t.timestamp>e.timestamp?1:-1}));break;case"oldest":this.filteredArticles.sort((function(e,t){return e.timestamp>t.timestamp?1:-1}));break;case"popular":this.filteredArticles.sort((function(e,t){return t.likes.length-e.likes.length||t.timestamp-e.timestamp}));break;default:this.filteredArticles.sort((function(e,t){return t.timestamp>e.timestamp?1:-1}));break}},fadeList:function(){var e=this;this.animating=!0,setTimeout((function(){e.animating=!1}),1e3)}},beforeMount:function(){this.getArticles()},watch:{"$route.params.category":function(){this.getArticles(),this.changePage(1)}}};r("a00a");const Ke=oe()(Be,[["render",U],["__scopeId","data-v-47b50cc5"]]);var Ze=Ke,Ge={name:"Home",components:{ArticlesList:Ze},emits:["notify"]};const We=oe()(Ge,[["render",_]]);var Je=We,Qe=function(e){return Object(n["w"])("data-v-35773945"),e=e(),Object(n["u"])(),e},Xe={class:"form max-w-lg border-2 border-green-500 mx-auto shadow-lg rounded-md"},Ye=Qe((function(){return Object(n["h"])("div",{class:"bg-green-500 p-5 rounded-t-sm"},[Object(n["h"])("h1",{class:"text-3xl font-semibold text-center text-gray-50"},"Vpis")],-1)})),et={class:"p-10 pt-3"},tt={class:"form-control"},rt=Qe((function(){return Object(n["h"])("label",{for:"email"},"E-Pošta",-1)})),nt=Qe((function(){return Object(n["h"])("i",{class:"far fa-envelope"},null,-1)})),ct=[nt],at={class:"form-control"},it=Qe((function(){return Object(n["h"])("label",{for:"password"},"Geslo",-1)})),st=Qe((function(){return Object(n["h"])("i",{class:"fas fa-lock"},null,-1)})),ot=[st],ut={class:"form-control text-center"},lt={class:"error"};function dt(e,t,r,c,a,i){return Object(n["t"])(),Object(n["g"])("div",Xe,[Ye,Object(n["h"])("div",et,[Object(n["h"])("div",tt,[rt,Object(n["h"])("div",{class:Object(n["p"])(["input-container",{borderRed:a.loginError}])},[Object(n["h"])("span",{class:Object(n["p"])(["icon-container",{backgroundRed:a.loginError}])},ct,2),Object(n["I"])(Object(n["h"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e}),placeholder:"primer@mail.com"},null,512),[[n["F"],a.email]])],2)]),Object(n["h"])("div",at,[it,Object(n["h"])("div",{class:Object(n["p"])(["input-container",{borderRed:a.loginError}])},[Object(n["h"])("span",{class:Object(n["p"])(["icon-container",{backgroundRed:a.loginError}])},ot,2),Object(n["I"])(Object(n["h"])("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e}),placeholder:"Vpišite geslo za vpis"},null,512),[[n["F"],a.password]])],2)]),Object(n["h"])("div",ut,[Object(n["h"])("p",lt,Object(n["C"])(a.loginError),1),Object(n["h"])("p",null,Object(n["C"])(a.loginResponse),1),Object(n["h"])("button",{class:"p-3 mt-6 text-white rounded-sm bg-green-500 hover:bg-green-400 text-xl transition duration-200",onClick:t[2]||(t[2]=function(){return i.loginCheck&&i.loginCheck.apply(i,arguments)})}," Prijavi se ")])])])}var bt=function(){function e(){Object(E["a"])(this,e)}return Object($["a"])(e,null,[{key:"insertUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r,n){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("users/create",{email:t,username:r,password:n});case 3:return c=e.sent,e.abrupt("return",c);case 7:if(e.prev=7,e.t0=e["catch"](0),400!==e.t0.response.status){e.next=13;break}return e.abrupt("return","Račun s to E-Pošto že obstaja");case 13:return e.abrupt("return","Napaka v strežniku");case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"updateUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r,n){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.put("users/update",{email:t,username:r,password:n});case 3:return c=e.sent,e.abrupt("return",c);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"authenticateUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("users/login",{email:t,password:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}(),ht=bt,pt={name:"Login",components:{},data:function(){return{email:"",password:"",loginError:"",loginResponse:""}},emits:["notify"],methods:Object(C["a"])(Object(C["a"])({},Object(P["b"])({saveToken:"auth/saveToken"})),{},{loginCheck:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==e.email||""==e.password){t.next=12;break}return t.next=3,ht.authenticateUser(e.email,e.password);case 3:if(r=t.sent,200===r.status){t.next=8;break}e.$emit("notify",{type:"error",message:r.data}),t.next=12;break;case 8:return t.next=10,e.saveToken(r.data.accessToken);case 10:Do.push("/dashboard"),e.$emit("notify",{type:"success",message:"Prijava uspešna"});case 12:case"end":return t.stop()}}),t)})))()}})};r("6a71");const mt=oe()(pt,[["render",dt],["__scopeId","data-v-35773945"]]);var ft=mt,jt=function(e){return Object(n["w"])("data-v-5627a11c"),e=e(),Object(n["u"])(),e},gt={class:"form max-w-lg border-2 border-green-500 mx-auto shadow-lg rounded-md"},Ot=jt((function(){return Object(n["h"])("div",{class:"bg-green-500 p-5 rounded-t-sm"},[Object(n["h"])("h1",{class:"text-3xl font-semibold text-center text-gray-50"}," Registracija ")],-1)})),vt={class:"p-10 pt-3"},kt={class:"form-control"},yt=jt((function(){return Object(n["h"])("label",{for:"email"},"E-Pošta",-1)})),xt=jt((function(){return Object(n["h"])("i",{class:"far fa-envelope"},null,-1)})),wt=[xt],At={class:"error"},Rt={class:"form-control"},Ct=jt((function(){return Object(n["h"])("label",{for:"username"},"Uporabniško Ime",-1)})),Pt=jt((function(){return Object(n["h"])("i",{class:"fas fa-user"},null,-1)})),St=[Pt],_t={class:"error"},Ut={class:"form-control"},It=jt((function(){return Object(n["h"])("label",{for:"password"},"Geslo",-1)})),Et=jt((function(){return Object(n["h"])("i",{class:"fas fa-lock"},null,-1)})),$t=[Et],Dt={key:0,class:"error"},Nt={class:"form-control"},zt=jt((function(){return Object(n["h"])("label",{for:"password-repeat"},"Ponovitev gesla",-1)})),Tt=jt((function(){return Object(n["h"])("i",{class:"fas fa-key"},null,-1)})),Lt=[Tt],Ht={class:"error"},Mt={class:"form-control text-center"},Ft={class:"error font-semibold"};function Vt(e,t,r,c,a,i){return Object(n["t"])(),Object(n["g"])("div",gt,[Ot,Object(n["h"])("div",vt,[Object(n["h"])("div",kt,[yt,Object(n["h"])("div",{class:Object(n["p"])(["input-container",{borderRed:a.emailError}])},[Object(n["h"])("span",{class:Object(n["p"])(["icon-container",{backgroundRed:a.emailError}])},wt,2),Object(n["I"])(Object(n["h"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e}),placeholder:"primer@mail.com",onInput:t[1]||(t[1]=function(){return i.authenticateEmail&&i.authenticateEmail.apply(i,arguments)})},null,544),[[n["F"],a.email]])],2),Object(n["h"])("p",At,Object(n["C"])(a.emailError),1)]),Object(n["h"])("div",Rt,[Ct,Object(n["h"])("div",{class:Object(n["p"])(["input-container",{borderRed:a.usernameError}])},[Object(n["h"])("span",{class:Object(n["p"])(["icon-container",{backgroundRed:a.usernameError}])},St,2),Object(n["I"])(Object(n["h"])("input",{type:"text",id:"username","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.username=e}),placeholder:"Vpišite vaše uporabniško ime",onInput:t[3]||(t[3]=function(){return i.authenticateUsername&&i.authenticateUsername.apply(i,arguments)})},null,544),[[n["F"],a.username]])],2),Object(n["h"])("p",_t,Object(n["C"])(a.usernameError),1)]),Object(n["h"])("div",Ut,[It,Object(n["h"])("div",{class:Object(n["p"])(["input-container",{borderRed:a.passwordError}])},[Object(n["h"])("span",{class:Object(n["p"])(["icon-container",{backgroundRed:a.passwordError}])},$t,2),Object(n["I"])(Object(n["h"])("input",{type:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.password=e}),placeholder:"Vpišite geslo za vpis",onInput:t[5]||(t[5]=function(){return i.authenticatePassword&&i.authenticatePassword.apply(i,arguments)})},null,544),[[n["F"],a.password]])],2),a.passwordError?(Object(n["t"])(),Object(n["g"])("p",Dt,Object(n["C"])(a.passwordError),1)):Object(n["f"])("",!0)]),Object(n["h"])("div",Nt,[zt,Object(n["h"])("div",{class:Object(n["p"])(["input-container",{borderRed:a.passwordRepeatError}])},[Object(n["h"])("span",{class:Object(n["p"])(["icon-container",{backgroundRed:a.passwordRepeatError}])},Lt,2),Object(n["I"])(Object(n["h"])("input",{type:"password",id:"password-repeat","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.passwordRepeat=e}),placeholder:"Potrdite geslo za vpis",onInput:t[7]||(t[7]=function(){return i.authenticatePasswordRepeat&&i.authenticatePasswordRepeat.apply(i,arguments)})},null,544),[[n["F"],a.passwordRepeat]])],2),Object(n["h"])("p",Ht,Object(n["C"])(a.passwordRepeatError),1)]),Object(n["h"])("div",Mt,[Object(n["h"])("p",Ft,Object(n["C"])(a.error),1),Object(n["h"])("button",{class:Object(n["p"])(["p-3 mt-6 text-white rounded-sm bg-green-500 hover:bg-green-400 text-xl transition duration-200",{backgroundRed:a.formInvalid}]),onClick:t[8]||(t[8]=function(){return i.insertUser&&i.insertUser.apply(i,arguments)})}," Registriraj račun ",2)])])])}r("00b4");var qt={name:"Register",components:{},emits:["notify"],data:function(){return{email:"",username:"",password:"",passwordRepeat:"",emailError:"",usernameError:"",passwordError:"",passwordRepeatError:"",formInvalid:!1,registerTries:0,error:""}},methods:{authenticateEmail:function(){0==/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/.test(this.email)&&""!=this.email?this.emailError="E-Pošta mora biti v pravilnem formatu":this.emailError="",this.authenticateForm()},authenticateUsername:function(){0==/^[A-Za-z0-9 _]*[A-Za-z0-9][A-Za-z0-9 _]*$/.test(this.username)&&""!=this.username?this.usernameError="Uporabniško ime lahko vsebuje samo črke in številke":this.usernameError="",this.authenticateForm()},authenticatePassword:function(){this.password.length<5&&""!=this.password?this.passwordError="Geslo ime mora vsebovati vsaj 5 znakov":this.passwordError="",this.authenticateForm()},authenticatePasswordRepeat:function(){this.password!=this.passwordRepeat?this.passwordRepeatError="Gesla se ne ujemata":this.passwordRepeatError="",this.authenticateForm()},authenticateForm:function(){this.registerTries>=1&&(""!=this.email&&""!=this.username&&""!=this.password&&""!=this.passwordRepeat&&""===this.emailError&&""===this.usernameError&&""===this.passwordError&&""===this.passwordRepeatError?this.formInvalid=!1:this.formInvalid=!0)},insertUser:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.registerTries++,e.authenticateForm(),!1!==e.formInvalid){t.next=13;break}return t.prev=3,t.next=6,ht.insertUser(e.email,e.username,e.password);case 6:r=t.sent,201===r.status?(Do.push("/login"),e.$emit("notify",{type:"success",message:"Račun uspešno registriran"})):(e.error=r,setTimeout((function(){e.error=""}),5e3),e.$emit("notify",{type:"error",message:r})),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),e.error=t.t0.message;case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()}}};r("c71c");const Bt=oe()(qt,[["render",Vt],["__scopeId","data-v-5627a11c"]]);var Kt=Bt,Zt={class:"text-3xl border-b border-gray-600 pb-4 mb-4"},Gt=Object(n["i"])("Domov"),Wt=Object(n["i"])(" > "),Jt=Object(n["h"])("span",{class:"text-green-500"},"Članek",-1);function Qt(e,t,r,c,a,i){var s=Object(n["A"])("router-link"),o=Object(n["A"])("ArticlePreview"),u=Object(n["A"])("CommentsFeed"),l=Object(n["A"])("Alert");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",Zt,[Object(n["j"])(s,{to:"/"},{default:Object(n["H"])((function(){return[Gt]})),_:1}),Wt,Jt]),Object(n["j"])(o,{article:a.article,counters:a.counters,rating:a.rating,articleImg:a.articleImg,onVisit:i.visit,onLike:i.like,onDislike:i.dislike},null,8,["article","counters","rating","articleImg","onVisit","onLike","onDislike"]),Object(n["j"])(u,{comments:a.article.comments,commentsCount:a.counters.comments,onNewComment:i.addComment,onEditComment:i.editComment,onDeleteComment:i.deleteCommentConfirm,onLikeComment:i.likeComment,onDislikeComment:i.dislikeComment,onAddReply:i.addReply,onEditReply:i.editReply,onDeleteReply:i.deleteReplyConfirm,onLikeReply:i.likeReply,onDislikeReply:i.dislikeReply},null,8,["comments","commentsCount","onNewComment","onEditComment","onDeleteComment","onLikeComment","onDislikeComment","onAddReply","onEditReply","onDeleteReply","onLikeReply","onDislikeReply"]),Object(n["j"])(l,{text:"Želite izbrisati komentar?",open:a.alert,onOk:i.alertOK,onCancel:i.alertCancel},null,8,["open","onOk","onCancel"])],64)}var Xt=function(e){return Object(n["w"])("data-v-ac8d13b0"),e=e(),Object(n["u"])(),e},Yt={class:"article-preview"},er={class:"mt-5"},tr={class:"tag"},rr={class:"tag"},nr={class:"text-3xl py-2 mt-2 font-bold text-white"},cr={class:"text-lg border-b border-gray-100 text-gray-100 pb-2"},ar={class:"text-lg text-gray-50 py-2"},ir={class:"actions"},sr={class:"grid items-center"},or=["href"],ur={class:"details"},lr={class:"visits"},dr=Xt((function(){return Object(n["h"])("i",{class:"far fa-hand-pointer details-icon"},null,-1)})),br={class:"detail-value"},hr={class:"comments"},pr={href:"#commentsFeed"},mr=Xt((function(){return Object(n["h"])("i",{class:"far fa-comment details-icon"},null,-1)})),fr={class:"detail-value"},jr=Xt((function(){return Object(n["h"])("i",{class:"far fa-thumbs-up details-icon"},null,-1)})),gr={class:"detail-value"},Or=Xt((function(){return Object(n["h"])("i",{class:"far fa-thumbs-down details-icon"},null,-1)})),vr={class:"detail-value"};function kr(e,t,r,c,a,i){return Object(n["t"])(),Object(n["g"])("div",Yt,[Object(n["h"])("div",er,[Object(n["h"])("div",tr,Object(n["C"])(r.article.source),1),Object(n["h"])("div",rr,Object(n["C"])(r.article.category),1)]),Object(n["h"])("h1",nr,Object(n["C"])(r.article.title),1),Object(n["h"])("p",cr,Object(n["C"])(r.article.date)+" • "+Object(n["C"])(r.article.time),1),Object(n["h"])("p",ar,Object(n["C"])(r.article.summary),1),Object(n["h"])("div",ir,[Object(n["h"])("div",sr,[Object(n["h"])("a",{class:"visit-btn",href:r.article.url,target:"_blank",onClick:t[0]||(t[0]=function(t){return e.$emit("visit")})},"Obišči članek",8,or)]),Object(n["h"])("div",ur,[Object(n["h"])("div",lr,[dr,Object(n["h"])("p",br,Object(n["C"])(r.counters.clicks),1)]),Object(n["h"])("div",hr,[Object(n["h"])("a",pr,[mr,Object(n["h"])("p",fr,Object(n["C"])(r.counters.comments),1)])]),Object(n["h"])("div",{class:Object(n["p"])(["likes",r.rating]),onClick:t[1]||(t[1]=function(t){return e.$emit("like")})},[jr,Object(n["h"])("p",gr,Object(n["C"])(r.counters.likes),1)],2),Object(n["h"])("div",{class:Object(n["p"])(["dislikes",r.rating]),onClick:t[2]||(t[2]=function(t){return e.$emit("dislike")})},[Or,Object(n["h"])("p",vr,Object(n["C"])(r.counters.dislikes),1)],2)])])])}var yr={name:"ArticlePreview",components:{},props:["article","counters","rating","articleImg"],methods:{}},xr=function(){Object(n["E"])((function(e){return{"47cea961":e.articleImg}}))},wr=yr.setup;yr.setup=wr?function(e,t){return xr(),wr(e,t)}:xr;var Ar=yr;r("7e13");const Rr=oe()(Ar,[["render",kr],["__scopeId","data-v-ac8d13b0"]]);var Cr=Rr,Pr=function(e){return Object(n["w"])("data-v-788c25df"),e=e(),Object(n["u"])(),e},Sr={class:"mt-10 text-2xl font-bold",id:"commentsFeed"},_r={class:"comments-feed"},Ur={key:0,class:"new-comment-container"},Ir={key:0},Er={class:"text-white text-xl text-center font-bold"},$r={key:1,class:"flex"},Dr={class:"w-full"},Nr={class:"text-left font-bold text-white text-xl mb-1"},zr=Pr((function(){return Object(n["h"])("i",{class:"fas fa-paper-plane"},null,-1)})),Tr=Pr((function(){return Object(n["h"])("span",null," Dodaj",-1)})),Lr=[zr,Tr],Hr={key:1,class:"new-comment-container"},Mr=Pr((function(){return Object(n["h"])("h1",{class:"text-white text-xl text-center font-bold"}," Morate se prijaviti, preden lahko komentirate. ",-1)})),Fr=[Mr],Vr={class:"comments-container"};function qr(e,t,r,c,a,i){var s=Object(n["A"])("Comment");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",Sr," Komentarji ("+Object(n["C"])(r.commentsCount)+") ",1),Object(n["h"])("div",_r,[e.authenticated?(Object(n["t"])(),Object(n["g"])("div",Ur,[e.muted?(Object(n["t"])(),Object(n["g"])("div",Ir,[Object(n["h"])("h1",Er," Vaš račun je blokiran do "+Object(n["C"])(e.mutedString)+" in ne morate komentirati! ",1)])):(Object(n["t"])(),Object(n["g"])("div",$r,[Object(n["h"])("div",Dr,[Object(n["h"])("h2",Nr,Object(n["C"])(e.user.username),1),Object(n["I"])(Object(n["h"])("textarea",{class:"new-comment-textarea",rows:"4",placeholder:"Napišite komentar o članku!","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.newComment=t})},null,512),[[n["F"],e.newComment]])])])),e.muted?Object(n["f"])("",!0):(Object(n["t"])(),Object(n["g"])("button",{key:2,class:"new-comment-btn",onClick:t[1]||(t[1]=function(){return i.addComment&&i.addComment.apply(i,arguments)})},Lr))])):(Object(n["t"])(),Object(n["g"])("div",Hr,Fr)),Object(n["h"])("div",Vr,[(Object(n["t"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(r.comments,(function(e,t){return Object(n["t"])(),Object(n["e"])(s,{comment:e,index:t,key:e.userID,onDeleteComment:i.deleteComment,onLikeComment:i.likeComment,onDislikeComment:i.dislikeComment,onAddReply:i.addReply,onEditReply:i.editReply,onDeleteReply:i.deleteReply,onEditComment:i.editComment,onLikeReply:i.likeReply,onDislikeReply:i.dislikeReply},null,8,["comment","index","onDeleteComment","onLikeComment","onDislikeComment","onAddReply","onEditReply","onDeleteReply","onEditComment","onLikeReply","onDislikeReply"])})),128))])])],64)}r("a9e3");var Br=function(e){return Object(n["w"])("data-v-61c3189c"),e=e(),Object(n["u"])(),e},Kr={class:"comment"},Zr={class:"comment-right"},Gr={class:"comment-head"},Wr={class:"text-lg font-bold text-green-500"},Jr={key:0,class:"text-blue-500"},Qr={key:1,class:"text-lg font-bold text-green-500"},Xr={key:0,class:"text-blue-500"},Yr={class:"text-sm font-semibold text-gray-500"},en={key:0},tn=Br((function(){return Object(n["h"])("i",{class:"fas fa-trash-alt"},null,-1)})),rn=[tn],nn={class:"comment-body"},cn={class:"comment-text"},an={key:0,class:"flex items-center justify-center"},sn={key:0},on=Br((function(){return Object(n["h"])("i",{class:"fas fa-reply"},null,-1)})),un=Object(n["i"])(" Odgovori"),ln=[on,un],dn={key:1},bn=Br((function(){return Object(n["h"])("i",{class:"fas fa-window-close"},null,-1)})),hn=Object(n["i"])(" Prekliči"),pn=[bn,hn],mn={key:1,class:"flex items-center justify-center"},fn={key:0},jn=Br((function(){return Object(n["h"])("i",{class:"fas fa-edit"},null,-1)})),gn=Object(n["i"])(" Uredi"),On=[jn,gn],vn={key:1},kn=Br((function(){return Object(n["h"])("i",{class:"fas fa-window-close"},null,-1)})),yn=Object(n["i"])(" Prekliči"),xn=[kn,yn],wn={class:"grid grid-cols-2 space-x-3 text-lg mr-2 font-bold text-gray-600"},An=Br((function(){return Object(n["h"])("i",{class:"fas fa-thumbs-up text-2xl"},null,-1)})),Rn=Br((function(){return Object(n["h"])("i",{class:"fas fa-thumbs-down text-2xl"},null,-1)})),Cn={key:0,class:"reply"},Pn={key:1,class:"edit"},Sn={class:"replies"};function _n(e,t,r,c,a,i){var s=Object(n["A"])("router-link"),o=Object(n["A"])("CommentReply");return Object(n["t"])(),Object(n["g"])("div",Kr,[Object(n["h"])("div",Zr,[Object(n["h"])("div",Gr,[Object(n["h"])("div",null,[e.authenticated&&e.user.isAdmin&&r.comment.user._id!=e.user._id&&!r.comment.user.isAdmin?(Object(n["t"])(),Object(n["e"])(s,{key:0,to:"/admin/user/"+r.comment.user._id},{default:Object(n["H"])((function(){return[Object(n["h"])("p",Wr,[Object(n["i"])(Object(n["C"])(r.comment.user.username)+" ",1),r.comment.user.isAdmin?(Object(n["t"])(),Object(n["g"])("span",Jr,"[ADMIN]")):Object(n["f"])("",!0)])]})),_:1},8,["to"])):(Object(n["t"])(),Object(n["g"])("p",Qr,[Object(n["i"])(Object(n["C"])(r.comment.user.username)+" ",1),r.comment.user.isAdmin?(Object(n["t"])(),Object(n["g"])("span",Xr,"[ADMIN]")):Object(n["f"])("",!0)])),Object(n["h"])("p",Yr,[Object(n["i"])(Object(n["C"])(e.commentCreatedAt)+" ",1),e.isEdited?(Object(n["t"])(),Object(n["g"])("span",en," (urejen)")):Object(n["f"])("",!0)])]),e.authenticated&&(e.user._id===r.comment.user._id||e.user.isAdmin)?(Object(n["t"])(),Object(n["g"])("div",{key:0,class:"text-xl cursor-pointer hover:text-gray-600",onClick:t[0]||(t[0]=function(t){return e.$emit("deleteComment",r.comment._id)})},rn)):Object(n["f"])("",!0)]),Object(n["h"])("div",nn,[Object(n["h"])("p",cn,Object(n["C"])(r.comment.body),1)]),Object(n["h"])("div",{class:Object(n["p"])(["comment-foot justify-end",{"justify-between":e.authenticated}])},[!e.authenticated||e.user._id===r.comment.user._id||e.muted&&!e.user.isAdmin?Object(n["f"])("",!0):(Object(n["t"])(),Object(n["g"])("div",an,[Object(n["h"])("button",{class:"reply-button",onClick:t[1]||(t[1]=function(){return i.newReplyToggle&&i.newReplyToggle.apply(i,arguments)})},[e.replying?(Object(n["t"])(),Object(n["g"])("span",dn,pn)):(Object(n["t"])(),Object(n["g"])("span",sn,ln))])])),!e.authenticated||e.user._id!==r.comment.user._id||e.muted&&!e.user.isAdmin?Object(n["f"])("",!0):(Object(n["t"])(),Object(n["g"])("div",mn,[Object(n["h"])("button",{class:"reply-button",onClick:t[2]||(t[2]=function(){return i.editToggle&&i.editToggle.apply(i,arguments)})},[e.editing?(Object(n["t"])(),Object(n["g"])("span",vn,xn)):(Object(n["t"])(),Object(n["g"])("span",fn,On))])])),Object(n["h"])("div",wn,[Object(n["h"])("div",{class:Object(n["p"])(["like-button",e.rating]),onClick:t[3]||(t[3]=function(){return i.likeComment&&i.likeComment.apply(i,arguments)})},[An,Object(n["h"])("p",null,Object(n["C"])(r.comment.likes.length),1)],2),Object(n["h"])("div",{class:Object(n["p"])(["dislike-button",e.rating]),onClick:t[4]||(t[4]=function(){return i.dislikeComment&&i.dislikeComment.apply(i,arguments)})},[Rn,Object(n["h"])("p",null,Object(n["C"])(r.comment.dislikes.length),1)],2)])],2),e.replying?(Object(n["t"])(),Object(n["g"])("div",Cn,[Object(n["I"])(Object(n["h"])("textarea",{class:"reply-text-area","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.newReply=t}),rows:"4",placeholder:"Napišite odgovor zgornjem komentarju!"},null,512),[[n["F"],e.newReply]]),Object(n["h"])("button",{class:"new-reply-btn",onClick:t[6]||(t[6]=function(){return i.addReply&&i.addReply.apply(i,arguments)})},"Odgovori")])):Object(n["f"])("",!0),e.editing?(Object(n["t"])(),Object(n["g"])("div",Pn,[Object(n["I"])(Object(n["h"])("textarea",{class:"edit-text-area","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.editBody=t}),rows:"4",placeholder:"Uredite vaš zgornji komentar"},null,512),[[n["F"],e.editBody]]),Object(n["h"])("button",{class:"edit-btn",onClick:t[8]||(t[8]=function(){return i.editComment&&i.editComment.apply(i,arguments)})},"Uredi")])):Object(n["f"])("",!0),Object(n["h"])("div",Sn,[(Object(n["t"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(r.comment.replies,(function(e,t){return Object(n["t"])(),Object(n["e"])(o,{reply:e,index:t,key:e.userID,onDeleteReply:i.deleteReply,onEditReply:i.editReply,onLikeReply:i.likeReply,onDislikeReply:i.dislikeReply},null,8,["reply","index","onDeleteReply","onEditReply","onLikeReply","onDislikeReply"])})),128))])])])}var Un=function(e){return Object(n["w"])("data-v-3d6d586a"),e=e(),Object(n["u"])(),e},In={class:"reply"},En={class:"reply-right"},$n={class:"reply-head"},Dn={class:"text-lg font-bold text-green-500"},Nn={key:0,class:"text-blue-500"},zn={key:1,class:"text-lg font-bold text-green-500"},Tn={key:0,class:"text-blue-500"},Ln={class:"text-sm font-semibold text-gray-500"},Hn={key:0},Mn=Un((function(){return Object(n["h"])("i",{class:"fas fa-trash-alt"},null,-1)})),Fn=[Mn],Vn={class:"reply-body"},qn={class:"reply-text"},Bn={key:0,class:"flex items-center justify-center"},Kn={key:0},Zn=Un((function(){return Object(n["h"])("i",{class:"fas fa-edit"},null,-1)})),Gn=Object(n["i"])(" Uredi"),Wn=[Zn,Gn],Jn={key:1},Qn=Un((function(){return Object(n["h"])("i",{class:"fas fa-window-close"},null,-1)})),Xn=Object(n["i"])(" Prekliči"),Yn=[Qn,Xn],ec={class:"grid grid-cols-2 space-x-3 text-lg mr-2 font-bold text-gray-600"},tc=Un((function(){return Object(n["h"])("i",{class:"fas fa-thumbs-up text-2xl"},null,-1)})),rc=Un((function(){return Object(n["h"])("i",{class:"fas fa-thumbs-down text-2xl"},null,-1)})),nc={key:0,class:"edit"};function cc(e,t,r,c,a,i){var s=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["g"])("div",In,[Object(n["h"])("div",En,[Object(n["h"])("div",$n,[Object(n["h"])("div",null,[e.authenticated&&e.user.isAdmin&&r.reply.user._id!=e.user._id&&!r.reply.user.isAdmin?(Object(n["t"])(),Object(n["e"])(s,{key:0,to:"/admin/user/"+r.reply.user._id},{default:Object(n["H"])((function(){return[Object(n["h"])("p",Dn,[Object(n["i"])(Object(n["C"])(r.reply.user.username)+" ",1),r.reply.user.isAdmin?(Object(n["t"])(),Object(n["g"])("span",Nn,"[ADMIN]")):Object(n["f"])("",!0)])]})),_:1},8,["to"])):(Object(n["t"])(),Object(n["g"])("p",zn,[Object(n["i"])(Object(n["C"])(r.reply.user.username)+" ",1),r.reply.user.isAdmin?(Object(n["t"])(),Object(n["g"])("span",Tn,"[ADMIN]")):Object(n["f"])("",!0)])),Object(n["h"])("p",Ln,[Object(n["i"])(Object(n["C"])(e.replyCreatedAt)+" ",1),e.isEdited?(Object(n["t"])(),Object(n["g"])("span",Hn," (urejen)")):Object(n["f"])("",!0)])]),e.authenticated&&(e.user._id===r.reply.userID||e.user.isAdmin)?(Object(n["t"])(),Object(n["g"])("div",{key:0,class:"text-xl cursor-pointer hover:text-gray-600",onClick:t[0]||(t[0]=function(t){return e.$emit("deleteReply",r.reply._id)})},Fn)):Object(n["f"])("",!0)]),Object(n["h"])("div",Vn,[Object(n["h"])("p",qn,Object(n["C"])(r.reply.body),1)]),Object(n["h"])("div",{class:Object(n["p"])(["reply-foot justify-end",{"justify-between":e.authenticated&&e.user._id===r.reply.user._id}])},[e.authenticated&&e.user._id===r.reply.user._id?(Object(n["t"])(),Object(n["g"])("div",Bn,[Object(n["h"])("button",{class:"edit-button",onClick:t[1]||(t[1]=function(){return i.editToggle&&i.editToggle.apply(i,arguments)})},[e.editing?(Object(n["t"])(),Object(n["g"])("span",Jn,Yn)):(Object(n["t"])(),Object(n["g"])("span",Kn,Wn))])])):Object(n["f"])("",!0),Object(n["h"])("div",ec,[Object(n["h"])("div",{class:Object(n["p"])(["like-button",e.rating]),onClick:t[2]||(t[2]=function(){return i.likeReply&&i.likeReply.apply(i,arguments)})},[tc,Object(n["h"])("p",null,Object(n["C"])(r.reply.likes.length),1)],2),Object(n["h"])("div",{class:Object(n["p"])(["dislike-button",e.rating]),onClick:t[3]||(t[3]=function(){return i.dislikeReply&&i.dislikeReply.apply(i,arguments)})},[rc,Object(n["h"])("p",null,Object(n["C"])(r.reply.dislikes.length),1)],2)])],2),e.editing?(Object(n["t"])(),Object(n["g"])("div",nc,[Object(n["I"])(Object(n["h"])("textarea",{class:"edit-text-area","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.editBody=t}),rows:"4",placeholder:"Uredite vaš zgornji komentar"},null,512),[[n["F"],e.editBody]]),Object(n["h"])("button",{class:"edit-submit-button",onClick:t[5]||(t[5]=function(){return i.editReply&&i.editReply.apply(i,arguments)})},"Uredi")])):Object(n["f"])("",!0)])])}var ac=r("c1df"),ic=r.n(ac);r("8155");ic.a.locale("sl");var sc={name:"CommentReply",props:{reply:Object,index:Number,key:String},data:function(){return{replyCreatedAt:this.createdAtString(),isEdited:this.isEditedCheck(),rating:"",editing:!1,editBody:this.reply.body}},computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user"})),emits:["likeReply","dislikeReply","editReply","deleteReply"],updated:function(){this.isEdited=this.isEditedCheck()},methods:{checkRating:function(){return this.authenticated&&this.reply.likes.includes(this.user._id)?"liked":this.authenticated&&this.reply.dislikes.includes(this.user._id)?"disliked":""},createdAtString:function(){var e=ic()(this.reply.createdAt).fromNow(),t=e.charAt(0).toUpperCase()+e.slice(1);return t},isEditedCheck:function(){return this.reply.createdAt!==this.reply.updatedAt},editToggle:function(){this.editing=!this.editing},editReply:function(){this.$emit("editReply",this.reply._id,this.editBody),this.editing=!1},likeReply:function(){if(this.authenticated){switch(this.rating){case"":this.rating="liked";break;case"liked":this.rating="";break;case"disliked":this.rating="liked";break}this.$emit("likeReply",this.reply._id)}},dislikeReply:function(){if(this.authenticated){switch(this.rating){case"":this.rating="disliked";break;case"disliked":this.rating="";break;case"liked":this.rating="disliked";break}this.$emit("dislikeReply",this.reply._id)}}},mounted:function(){this.rating=this.checkRating()}};r("7448");const oc=oe()(sc,[["render",cc],["__scopeId","data-v-3d6d586a"]]);var uc=oc;ic.a.locale("sl");var lc={name:"Comment",components:{CommentReply:uc},props:{comment:Object,index:Number,key:String},data:function(){return{commentCreatedAt:this.createdAtString(),isEdited:this.isEditedCheck(),replying:!1,editing:!1,rating:"",newReply:"",editBody:this.comment.body}},computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",muted:"auth/muted"})),emits:["addReply","editComment","likeComment","dislikeComment","deleteComment","deleteReply","editReply","likeReply","dislikeReply"],updated:function(){this.isEdited=this.isEditedCheck()},methods:{checkRating:function(){return this.authenticated&&this.comment.likes.includes(this.user._id)?"liked":this.authenticated&&this.comment.dislikes.includes(this.user._id)?"disliked":""},createdAtString:function(){var e=ic()(this.comment.createdAt).fromNow(),t=e.charAt(0).toUpperCase()+e.slice(1);return t},isEditedCheck:function(){return this.comment.createdAt!==this.comment.updatedAt},newReplyToggle:function(){this.replying=!this.replying},editToggle:function(){this.editing=!this.editing},editComment:function(){this.$emit("editComment",this.editBody,this.comment._id),this.editing=!1},likeComment:function(){if(this.authenticated){switch(this.rating){case"":this.rating="liked";break;case"liked":this.rating="";break;case"disliked":this.rating="liked";break}this.$emit("likeComment",this.comment._id)}},dislikeComment:function(){if(this.authenticated){switch(this.rating){case"":this.rating="disliked";break;case"disliked":this.rating="";break;case"liked":this.rating="disliked";break}this.$emit("dislikeComment",this.comment._id)}},addReply:function(){""!=this.newReply.trim()&&this.$emit("addReply",this.newReply.trim(),this.comment._id),this.replying=!this.replying,this.newReply=""},editReply:function(e,t){this.$emit("editReply",e,t)},deleteReply:function(e){this.$emit("deleteReply",this.comment._id,e)},likeReply:function(e){this.$emit("likeReply",e)},dislikeReply:function(e){this.$emit("dislikeReply",e)}},mounted:function(){this.rating=this.checkRating()}};r("1aa8");const dc=oe()(lc,[["render",_n],["__scopeId","data-v-61c3189c"]]);var bc=dc;ic.a.locale("sl");var hc={name:"CommentsFeed",components:{Comment:bc},props:{comments:Array,commentsCount:Number},emits:["newComment","editComment","deleteComment","likeComment","dislikeComment","addReply","editReply","deleteReply","likeReply","dislikeReply"],data:function(){return{newComment:"",mutedString:""}},computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",muted:"auth/muted"})),methods:{addComment:function(){this.$emit("newComment",this.newComment),this.newComment=""},editComment:function(e,t){this.$emit("editComment",e,t)},deleteComment:function(e){this.$emit("deleteComment",e)},likeComment:function(e){this.$emit("likeComment",e)},dislikeComment:function(e){this.$emit("dislikeComment",e)},addReply:function(e,t){this.$emit("addReply",e,t)},editReply:function(e,t){this.$emit("editReply",e,t)},deleteReply:function(e,t){this.$emit("deleteReply",e,t)},likeReply:function(e){this.$emit("likeReply",e)},dislikeReply:function(e){this.$emit("dislikeReply",e)}},beforeMount:function(){this.authenticated&&this.muted&&(this.mutedString=ic()(this.user.muteExpiration).format("LLL"))}};r("9a8b");const pc=oe()(hc,[["render",qr],["__scopeId","data-v-788c25df"]]);var mc=pc,fc={key:0,class:"alert"},jc={class:"text-xl font-semibold mb-7"},gc={class:"text-center"};function Oc(e,t,r,c,a,i){return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["j"])(n["b"],{name:"fade"},{default:Object(n["H"])((function(){return[r.open?(Object(n["t"])(),Object(n["g"])("div",{key:0,class:"alert-bg",onClick:t[0]||(t[0]=function(t){return e.$emit("cancel")})})):Object(n["f"])("",!0)]})),_:1}),Object(n["j"])(n["b"],{name:"fade"},{default:Object(n["H"])((function(){return[r.open?(Object(n["t"])(),Object(n["g"])("div",fc,[Object(n["h"])("h1",jc,Object(n["C"])(r.text),1),Object(n["h"])("div",gc,[Object(n["h"])("button",{class:"bg-green-500 hover:bg-green-400",onClick:t[1]||(t[1]=function(t){return e.$emit("ok")})}," OK "),Object(n["h"])("button",{class:"bg-red-500 hover:bg-red-400",onClick:t[2]||(t[2]=function(t){return e.$emit("cancel")})}," Prekliči ")]),Object(n["h"])("i",{class:"fas fa-window-close",onClick:t[3]||(t[3]=function(t){return e.$emit("cancel")})})])):Object(n["f"])("",!0)]})),_:1})],64)}var vc={name:"Alert",components:{},props:["text","open"],emits:["ok","cancel"],data:function(){return{}},methods:{}};r("e87c");const kc=oe()(vc,[["render",Oc],["__scopeId","data-v-f8c63aee"]]);var yc=kc,xc={name:"Article",components:{ArticlePreview:Cr,CommentsFeed:mc,Alert:yc},emits:["notify"],data:function(){return{alert:!1,article:"",counters:{comments:0,likes:0,dislikes:0,clicks:0},articleImg:"",rating:"",newComment:"",CommentID:"",ReplyID:"",deleteType:"",error:""}},computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user"})),methods:{alertOK:function(){switch(this.alert=!1,this.deleteType){case"comment":this.deleteComment(this.commentID);break;case"reply":this.deleteReply(this.commentID,this.replyID);break;default:break}},alertCancel:function(){this.alert=!1,this.commentID="",this.replyID=""},getArticle:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,H.getArticleById(e);case 3:n=r.sent,t.article=n.article,t.article.comments=n.comments,"https://siol.netundefined"==t.article.image?t.articleImg=null:t.articleImg="url("+t.article.image+")",t.counters.comments=t.article.comments.length,t.counters.likes=t.article.likes.length,t.counters.dislikes=t.article.dislikes.length,t.counters.clicks=t.article.clicks.length,t.article.likes.some((function(e){return e.userID==t.user._id}))?t.rating="liked":t.article.dislikes.some((function(e){return e.userID==t.user._id}))?t.rating="disliked":t.rating="",r.next=17;break;case 14:r.prev=14,r.t0=r["catch"](0),t.error=r.t0.message;case 17:case"end":return r.stop()}}),r,null,[[0,14]])})))()},visit:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.authenticated||e.article.clicks.some((function(t){return t.userID==e.user._id}))){t.next=10;break}return t.prev=1,t.next=4,H.visitArticle(e.article._id);case 4:e.counters.clicks++,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),e.$emit("notify",{type:"error",message:t.t0});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},like:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.authenticated){t.next=18;break}t.t0=e.rating,t.next=""===t.t0?4:"liked"===t.t0?7:"disliked"===t.t0?10:14;break;case 4:return e.rating="liked",e.counters.likes++,t.abrupt("break",14);case 7:return e.rating="",e.counters.likes--,t.abrupt("break",14);case 10:return e.rating="liked",e.counters.dislikes--,e.counters.likes++,t.abrupt("break",14);case 14:return t.next=16,H.rateArticle(e.article._id,"like");case 16:t.next=19;break;case 18:Do.push("/login");case 19:case"end":return t.stop()}}),t)})))()},dislike:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.authenticated){t.next=18;break}t.t0=e.rating,t.next=""===t.t0?4:"disliked"===t.t0?7:"liked"===t.t0?10:14;break;case 4:return e.rating="disliked",e.counters.dislikes++,t.abrupt("break",14);case 7:return e.rating="",e.counters.dislikes--,t.abrupt("break",14);case 10:return e.rating="disliked",e.counters.dislikes++,e.counters.likes--,t.abrupt("break",14);case 14:return t.next=16,H.rateArticle(e.article._id,"dislike");case 16:t.next=19;break;case 18:Do.push("/login");case 19:case"end":return t.stop()}}),t)})))()},addComment:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e=e.trim(),""==e){r.next=12;break}return r.prev=2,r.next=5,H.addComment(t.article._id,e);case 5:t.getArticle(t.$route.params.id),t.$emit("notify",{type:"success",message:"Komentar je bil dodan"}),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](2),t.$emit("notify",{type:"error",message:r.t0});case 12:case"end":return r.stop()}}),r,null,[[2,9]])})))()},editComment:function(e,t){var r=this;return Object(I["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e=e.trim(),""==e){n.next=12;break}return n.prev=2,n.next=5,H.editComment(t,e);case 5:r.getArticle(r.$route.params.id),r.$emit("notify",{type:"success",message:"Komentar je bil urejen"}),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](2),r.$emit("notify",{type:"error",message:n.t0});case 12:case"end":return n.stop()}}),n,null,[[2,9]])})))()},deleteCommentConfirm:function(e){this.commentID=e,this.deleteType="comment",this.alert=!0},deleteReplyConfirm:function(e,t){this.commentID=e,this.replyID=t,this.deleteType="reply",this.alert=!0},deleteComment:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,H.deleteComment(t.article._id,e);case 3:t.getArticle(t.$route.params.id),t.$emit("notify",{type:"success",message:"Komentar je bil izbrisan"}),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),t.$emit("notify",{type:"error",message:r.t0});case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},likeComment:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,H.rateComment(e,"like");case 3:t.getArticle(t.$route.params.id),r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),t.$emit("notify",{type:"error",message:r.t0});case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},dislikeComment:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,H.rateComment(e,"dislike");case 3:t.getArticle(t.$route.params.id),r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),t.$emit("notify",{type:"error",message:r.t0});case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},addReply:function(e,t){var r=this;return Object(I["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,H.addReply(t,e);case 3:r.getArticle(r.$route.params.id),r.$emit("notify",{type:"success",message:"Odziv je bil dodan"}),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),r.$emit("notify",{type:"error",message:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},editReply:function(e,t){var r=this;return Object(I["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,H.editCommentReply(e,t);case 3:r.getArticle(r.$route.params.id),r.$emit("notify",{type:"success",message:"Odziv je bil urejen"}),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),r.$emit("notify",{type:"error",message:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},deleteReply:function(e,t){var r=this;return Object(I["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,H.deleteCommentReply(e,t);case 3:r.getArticle(r.$route.params.id),r.$emit("notify",{type:"success",message:"Odziv je bil izbrisan"}),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),r.$emit("notify",{type:"error",message:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},likeReply:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,H.rateCommentReply(e,"like");case 3:t.getArticle(t.$route.params.id),r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),t.$emit("notify",{type:"error",message:r.t0});case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},dislikeReply:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,H.rateCommentReply(e,"dislike");case 3:t.getArticle(t.$route.params.id),r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),t.$emit("notify",{type:"error",message:r.t0});case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()}},beforeMount:function(){this.getArticle(this.$route.params.id)}};const wc=oe()(xc,[["render",Qt]]);var Ac=wc,Rc=function(e){return Object(n["w"])("data-v-354885ca"),e=e(),Object(n["u"])(),e},Cc={class:"text-3xl border-b border-gray-600 pb-4"},Pc=Object(n["i"])(" Pozdravljen/a, "),Sc={class:"text-green-500"},_c={class:"action-list"},Uc=Rc((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"fas fa-user-circle"}),Object(n["h"])("h2",null,"Urejanje profila")],-1)})),Ic=Rc((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"fas fa-clock"}),Object(n["h"])("h2",null,"Nedavno prebrano")],-1)})),Ec=Rc((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"fas fa-thumbs-up"}),Object(n["h"])("h2",null,"Všečkane novice")],-1)})),$c=Rc((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"fas fa-calendar-day"}),Object(n["h"])("h2",null,"Novice dneva")],-1)})),Dc=Rc((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"far fa-newspaper"}),Object(n["h"])("h2",null,"Seznam novic")],-1)})),Nc=Rc((function(){return Object(n["h"])("div",{class:"admin-card"},[Object(n["h"])("i",{class:"fas fa-unlock-alt"}),Object(n["h"])("h2",null,"Admin panel")],-1)}));function zc(e,t,r,c,a,i){var s=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",Cc,[Pc,Object(n["h"])("span",Sc,Object(n["C"])(e.user.username)+"!",1)]),Object(n["h"])("div",_c,[Object(n["j"])(s,{to:"/profile"},{default:Object(n["H"])((function(){return[Uc]})),_:1}),Object(n["j"])(s,{to:"/read"},{default:Object(n["H"])((function(){return[Ic]})),_:1}),Object(n["j"])(s,{to:"/liked"},{default:Object(n["H"])((function(){return[Ec]})),_:1}),Object(n["j"])(s,{to:"/today"},{default:Object(n["H"])((function(){return[$c]})),_:1}),Object(n["j"])(s,{to:"/"},{default:Object(n["H"])((function(){return[Dc]})),_:1}),e.isAdmin?(Object(n["t"])(),Object(n["e"])(s,{key:0,to:"/admin"},{default:Object(n["H"])((function(){return[Nc]})),_:1})):Object(n["f"])("",!0)])],64)}var Tc={name:"Dashboard",components:{},emits:["notify"],computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})),data:function(){return{}}};r("b491");const Lc=oe()(Tc,[["render",zc],["__scopeId","data-v-354885ca"]]);var Hc=Lc,Mc=function(e){return Object(n["w"])("data-v-4ddf6387"),e=e(),Object(n["u"])(),e},Fc={class:"text-3xl text-center"},Vc=Object(n["i"])("Domov"),qc={key:0},Bc=Object(n["i"])(" > "),Kc=Object(n["i"])("Nadzorna Plošča"),Zc=Object(n["i"])(" > "),Gc=Mc((function(){return Object(n["h"])("span",{class:"text-green-600"},"Urejanje profila",-1)})),Wc={class:"my-10 border border-gray-400 rounded-md shadow-md flex flex-wrap sm:flex-nowrap overflow-hidden"},Jc={class:"w-full mb-7"},Qc={class:"form-control"},Xc=Mc((function(){return Object(n["h"])("label",{for:"email"},"E-Pošta",-1)})),Yc=Mc((function(){return Object(n["h"])("i",{class:"far fa-envelope"},null,-1)})),ea=[Yc],ta={class:"error"},ra={class:"form-control"},na=Mc((function(){return Object(n["h"])("label",{for:"username"},"Uporabniško Ime",-1)})),ca=Mc((function(){return Object(n["h"])("i",{class:"fas fa-user"},null,-1)})),aa=[ca],ia={class:"error"},sa={class:"form-control"},oa=Mc((function(){return Object(n["h"])("label",{for:"password"},"Ponovitev gesla",-1)})),ua=Mc((function(){return Object(n["h"])("i",{class:"fas fa-key"},null,-1)})),la=[ua],da={class:"error"},ba={class:"form-control"},ha={class:"error"},pa=Mc((function(){return Object(n["h"])("button",{class:"p-3 mt-6 text-white rounded-sm bg-green-500 hover:bg-green-400 text-xl transition duration-200"}," Nazaj ",-1)})),ma={key:0,class:"saved-notice"};function fa(e,t,r,c,a,i){var s=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",Fc,[Object(n["j"])(s,{to:"/"},{default:Object(n["H"])((function(){return[Vc]})),_:1}),e.authenticated?(Object(n["t"])(),Object(n["g"])("span",qc,[Bc,Object(n["j"])(s,{to:"/dashboard"},{default:Object(n["H"])((function(){return[Kc]})),_:1})])):Object(n["f"])("",!0),Zc,Gc]),Object(n["h"])("div",Wc,[Object(n["h"])("div",Jc,[Object(n["h"])("div",Qc,[Xc,Object(n["h"])("div",{class:Object(n["p"])(["input-container",{borderRed:a.emailError}])},[Object(n["h"])("span",{class:Object(n["p"])(["icon-container",{backgroundRed:a.emailError}])},ea,2),Object(n["I"])(Object(n["h"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e}),placeholder:"primer@mail.com",onInput:t[1]||(t[1]=function(){return i.authenticateEmail&&i.authenticateEmail.apply(i,arguments)})},null,544),[[n["F"],a.email]])],2),Object(n["h"])("p",ta,Object(n["C"])(a.emailError),1)]),Object(n["h"])("div",ra,[na,Object(n["h"])("div",{class:Object(n["p"])(["input-container",{borderRed:a.usernameError}])},[Object(n["h"])("span",{class:Object(n["p"])(["icon-container",{backgroundRed:a.usernameError}])},aa,2),Object(n["I"])(Object(n["h"])("input",{type:"text",id:"username","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.username=e}),placeholder:"Vpišite vaše uporabniško ime",onInput:t[3]||(t[3]=function(){return i.authenticateUsername&&i.authenticateUsername.apply(i,arguments)})},null,544),[[n["F"],a.username]])],2),Object(n["h"])("p",ia,Object(n["C"])(a.usernameError),1)]),Object(n["h"])("div",sa,[oa,Object(n["h"])("div",{class:Object(n["p"])(["input-container",{borderRed:a.passwordError}])},[Object(n["h"])("span",{class:Object(n["p"])(["icon-container",{backgroundRed:a.passwordError}])},la,2),Object(n["I"])(Object(n["h"])("input",{type:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.password=e}),placeholder:"Potrdite spremembe z geslom",onInput:t[5]||(t[5]=function(){return i.authenticatePassword&&i.authenticatePassword.apply(i,arguments)})},null,544),[[n["F"],a.password]])],2),Object(n["h"])("p",da,Object(n["C"])(a.passwordError),1)]),Object(n["h"])("div",ba,[Object(n["h"])("p",ha,Object(n["C"])(a.error),1),Object(n["h"])("button",{class:Object(n["p"])(["p-3 mt-6 mr-6 text-white rounded-sm bg-green-500 hover:bg-green-400 text-xl transition duration-200",{backgroundRed:a.formInvalid}]),onClick:t[6]||(t[6]=function(){return i.updateUser&&i.updateUser.apply(i,arguments)})}," Shrani spremembe ",2),Object(n["j"])(s,{to:"/dashboard"},{default:Object(n["H"])((function(){return[pa]})),_:1})]),a.saved?(Object(n["t"])(),Object(n["g"])("p",ma,"Spremembe so bile shranjene")):Object(n["f"])("",!0)])])],64)}var ja={name:"Dashboard",components:{},data:function(){return{username:"",email:"",password:"",emailError:"",usernameError:"",passwordError:"",formInvalid:!0,error:"",saved:!1}},emits:["notify"],computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user"})),created:function(){this.loadInfo()},methods:Object(C["a"])(Object(C["a"])({},Object(P["b"])({saveToken:"auth/saveToken"})),{},{loadInfo:function(){this.$nextTick((function(){this.username=this.user.username,this.email=this.user.email}))},authenticateEmail:function(){0==/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/.test(this.email)&&""!=this.email?this.emailError="E-Pošta mora biti v pravilnem formatu":this.emailError="",this.authenticateForm()},authenticateUsername:function(){0==/^[A-Za-z0-9 _]*[A-Za-z0-9][A-Za-z0-9 _]*$/.test(this.username)&&""!=this.username?this.usernameError="Uporabniško ime lahko vsebuje samo črke in številke":this.usernameError="",this.authenticateForm()},authenticatePassword:function(){this.password.length<5&&""!=this.password?this.passwordError="Geslo ime mora vsebovati vsaj 5 znakov":this.passwordError="",this.authenticateForm()},authenticateForm:function(){""!=this.email&&""!=this.username&&""!=this.password&&""===this.emailError&&""===this.usernameError&&""===this.passwordError?this.formInvalid=!1:this.formInvalid=!0},updateUser:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!1!==e.formInvalid){t.next=19;break}return t.prev=1,t.next=4,ht.updateUser(e.email,e.username,e.password);case 4:if(r=t.sent,200===r.status){t.next=9;break}e.$emit("notify",{type:"error",message:r.data}),t.next=14;break;case 9:return t.next=11,e.saveToken(r.data.accessToken);case 11:e.password="",e.error="",e.$emit("notify",{type:"success",message:"Profil je bil posodobljen"});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](1),e.error=t.t0.message;case 19:case"end":return t.stop()}}),t,null,[[1,16]])})))()}})};r("61d9");const ga=oe()(ja,[["render",fa],["__scopeId","data-v-4ddf6387"]]);var Oa=ga,va=function(e){return Object(n["w"])("data-v-34fe8ce4"),e=e(),Object(n["u"])(),e},ka={class:"text-3xl border-b border-gray-600 pb-4 mb-10"},ya=Object(n["i"])("Domov"),xa={key:0},wa=Object(n["i"])(" > "),Aa=Object(n["i"])("Nadzorna Plošča"),Ra=Object(n["i"])(" > "),Ca=va((function(){return Object(n["h"])("span",{class:"text-green-600"},"Nedavno prebrano",-1)}));function Pa(e,t,r,c,a,i){var s=Object(n["A"])("router-link"),o=Object(n["A"])("Searchbar"),u=Object(n["A"])("Paginator"),l=Object(n["A"])("ArticlesListRead");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",ka,[Object(n["j"])(s,{to:"/"},{default:Object(n["H"])((function(){return[ya]})),_:1}),e.authenticated?(Object(n["t"])(),Object(n["g"])("span",xa,[wa,Object(n["j"])(s,{to:"/dashboard"},{default:Object(n["H"])((function(){return[Aa]})),_:1})])):Object(n["f"])("",!0),Ra,Ca]),Object(n["j"])(o,{onSearch:i.search},null,8,["onSearch"]),a.pages>1?(Object(n["t"])(),Object(n["e"])(u,{key:0,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["h"])("div",{class:Object(n["p"])({animating:a.animating})},[Object(n["j"])(l,{articles:a.shownArticles},null,8,["articles"])],2),a.pages>1?(Object(n["t"])(),Object(n["e"])(u,{key:1,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0)],64)}r("7db0");function Sa(e,t,r,c,a,i){var s=Object(n["A"])("NewsCardWide");return Object(n["t"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(r.articles,(function(e,t){return Object(n["t"])(),Object(n["e"])(s,{item:e,index:t,key:e.id,article:e,type:"read"},null,8,["item","index","article"])})),128)}var _a={class:"card"},Ua={class:"card-image"},Ia={key:0},Ea=["src"],$a={key:1},Da=["src"],Na={class:"card-content"},za={class:"card-title"},Ta={class:"card-description"},La={key:0,class:"mt-2 text-gray-800"},Ha={key:1,class:"mt-2 text-gray-800"},Ma={key:0,class:"mt-5 absolute bottom-4 right-2 text-right"},Fa={class:"p-2 rounded-md bg-green-500 text-white font-semibold"};function Va(e,t,r,c,a,i){var s=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["g"])("div",_a,[Object(n["h"])("div",Ua,[Object(n["h"])("div",{class:Object(n["p"])(["card-source",{stiriindvajsetur:"24ur"===r.article.source,delo:"Delo"===r.article.source,slovenskenovice:"Slovenske Novice"===r.article.source,siol:"Siol"===r.article.source}])},Object(n["C"])(r.article.source),3),Object(n["j"])(s,{to:"/article/"+r.article._id},{default:Object(n["H"])((function(){return[null==r.article.image?(Object(n["t"])(),Object(n["g"])("span",Ia,[Object(n["h"])("img",{class:"card-image",src:a.noImage},null,8,Ea)])):(Object(n["t"])(),Object(n["g"])("span",$a,[Object(n["h"])("img",{class:"card-image",src:r.article.image},null,8,Da)]))]})),_:1},8,["to"])]),Object(n["h"])("div",Na,[Object(n["j"])(s,{to:"/article/"+r.article._id},{default:Object(n["H"])((function(){return[Object(n["h"])("h2",za,Object(n["C"])(r.article.title),1)]})),_:1},8,["to"]),Object(n["h"])("p",Ta,Object(n["C"])(r.article.summary.substring(0,150+r.article.summary.substring(149).indexOf(" "))+"..."),1),"read"==r.type?(Object(n["t"])(),Object(n["g"])("p",La,Object(n["C"])("Prebral "+r.article.readAgo),1)):Object(n["f"])("",!0),"liked"==r.type?(Object(n["t"])(),Object(n["g"])("p",Ha,Object(n["C"])("Všečkal "+r.article.likedAgo),1)):Object(n["f"])("",!0)]),"today"==r.type?(Object(n["t"])(),Object(n["g"])("p",Ma,[Object(n["h"])("span",Fa,Object(n["C"])(r.article.time),1)])):Object(n["f"])("",!0)])}var qa=r("e270"),Ba={name:"NewsCardWide",props:{article:Object,type:String},data:function(){return{noImage:qa}}};r("0fd8");const Ka=oe()(Ba,[["render",Va],["__scopeId","data-v-a86338cc"]]);var Za=Ka,Ga={name:"ArticlesListRead",components:{NewsCardWide:Za},props:{articles:Array}};const Wa=oe()(Ga,[["render",Sa]]);var Ja=Wa;ic.a.locale("sl");var Qa={name:"Read",components:{ArticlesListRead:Ja,Paginator:je,Searchbar:Re},emits:["notify"],data:function(){return{articles:[],queriedArticles:[],shownArticles:[],pages:10,currentPage:1,error:"",animating:!1}},computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user"})),methods:{getArticles:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.getReadArticles();case 3:for(e.articles=t.sent,r=0;r<e.articles.length;r++)n=e.articles[r].clicks.find((function(t){return t.userID==e.user._id})),c=ic()(n.createdAt).fromNow(),e.articles[r].readAgo=c,e.articles[r].readAt=n.createdAt;e.articles.sort((function(e,t){return new Date(t.readAt)-new Date(e.readAt)})),e.queriedArticles=e.articles,e.pages=Math.ceil(e.queriedArticles.length/10),e.changePageArticles(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.error=t.t0.message;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},changePage:function(e){this.currentPage=e,this.changePageArticles(),this.fadeList()},changePageArticles:function(){this.shownArticles=this.queriedArticles.slice(10*(this.currentPage-1),10*this.currentPage),this.fadeList()},search:function(e){this.queriedArticles=""!=e?this.articles.filter((function(t){return t.title.toLowerCase().includes(e)})):this.articles,this.pages=Math.ceil(this.queriedArticles.length/10),this.changePageArticles()},fadeList:function(){var e=this;this.animating=!0,setTimeout((function(){e.animating=!1}),1e3)}},beforeMount:function(){this.getArticles()}};r("19c8");const Xa=oe()(Qa,[["render",Pa],["__scopeId","data-v-34fe8ce4"]]);var Ya=Xa,ei=function(e){return Object(n["w"])("data-v-6a11f021"),e=e(),Object(n["u"])(),e},ti={class:"text-3xl border-b border-gray-600 pb-4 mb-10"},ri=Object(n["i"])("Domov"),ni={key:0},ci=Object(n["i"])(" > "),ai=Object(n["i"])("Nadzorna Plošča"),ii=Object(n["i"])(" > "),si=ei((function(){return Object(n["h"])("span",{class:"text-green-600"},"Všečkane novice",-1)}));function oi(e,t,r,c,a,i){var s=Object(n["A"])("router-link"),o=Object(n["A"])("Searchbar"),u=Object(n["A"])("Paginator"),l=Object(n["A"])("ArticlesListLiked");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",ti,[Object(n["j"])(s,{to:"/"},{default:Object(n["H"])((function(){return[ri]})),_:1}),e.authenticated?(Object(n["t"])(),Object(n["g"])("span",ni,[ci,Object(n["j"])(s,{to:"/dashboard"},{default:Object(n["H"])((function(){return[ai]})),_:1})])):Object(n["f"])("",!0),ii,si]),Object(n["j"])(o,{onSearch:i.search},null,8,["onSearch"]),a.pages>1?(Object(n["t"])(),Object(n["e"])(u,{key:0,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["h"])("div",{class:Object(n["p"])({animating:a.animating})},[Object(n["j"])(l,{articles:a.shownArticles},null,8,["articles"])],2),a.pages>1?(Object(n["t"])(),Object(n["e"])(u,{key:1,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0)],64)}function ui(e,t,r,c,a,i){var s=Object(n["A"])("NewsCardWide");return Object(n["t"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(r.articles,(function(e,t){return Object(n["t"])(),Object(n["e"])(s,{item:e,index:t,key:e.id,article:e,type:"liked"},null,8,["item","index","article"])})),128)}var li={name:"ArticlesListLiked",components:{NewsCardWide:Za},props:{articles:Array}};const di=oe()(li,[["render",ui]]);var bi=di;ic.a.locale("sl");var hi={name:"Read",components:{ArticlesListLiked:bi,Paginator:je,Searchbar:Re},data:function(){return{articles:[],queriedArticles:[],shownArticles:[],pages:10,currentPage:1,error:"",animating:!1}},computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user"})),emits:["notify"],methods:{getArticles:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.getLikedArticles();case 3:for(e.articles=t.sent,r=0;r<e.articles.length;r++)n=e.articles[r].likes.find((function(t){return t.userID==e.user._id})),c=ic()(n.createdAt).fromNow(),e.articles[r].likedAgo=c,e.articles[r].likedAt=n.createdAt;e.articles.sort((function(e,t){return new Date(t.likedAt)-new Date(e.likedAt)})),e.queriedArticles=e.articles,e.pages=Math.ceil(e.queriedArticles.length/10),e.changePageArticles(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.error=t.t0.message;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},changePage:function(e){this.currentPage=e,this.changePageArticles(),this.fadeList()},changePageArticles:function(){this.shownArticles=this.queriedArticles.slice(10*(this.currentPage-1),10*this.currentPage),this.fadeList()},search:function(e){this.queriedArticles=""!=e?this.articles.filter((function(t){return t.title.toLowerCase().includes(e)})):this.articles,this.pages=Math.ceil(this.queriedArticles.length/10),this.changePageArticles()},fadeList:function(){var e=this;this.animating=!0,setTimeout((function(){e.animating=!1}),1e3)}},beforeMount:function(){this.getArticles()}};r("cdac");const pi=oe()(hi,[["render",oi],["__scopeId","data-v-6a11f021"]]);var mi=pi,fi=function(e){return Object(n["w"])("data-v-48db2cb1"),e=e(),Object(n["u"])(),e},ji={class:"text-3xl border-b border-gray-600 pb-4 mb-10"},gi=Object(n["i"])("Domov"),Oi={key:0},vi=Object(n["i"])(" > "),ki=Object(n["i"])("Nadzorna Plošča"),yi=Object(n["i"])(" > "),xi=fi((function(){return Object(n["h"])("span",{class:"text-green-600"},"Novice dneva",-1)}));function wi(e,t,r,c,a,i){var s=Object(n["A"])("router-link"),o=Object(n["A"])("Searchbar"),u=Object(n["A"])("Paginator"),l=Object(n["A"])("ArticlesListToday");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",ji,[Object(n["j"])(s,{to:"/"},{default:Object(n["H"])((function(){return[gi]})),_:1}),e.authenticated?(Object(n["t"])(),Object(n["g"])("span",Oi,[vi,Object(n["j"])(s,{to:"/dashboard"},{default:Object(n["H"])((function(){return[ki]})),_:1})])):Object(n["f"])("",!0),yi,xi]),Object(n["j"])(o,{onSearch:i.search},null,8,["onSearch"]),a.pages>1?(Object(n["t"])(),Object(n["e"])(u,{key:0,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["h"])("div",{class:Object(n["p"])({animating:a.animating})},[Object(n["j"])(l,{articles:a.shownArticles},null,8,["articles"])],2),a.pages>1?(Object(n["t"])(),Object(n["e"])(u,{key:1,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0)],64)}function Ai(e,t,r,c,a,i){var s=Object(n["A"])("NewsCardWide");return Object(n["t"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(r.articles,(function(e){return Object(n["t"])(),Object(n["e"])(s,{item:e,key:e.id,article:e,type:"today"},null,8,["item","article"])})),128)}var Ri={name:"ArticlesListToday",components:{NewsCardWide:Za},props:{articles:Array}};const Ci=oe()(Ri,[["render",Ai]]);var Pi=Ci;ic.a.locale("sl");var Si={name:"Read",components:{ArticlesListToday:Pi,Paginator:je,Searchbar:Re},emits:["notify"],data:function(){return{articles:[],queriedArticles:[],shownArticles:[],pages:10,currentPage:1,error:"",animating:!1}},computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user"})),methods:{getArticles:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.getTodayArticles();case 3:e.articles=t.sent,e.queriedArticles=e.articles,e.pages=Math.ceil(e.queriedArticles.length/10),e.changePageArticles(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.error=t.t0.message;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},changePage:function(e){this.currentPage=e,this.changePageArticles(),this.fadeList()},changePageArticles:function(){this.shownArticles=this.queriedArticles.slice(10*(this.currentPage-1),10*this.currentPage),this.fadeList()},search:function(e){this.queriedArticles=""!=e?this.articles.filter((function(t){return t.title.toLowerCase().includes(e)})):this.articles,this.pages=Math.ceil(this.queriedArticles.length/10),this.changePageArticles()},fadeList:function(){var e=this;this.animating=!0,setTimeout((function(){e.animating=!1}),1e3)}},beforeMount:function(){this.getArticles()}};r("80ac");const _i=oe()(Si,[["render",wi],["__scopeId","data-v-48db2cb1"]]);var Ui=_i,Ii=function(e){return Object(n["w"])("data-v-7592f311"),e=e(),Object(n["u"])(),e},Ei=Ii((function(){return Object(n["h"])("h1",{class:"text-3xl border-b border-gray-600 pb-4"},"Nadzorna plošča",-1)})),$i={class:"action-list"},Di=Ii((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"far fa-newspaper"}),Object(n["h"])("h2",null,"Novice")],-1)})),Ni=Ii((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"fas fa-users"}),Object(n["h"])("h2",null,"Uporabniki")],-1)})),zi=Ii((function(){return Object(n["h"])("div",{class:"action-card"},[Object(n["h"])("i",{class:"fas fa-plus"}),Object(n["h"])("h2",null,"Posodobi novice")],-1)}));function Ti(e,t,r,c,a,i){var s=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Ei,Object(n["h"])("div",$i,[Object(n["j"])(s,{to:"/admin/articles"},{default:Object(n["H"])((function(){return[Di]})),_:1}),Object(n["j"])(s,{to:"/admin/users"},{default:Object(n["H"])((function(){return[Ni]})),_:1}),Object(n["j"])(s,{to:"/admin/articles/update"},{default:Object(n["H"])((function(){return[zi]})),_:1})])],64)}var Li={name:"Admin",components:{},emits:["notify"],computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})),data:function(){return{}},beforeMount:function(){this.isAdmin||Do.push("/login")}};r("d088");const Hi=oe()(Li,[["render",Ti],["__scopeId","data-v-7592f311"]]);var Mi=Hi,Fi=function(e){return Object(n["w"])("data-v-30fb0a7c"),e=e(),Object(n["u"])(),e},Vi={class:"text-3xl border-b border-gray-600 pb-4 mb-10"},qi=Object(n["i"])("Admin"),Bi=Object(n["i"])(" > "),Ki=Fi((function(){return Object(n["h"])("span",{class:"text-green-600"},"Novice",-1)})),Zi={class:"block overflow-auto"},Gi={class:"table-fixed"},Wi=Fi((function(){return Object(n["h"])("tr",{class:"rounded-t-md"},[Object(n["h"])("th",{class:"source"},"Source"),Object(n["h"])("th",{class:"title"},"Title"),Object(n["h"])("th",{class:"datetime"},"Date & Time"),Object(n["h"])("th",{class:"actions"},"Actions")],-1)})),Ji=["item","index","article"],Qi={class:"text-center"},Xi={class:"font-bold"},Yi={class:"actions-container"},es=["onClick"],ts={key:0,class:"far fa-eye"},rs={key:1,class:"far fa-eye-slash"},ns={class:"tooltip"},cs={key:0},as={key:1},is=["onClick"],ss=Fi((function(){return Object(n["h"])("i",{class:"fas fa-trash"},null,-1)})),os=Fi((function(){return Object(n["h"])("div",{class:"tooltip"},[Object(n["h"])("p",null,"Delete")],-1)})),us=[ss,os];function ls(e,t,r,c,a,i){var s=Object(n["A"])("router-link"),o=Object(n["A"])("Searchbar"),u=Object(n["A"])("SourcesFilter"),l=Object(n["A"])("Paginator"),d=Object(n["A"])("OrderSelect"),b=Object(n["A"])("Alert");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",Vi,[Object(n["j"])(s,{to:"/admin"},{default:Object(n["H"])((function(){return[qi]})),_:1}),Bi,Ki]),Object(n["j"])(o,{onSearch:i.search},null,8,["onSearch"]),Object(n["j"])(u,{toggledSources:a.toggledSources,onToggle:i.toggleSource},null,8,["toggledSources","onToggle"]),a.pages>1?(Object(n["t"])(),Object(n["e"])(l,{key:0,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["j"])(d,{order:a.order,onSelect:i.orderSelect},null,8,["order","onSelect"]),Object(n["h"])("div",Zi,[Object(n["h"])("table",Gi,[Wi,(Object(n["t"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(a.shownArticles,(function(e,t){return Object(n["t"])(),Object(n["g"])("tr",{item:e,index:t,key:e.id,article:e},[Object(n["h"])("td",null,Object(n["C"])(e.source),1),Object(n["h"])("td",null,[Object(n["j"])(s,{to:"/article/"+e._id},{default:Object(n["H"])((function(){return[Object(n["i"])(Object(n["C"])(e.title),1)]})),_:2},1032,["to"])]),Object(n["h"])("td",Qi,[Object(n["h"])("p",null,Object(n["C"])(e.date),1),Object(n["h"])("p",Xi,Object(n["C"])(e.time),1)]),Object(n["h"])("td",null,[Object(n["h"])("div",Yi,[Object(n["h"])("span",{onClick:function(t){return i.toggleVisibility(e._id)}},[e.hidden?(Object(n["t"])(),Object(n["g"])("i",rs)):(Object(n["t"])(),Object(n["g"])("i",ts)),Object(n["h"])("div",ns,[e.hidden?(Object(n["t"])(),Object(n["g"])("p",as,"Unhide")):(Object(n["t"])(),Object(n["g"])("p",cs,"Hide"))])],8,es),Object(n["h"])("span",{onClick:function(t){return i.deleteArticleConfirm(e._id)}},us,8,is)])])],8,Ji)})),128))])]),a.pages>1?(Object(n["t"])(),Object(n["e"])(l,{key:1,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["j"])(b,{text:"Želite izbrisati članek?",open:a.alert,onOk:i.alertOK,onCancel:i.alertCancel},null,8,["open","onOk","onCancel"])],64)}var ds=function(){function e(){Object(E["a"])(this,e)}return Object($["a"])(e,null,[{key:"toggleVisibility",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("admin/articles/toggleVisibility/"+t);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteArticle",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.delete("admin/articles/"+t);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("admin/articles/find/"+t);case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("admin/articles/search/"+t+"/"+r);case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getUsers",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("admin/users");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("admin/user/"+t);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchUsers",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("admin/users/search/"+t);case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.delete("admin/users/"+t);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.put("/admin/user",{user:t});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"muteUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("admin/user/mute",{userID:t,muteDays:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"unmuteUser",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("admin/user/unmute",{userID:t});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateArticles",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("scraper/"+t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),bs=ds,hs={name:"ArticlesList",components:{Paginator:je,Searchbar:Re,SourcesFilter:Ue,OrderSelect:qe,Alert:yc},emits:["notify"],computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})),data:function(){return{alert:!1,articles:[],filteredArticles:[],shownArticles:[],pages:10,currentPage:1,order:"newest",toggledSources:{ur:!0,Delo:!0,Siol:!0,SlovenskeNovice:!0,list:["24ur","Delo","Siol","Slovenske Novice"]},deleteID:"",error:""}},methods:{getArticles:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"sport"!=e.$route.params.category){t.next=7;break}return t.next=4,bs.getArticles("sport");case 4:e.articles=t.sent,t.next=16;break;case 7:if("chronicle"!=e.$route.params.category){t.next=13;break}return t.next=10,bs.getArticles("chronicle");case 10:e.articles=t.sent,t.next=16;break;case 13:return t.next=15,bs.getArticles("all");case 15:e.articles=t.sent;case 16:e.filterArticles(),e.changePageArticles(),t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](0),e.error=t.t0.message;case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},changePage:function(e){this.currentPage=e,this.changePageArticles()},changePageArticles:function(){this.shownArticles=this.filteredArticles.slice(30*(this.currentPage-1),30*this.currentPage)},search:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(""==e){r.next=18;break}if("sport"!=t.$route.params.category){r.next=7;break}return r.next=4,bs.searchArticles(e,"sport");case 4:t.articles=r.sent,r.next=16;break;case 7:if("chronicle"!=t.$route.params.category){r.next=13;break}return r.next=10,bs.searchArticles(e,"chronicle");case 10:t.articles=r.sent,r.next=16;break;case 13:return r.next=15,bs.searchArticles(e,"all");case 15:t.articles=r.sent;case 16:r.next=33;break;case 18:if("sport"!=t.$route.params.category){r.next=24;break}return r.next=21,bs.getArticles("sport");case 21:t.articles=r.sent,r.next=33;break;case 24:if("chronicle"!=t.$route.params.category){r.next=30;break}return r.next=27,bs.getArticles("chronicle");case 27:t.articles=r.sent,r.next=33;break;case 30:return r.next=32,bs.getArticles("all");case 32:t.articles=r.sent;case 33:t.filterArticles(),t.changePageArticles();case 35:case"end":return r.stop()}}),r)})))()},toggleSource:function(e){if("24ur"==e)if(this.toggledSources.ur=!this.toggledSources.ur,this.toggledSources.ur)this.toggledSources.list.push("24ur");else{var t=this.toggledSources.list.indexOf("24ur");this.toggledSources.list.splice(t,1)}else if("Slovenske Novice"==e)if(this.toggledSources.SlovenskeNovice=!this.toggledSources.SlovenskeNovice,this.toggledSources.SlovenskeNovice)this.toggledSources.list.push("Slovenske Novice");else{var r=this.toggledSources.list.indexOf("Slovenske Novice");this.toggledSources.list.splice(r,1)}else if(this.toggledSources[e]=!this.toggledSources[e],this.toggledSources[e])this.toggledSources.list.push(e);else{var n=this.toggledSources.list.indexOf(e);this.toggledSources.list.splice(n,1)}this.filterArticles()},filterArticles:function(){var e=this;this.filteredArticles=this.articles.filter((function(t){return e.toggledSources.list.includes(t.source)})),this.pages=Math.ceil(this.filteredArticles.length/30),this.orderArticles(),this.changePageArticles()},orderSelect:function(e){this.order=e,this.orderArticles(),this.changePageArticles()},orderArticles:function(){switch(this.order){case"newest":this.filteredArticles.sort((function(e,t){return t.timestamp>e.timestamp?1:-1}));break;case"oldest":this.filteredArticles.sort((function(e,t){return e.timestamp>t.timestamp?1:-1}));break;case"popular":this.filteredArticles.sort((function(e,t){return t.likes.length-e.likes.length||t.timestamp-e.timestamp}));break;default:this.filteredArticles.sort((function(e,t){return t.timestamp>e.timestamp?1:-1}));break}},toggleVisibility:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,bs.toggleVisibility(e);case 3:t.getArticles(),t.$emit("notify",{type:"success",message:"Vidnost članka je bila spremenjena"}),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),t.error=r.t0.message;case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},deleteArticleConfirm:function(e){this.deleteID=e,this.alert=!0},alertOK:function(){this.alert=!1,this.deleteArticle(this.deleteID)},alertCancel:function(){this.alert=!1,this.deleteID=""},deleteArticle:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,bs.deleteArticle(e);case 3:t.getArticles(),t.$emit("notify",{type:"success",message:"Članek je bil izbrisan"}),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),t.error=r.t0.message;case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()}},beforeMount:function(){this.isAdmin||Do.push("/login"),this.getArticles()}};r("d67a");const ps=oe()(hs,[["render",ls],["__scopeId","data-v-30fb0a7c"]]);var ms=ps,fs=function(e){return Object(n["w"])("data-v-6d1242d1"),e=e(),Object(n["u"])(),e},js={class:"text-3xl border-b border-gray-600 pb-4 mb-10"},gs=Object(n["i"])("Admin"),Os=Object(n["i"])(" > "),vs=fs((function(){return Object(n["h"])("span",{class:"text-green-600"},"Uporabniki",-1)})),ks={class:"block overflow-auto"},ys={class:"w-full"},xs=fs((function(){return Object(n["h"])("tr",{class:"rounded-t-md"},[Object(n["h"])("th",{class:"username"},"Username"),Object(n["h"])("th",{class:"email"},"Email"),Object(n["h"])("th",{class:"actions"},"Actions")],-1)})),ws=["item","index","user"],As={class:"actions-container"},Rs=fs((function(){return Object(n["h"])("i",{class:"fas fa-pen"},null,-1)})),Cs=fs((function(){return Object(n["h"])("div",{class:"tooltip"},[Object(n["h"])("p",null,"Edit")],-1)})),Ps=["onClick"],Ss=fs((function(){return Object(n["h"])("i",{class:"fas fa-trash"},null,-1)})),_s=fs((function(){return Object(n["h"])("div",{class:"tooltip"},[Object(n["h"])("p",null,"Delete")],-1)})),Us=[Ss,_s];function Is(e,t,r,c,a,i){var s=Object(n["A"])("router-link"),o=Object(n["A"])("Searchbar"),u=Object(n["A"])("Paginator"),l=Object(n["A"])("OrderSelect"),d=Object(n["A"])("Alert");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",js,[Object(n["j"])(s,{to:"/admin"},{default:Object(n["H"])((function(){return[gs]})),_:1}),Os,vs]),Object(n["j"])(o,{onSearch:i.search},null,8,["onSearch"]),a.pages>1?(Object(n["t"])(),Object(n["e"])(u,{key:0,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["j"])(l,{order:a.order,onSelect:i.orderSelect},null,8,["order","onSelect"]),Object(n["h"])("div",ks,[Object(n["h"])("table",ys,[xs,(Object(n["t"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(a.shownUsers,(function(e,t){return Object(n["t"])(),Object(n["g"])("tr",{item:e,index:t,key:e._id,user:e},[Object(n["h"])("td",null,Object(n["C"])(e.username),1),Object(n["h"])("td",null,[Object(n["h"])("p",null,Object(n["C"])(e.email),1)]),Object(n["h"])("td",null,[Object(n["h"])("div",As,[Object(n["h"])("span",null,[Object(n["j"])(s,{to:"/admin/user/"+e._id},{default:Object(n["H"])((function(){return[Rs,Cs]})),_:2},1032,["to"])]),Object(n["h"])("span",{onClick:function(t){return i.deleteUserConfirm(e._id)}},Us,8,Ps)])])],8,ws)})),128))])]),a.pages>1?(Object(n["t"])(),Object(n["e"])(u,{key:1,pages:a.pages,currentPage:a.currentPage,onChangePage:i.changePage},null,8,["pages","currentPage","onChangePage"])):Object(n["f"])("",!0),Object(n["j"])(d,{text:"Želite zavedno izbrisati uporabnika?",open:a.alert,onOk:i.alertOK,onCancel:i.alertCancel},null,8,["open","onOk","onCancel"])],64)}var Es={name:"AdminUsers",components:{Paginator:je,Searchbar:Re,OrderSelect:qe,Alert:yc},emits:["notify"],computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})),data:function(){return{alert:!1,users:[],shownUsers:[],pages:10,currentPage:1,order:"newest",deleteID:"",error:""}},methods:{getUsers:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,bs.getUsers();case 3:e.users=t.sent,e.pages=Math.ceil(e.users.length/30),e.changePageUsers(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.error=t.t0.message;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},changePage:function(e){this.currentPage=e,this.changePageUsers()},changePageUsers:function(){this.shownUsers=this.users.slice(30*(this.currentPage-1),30*this.currentPage)},search:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(""==e){r.next=6;break}return r.next=3,bs.searchUsers(e);case 3:t.users=r.sent,r.next=9;break;case 6:return r.next=8,bs.getUsers();case 8:t.users=r.sent;case 9:t.changePageUsers();case 10:case"end":return r.stop()}}),r)})))()},orderSelect:function(e){this.order=e,this.orderUsers(),this.changePageUsers()},orderUsers:function(){switch(this.order){case"newest":this.users.sort((function(e,t){return t.createdAt>e.createdAt?1:-1}));break;case"oldest":this.users.sort((function(e,t){return e.createdAt>t.createdAt?1:-1}));break;default:this.users.sort((function(e,t){return t.createdAt>e.createdAt?1:-1}));break}},deleteUserConfirm:function(e){this.deleteID=e,this.alert=!0},alertOK:function(){this.alert=!1,this.deleteUser(this.deleteID)},alertCancel:function(){this.alert=!1,this.deleteID=""},deleteUser:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,bs.deleteUser(e);case 3:t.getUsers(),t.$emit("notify",{type:"success",message:"Izbrisal uporabnika"}),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),t.error=r.t0.message;case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()}},beforeMount:function(){this.isAdmin||Do.push("/login"),this.getUsers()}};r("a385");const $s=oe()(Es,[["render",Is],["__scopeId","data-v-6d1242d1"]]);var Ds=$s,Ns=function(e){return Object(n["w"])("data-v-b4e516ca"),e=e(),Object(n["u"])(),e},zs={class:"text-3xl text-center"},Ts=Object(n["i"])("Admin"),Ls=Object(n["i"])(" > "),Hs=Object(n["i"])("Uporabniki"),Ms=Object(n["i"])(" > "),Fs=Ns((function(){return Object(n["h"])("span",{class:"text-green-600"},"Urejanje uporabnika",-1)})),Vs={class:"my-10 border border-gray-400 rounded-md shadow-md flex flex-row flex-wrap sm:flex-nowrap overflow-hidden"},qs={class:"w-full"},Bs={class:"form-control"},Ks=Ns((function(){return Object(n["h"])("span",{class:"font-bold text-lg"},"ID: ",-1)})),Zs={class:"form-control"},Gs=Ns((function(){return Object(n["h"])("label",{for:"email"},"E-Pošta",-1)})),Ws={class:"input-container"},Js=Ns((function(){return Object(n["h"])("span",{class:"icon-container"},[Object(n["h"])("i",{class:"far fa-envelope"})],-1)})),Qs={class:"form-control"},Xs=Ns((function(){return Object(n["h"])("label",{for:"username"},"Uporabniško Ime",-1)})),Ys={class:"input-container"},eo=Ns((function(){return Object(n["h"])("span",{class:"icon-container"},[Object(n["h"])("i",{class:"fas fa-user"})],-1)})),to={class:"form-control"},ro={class:"error"},no=Ns((function(){return Object(n["h"])("hr",{class:"border-gray-400"},null,-1)})),co={class:"form-control"},ao={key:0,class:"text-red-500 font-semibold text-lg"},io=Ns((function(){return Object(n["h"])("label",{for:"muteDays"},"Blokiraj uporabnika za:",-1)})),so={class:"input-container"},oo=Ns((function(){return Object(n["h"])("span",{class:"icon-container"},"dni",-1)})),uo={class:"flex justify-between"};function lo(e,t,r,c,a,i){var s=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",zs,[Object(n["h"])("span",null,[Object(n["j"])(s,{to:"/admin"},{default:Object(n["H"])((function(){return[Ts]})),_:1})]),Ls,Object(n["h"])("span",null,[Object(n["j"])(s,{to:"/admin/users"},{default:Object(n["H"])((function(){return[Hs]})),_:1})]),Ms,Fs]),Object(n["h"])("div",Vs,[Object(n["h"])("div",qs,[Object(n["h"])("div",Bs,[Ks,Object(n["h"])("span",{class:"cursor-pointer",onClick:t[0]||(t[0]=function(e){return i.copyID(a.editUser._id)})},Object(n["C"])(a.editUser._id),1)]),Object(n["h"])("div",Zs,[Gs,Object(n["h"])("div",Ws,[Js,Object(n["I"])(Object(n["h"])("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.editUser.email=e}),placeholder:"primer@mail.com"},null,512),[[n["F"],a.editUser.email]])])]),Object(n["h"])("div",Qs,[Xs,Object(n["h"])("div",Ys,[eo,Object(n["I"])(Object(n["h"])("input",{type:"text",id:"username","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.editUser.username=e}),placeholder:"Vpišite vaše uporabniško ime"},null,512),[[n["F"],a.editUser.username]])])]),Object(n["h"])("div",to,[Object(n["h"])("p",ro,Object(n["C"])(a.error),1),Object(n["h"])("p",null,Object(n["C"])(a.notice),1),Object(n["h"])("button",{class:"p-2 text-white rounded-sm bg-green-500 hover:bg-green-400 text-xl transition duration-200",onClick:t[3]||(t[3]=function(){return i.updateUser&&i.updateUser.apply(i,arguments)})}," Shrani spremembe ")]),no,Object(n["h"])("div",co,[a.editUser.muteExpiration?(Object(n["t"])(),Object(n["g"])("p",ao,Object(n["C"])("Uporabnik je blokiran do "+a.mutedString),1)):Object(n["f"])("",!0),io,Object(n["h"])("div",so,[Object(n["I"])(Object(n["h"])("input",{type:"number",id:"muteDays","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.muteDays=e})},null,512),[[n["F"],a.muteDays]]),oo]),Object(n["h"])("div",uo,[Object(n["h"])("button",{onClick:t[5]||(t[5]=function(){return i.muteUser&&i.muteUser.apply(i,arguments)}),class:"p-2 mt-3 text-white rounded-sm bg-green-500 hover:bg-green-400 text-xl transition duration-200"}," Blokiraj "),Object(n["h"])("button",{onClick:t[6]||(t[6]=function(){return i.unmuteUser&&i.unmuteUser.apply(i,arguments)}),class:"p-2 mt-3 text-white rounded-sm bg-green-500 hover:bg-green-400 text-xl transition duration-200"}," Razveljavi ")])])])])],64)}ic.a.locale("sl");var bo={name:"AdminUserEdit",computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})),emits:["notify"],data:function(){return{editUser:{},error:"",notice:"",muteDays:null,mutedString:""}},methods:{getUser:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,bs.getUser(e);case 3:n=r.sent,n.data?t.editUser=n.data:t.$emit("notify",{type:"error",message:n}),t.editUser.muteExpiration&&(t.mutedString=ic()(t.editUser.muteExpiration).format("LLL")),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),t.$emit("notify",{type:"error",message:r.t0});case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},copyID:function(e){navigator.clipboard.writeText(e)},updateUser:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,bs.updateUser({_id:e.editUser._id,username:e.editUser.username,email:e.editUser.email});case 3:r=t.sent,200==r.status?e.$emit("notify",{type:"success",message:"Uporabnik je bil posodobljen"}):e.$emit("notify",{type:"error",message:r}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$emit("notify",{type:"error",message:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},muteUser:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,bs.muteUser(e.editUser._id,e.muteDays);case 3:e.muteDays=null,e.getUser(e.$route.params.id),e.$emit("notify",{type:"success",message:"Muted"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$emit("notify",{type:"error",message:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},unmuteUser:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,bs.unmuteUser(e.editUser._id);case 3:e.muteDays=null,e.getUser(e.$route.params.id),e.$emit("notify",{type:"success",message:"Unmuted"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$emit("notify",{type:"error",message:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},beforeMount:function(){this.isAdmin||Do.push("/login"),this.getUser(this.$route.params.id)}};r("45f9");const ho=oe()(bo,[["render",lo],["__scopeId","data-v-b4e516ca"]]);var po=ho,mo=function(e){return Object(n["w"])("data-v-5d7329cd"),e=e(),Object(n["u"])(),e},fo={class:"text-3xl border-b border-gray-600 pb-4 mb-10"},jo=Object(n["i"])("Admin"),go=Object(n["i"])(" > "),Oo=mo((function(){return Object(n["h"])("span",{class:"text-green-600"},"Posodabljanje novic",-1)})),vo={class:"flex flex-row justify-between"},ko={key:0,class:"flex justify-center mt-10"},yo=["src"],xo={key:1,class:"table-fixed"},wo=mo((function(){return Object(n["h"])("tr",{class:"rounded-t-md"},[Object(n["h"])("th",{class:"source"},"Source"),Object(n["h"])("th",{class:"title"},"Title"),Object(n["h"])("th",{class:"datetime"},"Date & Time")],-1)})),Ao=["item","index","article"],Ro={class:"text-center"},Co={class:"font-bold"};function Po(e,t,r,c,a,i){var s=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",fo,[Object(n["j"])(s,{to:"/admin"},{default:Object(n["H"])((function(){return[jo]})),_:1}),go,Oo]),Object(n["h"])("div",vo,[Object(n["h"])("button",{onClick:t[0]||(t[0]=function(e){return i.updateArticles("all")})},"Vse"),Object(n["h"])("button",{onClick:t[1]||(t[1]=function(e){return i.updateArticles("24ur")})},"24ur"),Object(n["h"])("button",{onClick:t[2]||(t[2]=function(e){return i.updateArticles("siol")})},"Siol"),Object(n["h"])("button",{onClick:t[3]||(t[3]=function(e){return i.updateArticles("delo")})},"Delo")]),a.loading?(Object(n["t"])(),Object(n["g"])("div",ko,[Object(n["h"])("img",{src:a.loadingGif,alt:"loading..."},null,8,yo)])):Object(n["f"])("",!0),a.newArticles&&!a.loading?(Object(n["t"])(),Object(n["g"])("table",xo,[wo,(Object(n["t"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(a.newArticles,(function(e,t){return Object(n["t"])(),Object(n["g"])("tr",{item:e,index:t,key:e._id,article:e},[Object(n["h"])("td",null,Object(n["C"])(e.source),1),Object(n["h"])("td",null,[Object(n["j"])(s,{to:"/article/"+e._id},{default:Object(n["H"])((function(){return[Object(n["i"])(Object(n["C"])(e.title),1)]})),_:2},1032,["to"])]),Object(n["h"])("td",Ro,[Object(n["h"])("p",null,Object(n["C"])(e.date),1),Object(n["h"])("p",Co,Object(n["C"])(e.time),1)])],8,Ao)})),128))])):Object(n["f"])("",!0)],64)}var So=r("cf1c"),_o={name:"AdminArticlesUpdate",components:{},emits:["notify"],computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})),data:function(){return{newArticles:null,loading:!1,loadingGif:So,error:""}},methods:{updateArticles:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.loading){r.next=2;break}return r.abrupt("return");case 2:return t.loading=!0,r.prev=3,r.next=6,bs.updateArticles(e);case 6:t.newArticles=r.sent,t.$emit("notify",{type:"success",message:"Članki so bili dodani"}),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](3),t.error=r.t0.message;case 13:t.loading=!1;case 14:case"end":return r.stop()}}),r,null,[[3,10]])})))()}},beforeMount:function(){this.isAdmin||Do.push("/login")}};r("fc38");const Uo=oe()(_o,[["render",Po],["__scopeId","data-v-5d7329cd"]]);var Io=Uo,Eo=[{path:"/",name:"Home",component:Je},{path:"/news",name:"News",component:Je},{path:"/news/:category",name:"News",component:Je},{path:"/login",name:"Login",component:ft,beforeEnter:function(e,t,r){if(localStorage.getItem("token"))return r({name:"Dashboard"});r()}},{path:"/register",name:"Register",component:Kt,beforeEnter:function(e,t,r){if(localStorage.getItem("token"))return r({name:"Dashboard"});r()}},{path:"/dashboard",name:"Dashboard",component:Hc,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/profile",name:"Profile",component:Oa,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/read",name:"Read",component:Ya,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/liked",name:"Liked",component:mi,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/today",name:"Today",component:Ui},{path:"/article/:id",name:"Article",component:Ac},{path:"/admin",name:"Admin",component:Mi,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/admin/articles",name:"AdminArticles",component:ms,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/admin/users",name:"AdminUsers",component:Ds,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/admin/user/:id",name:"AdminUserEdit",component:po,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}},{path:"/admin/articles/update",name:"AdminArticlesUpdate",component:Io,beforeEnter:function(e,t,r){if(!localStorage.getItem("token"))return r({name:"Login"});r()}}],$o=Object(S["a"])({history:Object(S["b"])("/"),routes:Eo}),Do=$o,No={name:"Header",computed:Object(C["a"])({},Object(P["c"])({authenticated:"auth/authenticated",user:"auth/user"})),emits:["openMenu"],methods:Object(C["a"])(Object(C["a"])({},Object(P["b"])({logoutAction:"auth/logout"})),{},{logout:function(){Do.push("/"),this.logoutAction()}})};r("bf8d");const zo=oe()(No,[["render",R],["__scopeId","data-v-430d8b42"]]);var To=zo,Lo=function(e){return Object(n["w"])("data-v-1016be98"),e=e(),Object(n["u"])(),e},Ho=Lo((function(){return Object(n["h"])("h1",{class:"text-center font-semibold text-4xl text-white"},"Footer",-1)})),Mo=[Ho];function Fo(e,t,r,c,a,i){return Object(n["t"])(),Object(n["g"])("footer",null,Mo)}var Vo={name:"Footer"};r("b5fb");const qo=oe()(Vo,[["render",Fo],["__scopeId","data-v-1016be98"]]);var Bo=qo,Ko={class:"notifications-container"},Zo=["item","index","notification"];function Go(e,t,r,c,a,i){return Object(n["t"])(),Object(n["g"])("div",Ko,[Object(n["h"])("ul",null,[(Object(n["t"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(r.notifications,(function(e,t){return Object(n["t"])(),Object(n["g"])("li",{item:e,index:t,key:t,notification:e},[Object(n["h"])("div",{class:Object(n["p"])(["notification",{success:"success"==e.type,error:"error"==e.type}])},Object(n["C"])(e.message),3)],8,Zo)})),128))])])}var Wo={name:"Notifications",props:{notifications:Array}};r("2c48");const Jo=oe()(Wo,[["render",Go],["__scopeId","data-v-1b0b04a0"]]);var Qo=Jo,Xo=function(e){return Object(n["w"])("data-v-1c037267"),e=e(),Object(n["u"])(),e},Yo={key:0,class:"menu"},eu={class:"menu-head"},tu={class:"menu-body"},ru=Xo((function(){return Object(n["h"])("span",{class:"text-xl uppercase"},"Domov",-1)})),nu=Xo((function(){return Object(n["h"])("span",{class:"text-xl uppercase"},"Šport",-1)})),cu=Xo((function(){return Object(n["h"])("span",{class:"text-xl uppercase"},"Danes",-1)}));function au(e,t,r,c,a,i){var s=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["j"])(n["b"],{name:"fade"},{default:Object(n["H"])((function(){return[r.open?(Object(n["t"])(),Object(n["g"])("div",{key:0,class:"menu-background",onClick:t[0]||(t[0]=function(){return i.close&&i.close.apply(i,arguments)})})):Object(n["f"])("",!0)]})),_:1}),Object(n["j"])(n["b"],{name:"slide-fade"},{default:Object(n["H"])((function(){return[r.open?(Object(n["t"])(),Object(n["g"])("div",Yo,[Object(n["h"])("div",eu,[Object(n["h"])("i",{class:"fas fa-window-close text-3xl",onClick:t[1]||(t[1]=function(){return i.close&&i.close.apply(i,arguments)})}),Object(n["j"])(s,{to:"/"},{default:Object(n["H"])((function(){return[Object(n["h"])("span",{class:"text-4xl ml-10",onClick:t[2]||(t[2]=function(){return i.close&&i.close.apply(i,arguments)})},"Novice")]})),_:1})]),Object(n["h"])("div",tu,[Object(n["h"])("ul",null,[Object(n["h"])("li",null,[Object(n["j"])(s,{to:"/",onClick:i.close},{default:Object(n["H"])((function(){return[ru]})),_:1},8,["onClick"])]),Object(n["h"])("li",null,[Object(n["j"])(s,{to:"/news/sport",onClick:i.close},{default:Object(n["H"])((function(){return[nu]})),_:1},8,["onClick"])]),Object(n["h"])("li",null,[Object(n["j"])(s,{to:"/today",onClick:i.close},{default:Object(n["H"])((function(){return[cu]})),_:1},8,["onClick"])])])])])):Object(n["f"])("",!0)]})),_:1})],64)}var iu={name:"Menu",emits:["closeMenu"],props:["open"],data:function(){return{}},methods:{close:function(){this.$emit("closeMenu")}}};r("cb51");const su=oe()(iu,[["render",au],["__scopeId","data-v-1c037267"]]);var ou=su,uu={components:{Header:To,Footer:Bo,Notifications:Qo,Menu:ou},data:function(){return{fade:!1,menu:!1,notifications:[]}},methods:{scrollUp:function(){window.scroll({top:0,behavior:"smooth"})},fadeContent:function(){var e=this;this.fade=!1,this.fade=!0,setTimeout((function(){e.fade=!1}),1e3)},addNotification:function(e){var t=this,r={type:e.type,message:e.message,createdAt:Date.now()};this.notifications.push(r),setTimeout((function(){var e=t.notifications.indexOf(r);t.notifications.splice(e,1)}),5e3)},openMenu:function(){this.menu=!0},closeMenu:function(){this.menu=!1}},watch:{$route:function(){this.fadeContent()}}};r("ed4a");const lu=oe()(uu,[["render",s]]);var du=lu,bu=(r("ba8c"),r("0e44")),hu={namespaced:!0,state:{token:null,user:null},getters:{authenticated:function(e){return!(!e.token||!e.user)},isAdmin:function(e){return!!e.user.isAdmin},muted:function(e){return!(!(e.user.muteExpiration&&new Date(e.user.muteExpiration)>new Date)||e.user.isAdmin)},user:function(e){return e.user}},mutations:{SET_TOKEN:function(e,t){e.token=t},SET_USER:function(e,t){e.user=t}},actions:{saveToken:function(e,t){var r=e.dispatch;localStorage.setItem("token",t),r("tryToken")},tryToken:function(e){return Object(I["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,localStorage.getItem("token")){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,T.post("users/token");case 6:n=t.sent,r("SET_TOKEN",localStorage.getItem("token")),r("SET_USER",n.data),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),403==t.t0.response.status&&(localStorage.removeItem("token"),r("SET_USER",null),r("SET_TOKEN",null));case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()},logout:function(e){var t=e.commit;localStorage.removeItem("token"),t("SET_USER",null),t("SET_TOKEN",null)}}},pu=Object(P["a"])({state:{},mutations:{},actions:{},modules:{auth:hu},plugins:[Object(bu["a"])()]});pu.dispatch("auth/tryToken"),Object(n["d"])(du).use(pu).use(Do).mount("#app")},5745:function(e,t,r){},"5d1a":function(e,t,r){"use strict";r("9a1a")},"61d9":function(e,t,r){"use strict";r("b539")},"6a71":function(e,t,r){"use strict";r("9ec2")},7140:function(e,t,r){},7448:function(e,t,r){"use strict";r("ea8a")},"7e13":function(e,t,r){"use strict";r("494f")},"7ea1":function(e,t,r){"use strict";r("92630")},"80ac":function(e,t,r){"use strict";r("bda9")},"81f8":function(e,t,r){"use strict";r("4ecb")},"8cae":function(e,t,r){},"8d4c":function(e,t,r){},92630:function(e,t,r){},"93ff":function(e,t,r){},9416:function(e,t,r){},"96a1":function(e,t,r){},"9a1a":function(e,t,r){},"9a8b":function(e,t,r){"use strict";r("96a1")},"9d0e":function(e,t,r){},"9ec2":function(e,t,r){},a00a:function(e,t,r){"use strict";r("5745")},a385:function(e,t,r){"use strict";r("c4b3")},aafe:function(e,t,r){},abe6:function(e,t,r){},b491:function(e,t,r){"use strict";r("abe6")},b539:function(e,t,r){},b5fb:function(e,t,r){"use strict";r("9d0e")},ba33:function(e,t,r){},ba8c:function(e,t,r){},bda9:function(e,t,r){},bf8d:function(e,t,r){"use strict";r("aafe")},c4b3:function(e,t,r){},c71c:function(e,t,r){"use strict";r("93ff")},cb51:function(e,t,r){"use strict";r("9416")},cdac:function(e,t,r){"use strict";r("8cae")},cf1c:function(e,t,r){e.exports=r.p+"img/loading.cb5508a9.gif"},d088:function(e,t,r){"use strict";r("8d4c")},d67a:function(e,t,r){"use strict";r("7140")},e270:function(e,t,r){e.exports=r.p+"img/image_not_available.6ce9535f.png"},e87c:function(e,t,r){"use strict";r("05bd")},ea8a:function(e,t,r){},ec64:function(e,t,r){"use strict";r("ee07")},ecfd:function(e,t,r){},ed4a:function(e,t,r){"use strict";r("4a12")},ee07:function(e,t,r){},fc38:function(e,t,r){"use strict";r("ff24")},ff24:function(e,t,r){}});
//# sourceMappingURL=app.b692b99e.js.map